"use strict";(self.webpackChunkDCKlbIDCard=self.webpackChunkDCKlbIDCard||[]).push([[303],{7303:(k,g,f)=>{f.r(g),f.d(g,{OfficeModule:()=>K});var _=f(6895),r=f(9585),u=f(4004),e=f(4650),x=f(8074),C=f(834),Z=f(2232),m=f(388),l=f(433);function v(n,c){1&n&&e._uU(0),2&n&&e.hij(" ",c.rowIndex+1," ")}function N(n,c){if(1&n&&(e._uU(0),e.ALo(1,"titlecase")),2&n){const t=c.row;e.hij(" ",e.lcZ(1,1,null==t?null:t.officeName)," ")}}function T(n,c){if(1&n&&e._uU(0),2&n){const t=c.row;e.hij(" ",null==t?null:t.officeAddress," ")}}function D(n,c){if(1&n&&e._uU(0),2&n){const t=c.row;e.hij(" ",null==t?null:t.deptName," ")}}function A(n,c){if(1&n&&e._uU(0),2&n){const t=c.row;e.hij(" ",null==t?null:t.districtName," ")}}function M(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){const a=e.CHM(t).row,d=e.oxw(),s=e.MAs(26);return e.KtG(d.captureEdit(a,s))}),e._UZ(1,"i",18),e.qZA(),e.TgZ(2,"div",17),e.NdJ("click",function(){const a=e.CHM(t).row,d=e.oxw(),s=e.MAs(28);return e.KtG(d.captureDialog(a,s))}),e._UZ(3,"i",19),e.qZA()}}function b(n,c){if(1&n&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.districtName)}}function O(n,c){if(1&n&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.deptName)}}function w(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"h4",21),e._uU(2,"Add office"),e.qZA(),e.TgZ(3,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.modalRef.hide())}),e.TgZ(4,"span",23),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",24)(7,"div",25)(8,"div",26)(9,"div",5)(10,"form")(11,"div",27)(12,"label",28),e._uU(13,"Office"),e.qZA(),e.TgZ(14,"input",29),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.officeData.officeName=o)}),e.qZA()(),e.TgZ(15,"div",27)(16,"label",30),e._uU(17,"Address"),e.qZA(),e.TgZ(18,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.officeData.officeAddress=o)}),e.qZA()(),e.TgZ(19,"div",27)(20,"label",32),e._uU(21,"District"),e.qZA(),e.TgZ(22,"select",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.officeData.districtID=o)})("change",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.districtNameChange(o))}),e._UZ(23,"option",34),e.YNc(24,b,2,2,"option",35),e.qZA()(),e.TgZ(25,"div",27)(26,"label",36),e._uU(27,"Department"),e.qZA(),e.TgZ(28,"select",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.officeData.deptID=o)})("change",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.deptNameChange(o))}),e._UZ(29,"option",34),e.YNc(30,O,2,2,"option",35),e.qZA()()()()()()(),e.TgZ(31,"div",38)(32,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveClick())}),e._uU(33,"Save"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(14),e.Q6J("ngModel",t.officeData.officeName),e.xp6(4),e.Q6J("ngModel",t.officeData.officeAddress),e.xp6(4),e.Q6J("ngModel",t.officeData.districtID),e.xp6(2),e.Q6J("ngForOf",t.distDataList),e.xp6(4),e.Q6J("ngModel",t.officeData.deptID),e.xp6(2),e.Q6J("ngForOf",t.deptDataList)}}function U(n,c){if(1&n&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.districtName)}}function J(n,c){if(1&n&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.deptName)}}function q(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"h4",21),e._uU(2,"Edit office"),e.qZA(),e.TgZ(3,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.modalRef.hide())}),e.TgZ(4,"span",23),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",24)(7,"div",25)(8,"div",26)(9,"div",5)(10,"form")(11,"div",27)(12,"label",28),e._uU(13,"Office Name"),e.qZA(),e.TgZ(14,"input",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.officeData.officeName=o)}),e.qZA()(),e.TgZ(15,"div",27)(16,"label",30),e._uU(17,"Address"),e.qZA(),e.TgZ(18,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.officeData.officeAddress=o)}),e.qZA()(),e.TgZ(19,"div",27)(20,"label",42),e._uU(21,"Office Abbrevation"),e.qZA(),e.TgZ(22,"input",43),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.officeData.officeAbbrev=o)}),e.qZA()(),e.TgZ(23,"div",27)(24,"label",32),e._uU(25,"District"),e.qZA(),e.TgZ(26,"select",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.officeData.districtID=o)})("change",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.districtNameChange(o))}),e._UZ(27,"option",34),e.YNc(28,U,2,2,"option",35),e.qZA()(),e.TgZ(29,"div",27)(30,"label",36),e._uU(31,"Department"),e.qZA(),e.TgZ(32,"select",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.officeData.deptID=o)})("change",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.deptNameChange(o))}),e._UZ(33,"option",34),e.YNc(34,J,2,2,"option",35),e.qZA()()()()()()(),e.TgZ(35,"div",38)(36,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateClick(o.selRow))}),e._uU(37,"Update"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(14),e.Q6J("ngModel",t.officeData.officeName),e.xp6(4),e.Q6J("ngModel",t.officeData.officeAddress),e.xp6(4),e.Q6J("ngModel",t.officeData.officeAbbrev),e.xp6(4),e.Q6J("ngModel",t.officeData.districtID),e.xp6(2),e.Q6J("ngForOf",t.distDataList),e.xp6(4),e.Q6J("ngModel",t.officeData.deptID),e.xp6(2),e.Q6J("ngForOf",t.deptDataList)}}function G(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"h4",21),e._uU(2,"Dialog"),e.qZA(),e.TgZ(3,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.modalRef.hide())}),e.TgZ(4,"span",23),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",24)(7,"div",25)(8,"div",26)(9,"div",5)(10,"div"),e._uU(11," Do you really want to delete the data: "),e.qZA(),e.TgZ(12,"div"),e._uU(13," Table: OFFICE,"),e._UZ(14,"br"),e._uU(15),e._UZ(16,"br"),e._uU(17),e.qZA()()()()(),e.TgZ(18,"div",38)(19,"button",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.captureDelete())}),e._uU(20,"Yes"),e.qZA(),e.TgZ(21,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.captureNo())}),e._uU(22,"No"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(15),e.hij(" Office Name : ",t.officeData.officeName,","),e.xp6(2),e.hij(" Office Address : ",t.officeData.officeAddress," ")}}let h=(()=>{var n;class c{constructor(i,o,a,d){this.districtService=i,this.departmentService=o,this.officeService=a,this.modalService=d,this.ColumnMode=r.hq,this.message="",this.officeData={officeName:"",officeAddress:"",officeAbbrev:"",deptID:"",deptName:"",districtID:"",districtName:""},this.retrieveDistrict()}ngOnInit(){this.retrieveOffice()}retrieveOffice(){this.officeService.getAll().snapshotChanges().pipe((0,u.U)(i=>i.map(o=>({id:o.payload.doc.id,...o.payload.doc.data()})))).subscribe(i=>{this.rows=i})}retrieveDistrict(){this.districtService.getAll().snapshotChanges().pipe((0,u.U)(i=>i.map(o=>({id:o.payload.doc.id,...o.payload.doc.data()})))).subscribe(i=>{this.distDataList=i})}captureAdd(i){this.modalRef=this.modalService.show(i)}saveClick(){this.officeService.create(this.officeData).then(()=>this.message=`The data for ${this.officeData.officeName} is added successfully.`).catch(i=>this.message=i),this.officeData={officeName:"",officeAddress:"",officeAbbrev:"",deptID:"",deptName:"",districtID:"",districtName:""},this.modalRef.hide()}captureEdit(i,o){this.officeData=i,this.districtNameChange1(i),this.modalRef=this.modalService.show(o),this.selRow=i.id}updateClick(i){this.officeService.update(i,this.officeData).then(()=>this.message=`The data for ${this.officeData.officeName} is updated successfully.`).catch(o=>this.message=o),this.officeData={officeName:"",officeAddress:"",officeAbbrev:"",deptID:"",deptName:"",districtID:"",districtName:""},this.modalRef.hide()}captureDialog(i,o){this.selRow=i.id,this.officeData=i,this.modalRef=this.modalService.show(o)}captureDelete(){this.officeService.delete(this.selRow).then(()=>this.message=`The data for ${this.officeData.officeName} is deleted successfully.`).catch(i=>this.message=i),this.officeData={officeName:"",officeAddress:"",officeAbbrev:"",deptID:"",deptName:"",districtID:"",districtName:""},this.modalRef.hide()}captureNo(){this.modalRef.hide()}districtNameChange(i){this.departmentService.getByDistrictID(i.target.value).subscribe(o=>{this.deptDataList=[],o.docs.forEach(a=>{let d=a.data();this.deptDataList.push({id:a.id,deptName:d.departmentName})})}),this.officeData.districtName=i.target.options[i.target.selectedIndex].text}districtNameChange1(i){this.departmentService.getByDistrictID(i.districtID).subscribe(o=>{this.deptDataList=[],o.docs.forEach(a=>{let d=a.data();this.deptDataList.push({id:a.id,deptName:d.departmentName})})}),this.officeData.districtName=i.districtName}deptNameChange(i){this.officeData.deptName=i.target.options[i.target.selectedIndex].text}}return(n=c).\u0275fac=function(i){return new(i||n)(e.Y36(x.R),e.Y36(C.n),e.Y36(Z.l),e.Y36(m.tT))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-office"]],decls:29,vars:13,consts:[[1,"container"],[1,"card","col-md-12","mb-3",2,"margin-top","10px"],[1,"card-header"],[1,"d-flex","justify-content-between"],[1,"btn","btn-outline-defalt",3,"click"],[1,"card-body"],["rowHeight","auto",1,"bootstrap",3,"rows","columnMode","headerHeight","footerHeight","limit"],["name","#",3,"flexGrow","maxWidth"],["ngx-datatable-cell-template",""],["name","Office",3,"flexGrow"],["name","Office Addr",3,"flexGrow"],["name","Department",3,"flexGrow"],["name","District",3,"flexGrow"],["name","Action","props","name",3,"flexGrow","maxWidth"],["modalAdd",""],["modalEdit",""],["modalDialog",""],[1,"btn",3,"click"],[1,"fa","fa-edit"],[1,"fa","fa-trash","text-danger"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"card"],[1,"card-block"],[1,"form-group"],["for","officeName"],["type","text","id","officeName","name","officeName","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","officeAddress"],["type","text","id","officeAddress","name","officeAddress","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","distName"],["id","distName","name","distName",1,"form-select",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","deptName"],["id","deptName","name","deptName",1,"form-select",3,"ngModel","ngModelChange","change"],[1,"modal-footer"],[1,"btn","text-right",3,"click"],[3,"value"],["type","text","id","officeName","name","officeName",1,"form-control",3,"ngModel","ngModelChange"],["for","officeAbbrev"],["type","text","id","officeAbbrev","name","officeAbbrev","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","text-right","btn-success",3,"click"],[1,"btn","text-right","btn-danger",3,"click"]],template:function(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div"),e._uU(5,"Office List"),e.qZA(),e.TgZ(6,"div",4),e.NdJ("click",function(){e.CHM(a);const s=e.MAs(24);return e.KtG(o.captureAdd(s))}),e._uU(7,"Add"),e.qZA()()(),e.TgZ(8,"div",5)(9,"ngx-datatable",6)(10,"ngx-datatable-column",7),e.YNc(11,v,1,1,"ng-template",8),e.qZA(),e.TgZ(12,"ngx-datatable-column",9),e.YNc(13,N,2,3,"ng-template",8),e.qZA(),e.TgZ(14,"ngx-datatable-column",10),e.YNc(15,T,1,1,"ng-template",8),e.qZA(),e.TgZ(16,"ngx-datatable-column",11),e.YNc(17,D,1,1,"ng-template",8),e.qZA(),e.TgZ(18,"ngx-datatable-column",12),e.YNc(19,A,1,1,"ng-template",8),e.qZA(),e.TgZ(20,"ngx-datatable-column",13),e.YNc(21,M,4,0,"ng-template",8),e.qZA(),e._uU(22,"> "),e.qZA()()()(),e.YNc(23,w,34,6,"ng-template",null,14,e.W1O),e.YNc(25,q,38,7,"ng-template",null,15,e.W1O),e.YNc(27,G,23,2,"ng-template",null,16,e.W1O)}2&i&&(e.xp6(9),e.Q6J("rows",o.rows)("columnMode",o.ColumnMode.force)("headerHeight",50)("footerHeight",50)("limit",10),e.xp6(1),e.Q6J("flexGrow",.5)("maxWidth",50),e.xp6(2),e.Q6J("flexGrow",3),e.xp6(2),e.Q6J("flexGrow",2),e.xp6(2),e.Q6J("flexGrow",2),e.xp6(2),e.Q6J("flexGrow",2),e.xp6(2),e.Q6J("flexGrow",1)("maxWidth",120))},dependencies:[_.sg,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.On,l.F,r.nE,r.UC,r.vq,_.rS]}),c})();var p=f(2507);const H=[{path:"",component:h}];let I=(()=>{var n;class c{}return(n=c).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(H),p.Bz]}),c})(),K=(()=>{var n;class c{}return(n=c).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[m.tT],imports:[_.ez,I,l.u5,l.UX,p.Bz.forChild([{path:"",component:h}]),r.xD,m.zk]}),c})()}}]);