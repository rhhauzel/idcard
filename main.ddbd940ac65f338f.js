"use strict";(self.webpackChunkDCKlbIDCard=self.webpackChunkDCKlbIDCard||[]).push([[179],{6217:(tn,st,L)=>{L.d(st,{nm:()=>os});var p=L(8405);L(4650),L(259);var We=L(5861),fe=L(6881),Ue=L(4859),ht=L(2090),vt=L(1877);const Ee=new Map,Ft={activated:!1,tokenObservers:[]},xt={initialized:!1,enabled:!1};function bt(Ge){return Ee.get(Ge)||Object.assign({},Ft)}function zt(){return xt}const wr="https://content-firebaseappcheck.googleapis.com/v1",Zt="exchangeDebugToken",ge={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ae{constructor(Be,nt,Tt,Ot,Bn){if(this.operation=Be,this.retryPolicy=nt,this.getWaitDuration=Tt,this.lowerBound=Ot,this.upperBound=Bn,this.pending=null,this.nextErrorWaitInterval=Ot,Ot>Bn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Be){var nt=this;return(0,We.Z)(function*(){nt.stop();try{nt.pending=new ht.BH,yield function Oe(Ge){return new Promise(Be=>{setTimeout(Be,Ge)})}(nt.getNextRun(Be)),nt.pending.resolve(),yield nt.pending.promise,nt.pending=new ht.BH,yield nt.operation(),nt.pending.resolve(),yield nt.pending.promise,nt.process(!0).catch(()=>{})}catch(Tt){nt.retryPolicy(Tt)?nt.process(!1).catch(()=>{}):nt.stop()}})()}getNextRun(Be){if(Be)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const nt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),nt}}}const mt=new ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Dt(Ge){if(!bt(Ge).activated)throw mt.create("use-before-activation",{appName:Ge.name})}function an(Ge,Be){return nr.apply(this,arguments)}function nr(){return(nr=(0,We.Z)(function*({url:Ge,body:Be},nt){const Tt={"Content-Type":"application/json"},Ot=nt.getImmediate({optional:!0});if(Ot){const jr=yield Ot.getHeartbeatsHeader();jr&&(Tt["X-Firebase-Client"]=jr)}const Bn={method:"POST",body:JSON.stringify(Be),headers:Tt};let jn,Vn;try{jn=yield fetch(Ge,Bn)}catch(jr){throw mt.create("fetch-network-error",{originalErrorMessage:jr?.message})}if(200!==jn.status)throw mt.create("fetch-status-error",{httpStatus:jn.status});try{Vn=yield jn.json()}catch(jr){throw mt.create("fetch-parse-error",{originalErrorMessage:jr?.message})}const rr=Vn.ttl.match(/^([\d.]+)(s)$/);if(!rr||!rr[2]||isNaN(Number(rr[1])))throw mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Vn.ttl}`});const si=1e3*Number(rr[1]),Bi=Date.now();return{token:Vn.token,expireTimeMillis:Bi+si,issuedAtTimeMillis:Bi}})).apply(this,arguments)}function hr(Ge,Be){const{projectId:nt,appId:Tt,apiKey:Ot}=Ge.options;return{url:`${wr}/projects/${nt}/apps/${Tt}:${Zt}?key=${Ot}`,body:{debug_token:Be}}}const pr="firebase-app-check-database",ur=1,Rr="firebase-app-check-store";let $t=null;function er(Ge,Be){return An.apply(this,arguments)}function An(){return(An=(0,We.Z)(function*(Ge,Be){const Tt=(yield function xn(){return $t||($t=new Promise((Ge,Be)=>{try{const nt=indexedDB.open(pr,ur);nt.onsuccess=Tt=>{Ge(Tt.target.result)},nt.onerror=Tt=>{var Ot;Be(mt.create("storage-open",{originalErrorMessage:null===(Ot=Tt.target.error)||void 0===Ot?void 0:Ot.message}))},nt.onupgradeneeded=Tt=>{0===Tt.oldVersion&&Tt.target.result.createObjectStore(Rr,{keyPath:"compositeKey"})}}catch(nt){Be(mt.create("storage-open",{originalErrorMessage:nt?.message}))}}),$t)}()).transaction(Rr,"readwrite"),Bn=Tt.objectStore(Rr).put({compositeKey:Ge,value:Be});return new Promise((jn,Vn)=>{Bn.onsuccess=rr=>{jn()},Tt.onerror=rr=>{var si;Vn(mt.create("storage-set",{originalErrorMessage:null===(si=rr.target.error)||void 0===si?void 0:si.message}))}})})).apply(this,arguments)}const ot=new vt.Yd("@firebase/app-check");function Ht(Ge,Be){return(0,ht.hl)()?function Or(Ge,Be){return er(function qe(Ge){return`${Ge.options.appId}-${Ge.name}`}(Ge),Be)}(Ge,Be).catch(nt=>{ot.warn(`Failed to write token to IndexedDB. Error: ${nt}`)}):Promise.resolve()}function cn(){return zt().enabled}function Wt(){return lr.apply(this,arguments)}function lr(){return(lr=(0,We.Z)(function*(){const Ge=zt();if(Ge.enabled&&Ge.token)return Ge.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Pn={error:"UNKNOWN_ERROR"};function tr(Ge){return ht.US.encodeString(JSON.stringify(Ge),!1)}function gr(Ge){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,We.Z)(function*(Ge,Be=!1){const nt=Ge.app;Dt(nt);const Tt=bt(nt);let Bn,Ot=Tt.token;if(Ot&&!ee(Ot)&&(Tt.token=void 0,Ot=void 0),!Ot){const rr=yield Tt.cachedTokenPromise;rr&&(ee(rr)?Ot=rr:yield Ht(nt,void 0))}if(!Be&&Ot&&ee(Ot))return{token:Ot.token};let Vn,jn=!1;if(cn()){Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=an(hr(nt,yield Wt()),Ge.heartbeatServiceProvider).finally(()=>{Tt.exchangeTokenPromise=void 0}),jn=!0);const rr=yield Tt.exchangeTokenPromise;return yield Ht(nt,rr),Tt.token=rr,{token:rr.token}}try{Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=Tt.provider.getToken().finally(()=>{Tt.exchangeTokenPromise=void 0}),jn=!0),Ot=yield bt(nt).exchangeTokenPromise}catch(rr){"appCheck/throttled"===rr.code?ot.warn(rr.message):ot.error(rr),Bn=rr}return Ot?Bn?Vn=ee(Ot)?{token:Ot.token,internalError:Bn}:Fe(Bn):(Vn={token:Ot.token},Tt.token=Ot,yield Ht(nt,Ot)):Vn=Fe(Bn),jn&&function ce(Ge,Be){const nt=bt(Ge).tokenObservers;for(const Tt of nt)try{"EXTERNAL"===Tt.type&&null!=Be.error?Tt.error(Be.error):Tt.next(Be)}catch{}}(nt,Vn),Vn})).apply(this,arguments)}function Dr(Ge){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,We.Z)(function*(Ge){const Be=Ge.app;Dt(Be);const{provider:nt}=bt(Be);if(cn()){const Tt=yield Wt(),{token:Ot}=yield an(hr(Be,Tt),Ge.heartbeatServiceProvider);return{token:Ot}}{const{token:Tt}=yield nt.getToken();return{token:Tt}}})).apply(this,arguments)}function Me(Ge,Be){const nt=bt(Ge),Tt=nt.tokenObservers.filter(Ot=>Ot.next!==Be);0===Tt.length&&nt.tokenRefresher&&nt.tokenRefresher.isRunning()&&nt.tokenRefresher.stop(),nt.tokenObservers=Tt}function De(Ge){const{app:Be}=Ge,nt=bt(Be);let Tt=nt.tokenRefresher;Tt||(Tt=function ie(Ge){const{app:Be}=Ge;return new Ae((0,We.Z)(function*(){let Tt;if(Tt=bt(Be).token?yield gr(Ge,!0):yield gr(Ge),Tt.error)throw Tt.error;if(Tt.internalError)throw Tt.internalError}),()=>!0,()=>{const nt=bt(Be);if(nt.token){let Tt=nt.token.issuedAtTimeMillis+.5*(nt.token.expireTimeMillis-nt.token.issuedAtTimeMillis)+3e5;return Tt=Math.min(Tt,nt.token.expireTimeMillis-3e5),Math.max(0,Tt-Date.now())}return 0},ge.RETRIAL_MIN_WAIT,ge.RETRIAL_MAX_WAIT)}(Ge),nt.tokenRefresher=Tt),!Tt.isRunning()&&nt.isTokenAutoRefreshEnabled&&Tt.start()}function ee(Ge){return Ge.expireTimeMillis-Date.now()>0}function Fe(Ge){return{token:tr(Pn),error:Ge}}class pe{constructor(Be,nt){this.app=Be,this.heartbeatServiceProvider=nt}_delete(){const{tokenObservers:Be}=bt(this.app);for(const nt of Be)Me(this.app,nt.next);return Promise.resolve()}}const Wi="app-check-internal";!function br(){(0,fe._registerComponent)(new Ue.wA("app-check",Ge=>function _e(Ge,Be){return new pe(Ge,Be)}(Ge.getProvider("app").getImmediate(),Ge.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ge,Be,nt)=>{Ge.getProvider(Wi).initialize()})),(0,fe._registerComponent)(new Ue.wA(Wi,Ge=>function le(Ge){return{getToken:Be=>gr(Ge,Be),getLimitedUseToken:()=>Dr(Ge),addTokenListener:Be=>function mr(Ge,Be,nt,Tt){const{app:Ot}=Ge,Bn=bt(Ot);if(Bn.tokenObservers=[...Bn.tokenObservers,{next:nt,error:Tt,type:Be}],Bn.token&&ee(Bn.token)){const Vn=Bn.token;Promise.resolve().then(()=>{nt({token:Vn.token}),De(Ge)}).catch(()=>{})}Bn.cachedTokenPromise.then(()=>De(Ge))}(Ge,"INTERNAL",Be),removeTokenListener:Be=>Me(Ge.app,Be)}}(Ge.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)("@firebase/app-check","0.8.0")}();class os{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},1205:(tn,st,L)=>{L.d(st,{zQ:()=>wr,ww:()=>vr,rT:()=>xt,f7:()=>gn,L6:()=>Ee,_Q:()=>Ft,lh:()=>bt,Qv:()=>vt,nw:()=>zt});var p=L(4650),Z=L(7579),K=L(9646),$=L(9751),Le=L(8996),ke=L(6451),Ye=L(5363),je=L(3900),Ve=L(4004),de=L(6063);class he extends Z.x{constructor(Zt=1/0,ge=1/0,ye=de.l){super(),this._bufferSize=Zt,this._windowTime=ge,this._timestampProvider=ye,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ge===1/0,this._bufferSize=Math.max(1,Zt),this._windowTime=Math.max(1,ge)}next(Zt){const{isStopped:ge,_buffer:ye,_infiniteTimeWindow:Ae,_timestampProvider:Oe,_windowTime:ut}=this;ge||(ye.push(Zt),!Ae&&ye.push(Oe.now()+ut)),this._trimBuffer(),super.next(Zt)}_subscribe(Zt){this._throwIfClosed(),this._trimBuffer();const ge=this._innerSubscribe(Zt),{_infiniteTimeWindow:ye,_buffer:Ae}=this,Oe=Ae.slice();for(let ut=0;ut<Oe.length&&!Zt.closed;ut+=ye?1:2)Zt.next(Oe[ut]);return this._checkFinalizedStatuses(Zt),ge}_trimBuffer(){const{_bufferSize:Zt,_timestampProvider:ge,_buffer:ye,_infiniteTimeWindow:Ae}=this,Oe=(Ae?1:2)*Zt;if(Zt<1/0&&Oe<ye.length&&ye.splice(0,ye.length-Oe),!Ae){const ut=ge.now();let mt=0;for(let Lt=1;Lt<ye.length&&ye[Lt]<=ut;Lt+=2)mt=Lt;mt&&ye.splice(0,mt+1)}}}var xe=L(3099);function Et(Fn,Zt,ge){let ye,Ae=!1;return Fn&&"object"==typeof Fn?({bufferSize:ye=1/0,windowTime:Zt=1/0,refCount:Ae=!1,scheduler:ge}=Fn):ye=Fn??1/0,(0,xe.B)({connector:()=>new he(ye,Zt,ge),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ae})}var He=L(590),tt=L(576);function _t(Fn,Zt){return(0,tt.m)(Zt)?(0,je.w)(()=>Fn,Zt):(0,je.w)(()=>Fn)}var Qe=L(9468),dt=L(9300),Ie=L(8405),Rt=L(2011),We=L(6895),fe=L(6217),Ue=L(9260);const vt=new p.OlP("angularfire2.auth.use-emulator"),Ee=new p.OlP("angularfire2.auth.settings"),Ft=new p.OlP("angularfire2.auth.tenant-id"),xt=new p.OlP("angularfire2.auth.langugage-code"),bt=new p.OlP("angularfire2.auth.use-device-language"),gn=new p.OlP("angularfire.auth.persistence"),zt=(Fn,Zt,ge,ye,Ae,Oe,ut,mt)=>(0,Rt.cc)(`${Fn.name}.auth`,"AngularFireAuth",Fn.name,()=>{const Lt=Zt.runOutsideAngular(()=>Fn.auth());if(ge&&Lt.useEmulator(...ge),ye&&(Lt.tenantId=ye),Lt.languageCode=Ae,Oe&&Lt.useDeviceLanguage(),ut)for(const[Dt,ln]of Object.entries(ut))Lt.settings[Dt]=ln;return mt&&Lt.setPersistence(mt),Lt},[ge,ye,Ae,Oe,ut,mt]);let wr=(()=>{class Fn{constructor(ge,ye,Ae,Oe,ut,mt,Lt,Dt,ln,yn,an,nr){const zn=new Z.x,Qn=(0,K.of)(void 0).pipe((0,Ye.Q)(ut.outsideAngular),(0,je.w)(()=>Oe.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,Ve.U)(()=>(0,Rt.on)(ge,Oe,ye)),(0,Ve.U)(hr=>zt(hr,Oe,mt,Dt,ln,yn,Lt,an)),Et({bufferSize:1,refCount:!1}));if((0,We.PM)(Ae))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,K.of)(null);else{Qn.pipe((0,He.P)()).subscribe();const pr=Qn.pipe((0,je.w)(wn=>wn.getRedirectResult().then($t=>$t,()=>null)),Ie.iC,Et({bufferSize:1,refCount:!1})),ur=Qn.pipe((0,je.w)(wn=>new $.y($t=>({unsubscribe:Oe.runOutsideAngular(()=>wn.onAuthStateChanged(xn=>$t.next(xn),xn=>$t.error(xn),()=>$t.complete()))})))),Rr=Qn.pipe((0,je.w)(wn=>new $.y($t=>({unsubscribe:Oe.runOutsideAngular(()=>wn.onIdTokenChanged(xn=>$t.next(xn),xn=>$t.error(xn),()=>$t.complete()))}))));this.authState=pr.pipe(_t(ur),(0,Qe.R)(ut.outsideAngular),(0,Ye.Q)(ut.insideAngular)),this.user=pr.pipe(_t(Rr),(0,Qe.R)(ut.outsideAngular),(0,Ye.Q)(ut.insideAngular)),this.idToken=this.user.pipe((0,je.w)(wn=>wn?(0,Le.D)(wn.getIdToken()):(0,K.of)(null))),this.idTokenResult=this.user.pipe((0,je.w)(wn=>wn?(0,Le.D)(wn.getIdTokenResult()):(0,K.of)(null))),this.credential=(0,ke.T)(pr,zn,this.authState.pipe((0,dt.h)(wn=>!wn))).pipe((0,Ve.U)(wn=>wn?.user?wn:null),(0,Qe.R)(ut.outsideAngular),(0,Ye.Q)(ut.insideAngular))}return(0,Rt.pX)(this,Qn,Oe,{spy:{apply:(hr,pr,ur)=>{(hr.startsWith("signIn")||hr.startsWith("createUser"))&&ur.then(Rr=>zn.next(Rr))}}})}}return Fn.\u0275fac=function(ge){return new(ge||Fn)(p.LFG(Rt.Dh),p.LFG(Rt.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Ie.HU),p.LFG(vt,8),p.LFG(Ee,8),p.LFG(Ft,8),p.LFG(xt,8),p.LFG(bt,8),p.LFG(gn,8),p.LFG(fe.nm,8))},Fn.\u0275prov=p.Yz7({token:Fn,factory:Fn.\u0275fac,providedIn:"any"}),Fn})(),vr=(()=>{class Fn{constructor(){Ue.Z.registerVersion("angularfire",Ie.q4.full,"auth-compat")}}return Fn.\u0275fac=function(ge){return new(ge||Fn)},Fn.\u0275mod=p.oAB({type:Fn}),Fn.\u0275inj=p.cJS({providers:[wr]}),Fn})()},1762:(tn,st,L)=>{L.d(st,{ST:()=>y_,yb:()=>yh});var p=L(4650),Z=L(4986),K=L(9751),$=L(8996),Le=L(9646),ke=L(8405),Ye=L(8675),je=L(4482),Ve=L(5403);function de(){return(0,je.e)((r,e)=>{let t,s=!1;r.subscribe((0,Ve.x)(e,a=>{const c=t;t=a,s&&e.next([c,a]),s=!0}))})}var Ee,he=L(4004),xe=L(5026),Et=L(1884),He=L(9300),tt=L(2011),_t=L(6895),dt=(L(9568),L(3942)),Ie=L(5861),Rt=L(6881),We=L(4859),fe=L(1877),Ue=L(2090),ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vt={},Ft=Ft||{},xt=ht||self;function bt(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function gn(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var wr="closure_uid_"+(1e9*Math.random()>>>0),vr=0;function Fn(r,e,t){return r.call.apply(r.bind,arguments)}function Zt(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function ge(r,e,t){return(ge=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fn:Zt).apply(null,arguments)}function ye(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Ae(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),S=2;S<arguments.length;S++)f[S-2]=arguments[S];return e.prototype[a].apply(s,f)}}function Oe(){this.s=this.s,this.o=this.o}Oe.prototype.s=!1,Oe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zt(r){Object.prototype.hasOwnProperty.call(r,wr)&&r[wr]||(r[wr]=++vr)}(this)},Oe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Lt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function Dt(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(bt(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function ln(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var yn=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{xt.addEventListener("test",()=>{},e),xt.removeEventListener("test",()=>{},e)}catch{}return r}();function an(r){return/^[\s\xa0]*$/.test(r)}function nr(){var r=xt.navigator;return r&&(r=r.userAgent)?r:""}function zn(r){return-1!=nr().indexOf(r)}function Qn(r){return Qn[" "](r),r}Qn[" "]=function(){};var Or,r,pr=zn("Opera"),ur=zn("Trident")||zn("MSIE"),Rr=zn("Edge"),wn=Rr||ur,$t=zn("Gecko")&&!(-1!=nr().toLowerCase().indexOf("webkit")&&!zn("Edge"))&&!(zn("Trident")||zn("MSIE"))&&!zn("Edge"),xn=-1!=nr().toLowerCase().indexOf("webkit")&&!zn("Edge");function Cr(){var r=xt.document;return r?r.documentMode:void 0}e:{var xr="",ci=(r=nr(),$t?/rv:([^\);]+)(\)|;)/.exec(r):Rr?/Edge\/([\d\.]+)/.exec(r):ur?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):xn?/WebKit\/(\S+)/.exec(r):pr?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(ci&&(xr=ci?ci[1]:""),ur){var er=Cr();if(null!=er&&er>parseFloat(xr)){Or=String(er);break e}}Or=xr}var Ne=xt.document&&ur&&(Cr()||parseInt(Or,10))||void 0;function qe(r,e){if(ln.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if($t){e:{try{Qn(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:ot[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&qe.$.h.call(this)}}Ae(qe,ln);var ot={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),kt=0;function Ht(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++kt,this.fa=this.ia=!1}function Gt(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Bt(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Wt(r){const e={};for(const t in r)e[t]=r[t];return e}const lr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bn(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<lr.length;c++)t=lr[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Pn(r){this.src=r,this.g={},this.h=0}function tr(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=mt(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(Gt(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function gr(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}Pn.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=gr(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new Ht(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var Tr="closure_lm_"+(1e6*Math.random()|0),Dr={};function Ir(r,e,t,s,a){if(s&&s.once)return De(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ir(r,e[c],t,s,a);return null}return t=le(t),r&&r[yt]?r.O(e,t,gn(s)?!!s.capture:!!s,a):mr(r,e,t,!1,s,a)}function mr(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=gn(a)?!!a.capture:!!a,S=pe(r);if(S||(r[Tr]=S=new Pn(r)),(t=S.add(e,t,s,f,c)).proxy)return t;if(s=function Me(){const e=Fe;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)yn||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(ee(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function De(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)De(r,e[c],t,s,a);return null}return t=le(t),r&&r[yt]?r.P(e,t,gn(s)?!!s.capture:!!s,a):mr(r,e,t,!0,s,a)}function ie(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)ie(r,e[c],t,s,a);else s=gn(s)?!!s.capture:!!s,t=le(t),r&&r[yt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=gr(c=r.g[e],t,s,a))&&(Gt(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=pe(r))&&(e=r.g[e.toString()],r=-1,e&&(r=gr(e,t,s,a)),(t=-1<r?e[r]:null)&&ce(t))}function ce(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[yt])tr(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(ee(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=pe(e))?(tr(t,r),0==t.h&&(t.src=null,e[Tr]=null)):Gt(r)}}}function ee(r){return r in Dr?Dr[r]:Dr[r]="on"+r}function Fe(r,e){if(r.fa)r=!0;else{e=new qe(e,this);var t=r.listener,s=r.la||r.src;r.ia&&ce(r),r=t.call(s,e)}return r}function pe(r){return(r=r[Tr])instanceof Pn?r:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(r){return"function"==typeof r?r:(r[_e]||(r[_e]=function(e){return r.handleEvent(e)}),r[_e])}function Se(){Oe.call(this),this.i=new Pn(this),this.S=this,this.J=null}function rt(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new ln(e,r);else if(e instanceof ln)e.target=e.target||r;else{var a=e;bn(e=new ln(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=At(f,s,!0,e)&&a}if(a=At(f=e.g=r,s,!0,e)&&a,a=At(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=At(f=e.g=t[c],s,!1,e)&&a}function At(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var S=f.listener,V=f.la||f.src;f.ia&&tr(r.i,f),a=!1!==S.call(V,s)&&a}}return a&&!s.defaultPrevented}Ae(Se,Oe),Se.prototype[yt]=!0,Se.prototype.removeEventListener=function(r,e,t,s){ie(this,r,e,t,s)},Se.prototype.N=function(){if(Se.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Gt(t[s]);delete r.g[e],r.h--}}this.J=null},Se.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},Se.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var dn=xt.JSON.stringify;function ir(){var r=Dn;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var pt=new class hn{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new it,r=>r.reset());class it{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Nt(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function rn(r){xt.setTimeout(()=>{throw r},0)}let _n,Un=!1,Dn=new class ii{constructor(){this.h=this.g=null}add(e,t){const s=pt.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},Ln=()=>{const r=xt.Promise.resolve(void 0);_n=()=>{r.then(Gn)}};var Gn=()=>{for(var r;r=ir();){try{r.h.call(r.g)}catch(t){rn(t)}var e=pt;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Un=!1};function Sr(r,e){Se.call(this),this.h=r||1,this.g=e||xt,this.j=ge(this.qb,this),this.l=Date.now()}function ni(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Cs(r,e,t){if("function"==typeof r)t&&(r=ge(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ge(r.handleEvent,r)}return 2147483647<Number(e)?-1:xt.setTimeout(r,e||0)}function co(r){r.g=Cs(()=>{r.g=null,r.i&&(r.i=!1,co(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Ae(Sr,Se),(Ee=Sr.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rt(this,"tick"),this.ga&&(ni(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){Sr.$.N.call(this),ni(this),delete this.g};class fs extends Oe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:co(this)}N(){super.N(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(r){Oe.call(this),this.h=r,this.g={}}Ae(Yr,Oe);var Qt=[];function qn(r,e,t,s){Array.isArray(t)||(t&&(Qt[0]=t.toString()),t=Qt);for(var a=0;a<t.length;a++){var c=Ir(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function Wr(r){Bt(r.g,function(e,t){this.g.hasOwnProperty(t)&&ce(e)},r),r.g={}}function fr(){this.g=!0}function bi(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function os(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return dn(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Yr.prototype.N=function(){Yr.$.N.call(this),Wr(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fr.prototype.Ea=function(){this.g=!1},fr.prototype.info=function(){};var Ai={},Tn=null;function Vi(){return Tn=Tn||new Se}function Mi(r){ln.call(this,Ai.Ta,r)}function Ki(r){const e=Vi();rt(e,new Mi(e))}function Ui(r,e){ln.call(this,Ai.STAT_EVENT,r),this.stat=e}function cr(r){const e=Vi();rt(e,new Ui(e,r))}function qs(r,e){ln.call(this,Ai.Ua,r),this.size=e}function di(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){r()},e)}Ai.Ta="serverreachability",Ae(Mi,ln),Ai.STAT_EVENT="statevent",Ae(Ui,ln),Ai.Ua="timingevent",Ae(qs,ln);var hi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ps={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _i(){}function es(){}_i.prototype.h=null;var nt,qi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ge(){ln.call(this,"d")}function Be(){ln.call(this,"c")}function Tt(){}function Ot(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Yr(this),this.P=jn,this.V=new Sr(r=wn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}Ae(Ge,ln),Ae(Be,ln),Ae(Tt,_i),Tt.prototype.g=function(){return new XMLHttpRequest},Tt.prototype.i=function(){return{}},nt=new Tt;var jn=45e3,Vn={},rr={};function si(r,e,t){r.L=1,r.v=as(ys(e)),r.s=t,r.S=!0,Bi(r,null)}function Bi(r,e){r.G=Date.now(),gs(r),r.A=ys(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),$r(t.i,"t",s),r.C=0,t=r.l.J,r.h=new Bn,r.g=Ba(r.l,t?e:null,!r.s),0<r.O&&(r.M=new fs(ge(r.Pa,r,r.g),r.O)),qn(r.U,r.g,"readystatechange",r.nb),e=r.I?Wt(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Ki(),function Wi(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",S=c.split("&"),V=0;V<S.length;V++){var H=S[V].split("=");if(1<H.length){var se=H[0];H=H[1];var Pe=se.split("_");f=2<=Pe.length&&"type"==Pe[1]?f+(se+"=")+H+"&":f+(se+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function jr(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Ts(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=ho(r,t),a==rr){4==e&&(r.o=4,cr(14),s=!1),bi(r.j,r.m,null,"[Incomplete Response]");break}if(a==Vn){r.o=4,cr(15),bi(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}bi(r.j,r.m,a,null),Zs(r,a)}jr(r)&&a!=rr&&a!=Vn&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,cr(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),sa(e),e.M=!0,cr(11))):(bi(r.j,r.m,t,"[Invalid Chunked Response]"),Qi(r),Bs(r))}function ho(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?rr:(t=Number(e.substring(t,s)),isNaN(t)?Vn:(s+=1)+t>e.length?rr:(e=e.slice(s,s+t),r.C=s+t,e))}function gs(r){r.Y=Date.now()+r.P,ms(r,r.P)}function ms(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=di(ge(r.lb,r),e)}function fo(r){r.B&&(xt.clearTimeout(r.B),r.B=null)}function Bs(r){0==r.l.H||r.J||ko(r.l,r)}function Qi(r){fo(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,ni(r.V),Wr(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Zs(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Js(t.i,r)))if(!r.K&&Js(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Qo(t),Hr(t)}no(t),cr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=di(ge(t.ib,t),6e3));if(1>=Ni(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else vs(t,11)}else if((r.K||t.g==r)&&Qo(t),!an(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let H=a[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const se=H[3];null!=se&&(t.ra=se,t.l.info("VER="+t.ra));const Pe=H[4];null!=Pe&&(t.Ga=Pe,t.l.info("SVER="+t.Ga));const ct=H[5];null!=ct&&"number"==typeof ct&&0<ct&&(t.L=s=1.5*ct,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const St=r.g;if(St){const Jt=St.g?St.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jt){var c=s.i;c.g||-1==Jt.indexOf("spdy")&&-1==Jt.indexOf("quic")&&-1==Jt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(fi(c,c.h),c.h=null))}if(s.F){const Cn=St.g?St.g.getResponseHeader("X-HTTP-Session-Id"):null;Cn&&(s.Da=Cn,kr(s.I,s.F,Cn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=Ea(s,s.J?s.pa:null,s.Y),f.K){pi(s.i,f);var S=f,V=s.L;V&&S.setTimeout(V),S.B&&(fo(S),gs(S)),s.g=f}else ia(s);0<t.j.length&&Os(t)}else"stop"!=H[0]&&"close"!=H[0]||vs(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?vs(t,7):ai(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}Ki()}catch{}}function js(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(bt(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Ro(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(bt(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Ys(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(bt(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(Ee=Ot.prototype).setTimeout=function(r){this.P=r},Ee.nb=function(r){r=r.target;const e=this.M;e&&3==or(r)?e.l():this.Pa(r)},Ee.Pa=function(r){try{if(r==this.g)e:{const se=or(this.g);var e=this.g.Ia();if(this.g.da(),!(3>se)&&(3!=se||wn||this.g&&(this.h.h||this.g.ja()||Fr(this.g)))){this.J||4!=se||7==e||Ki(),fo(this);var t=this.g.da();this.ca=t;t:if(jr(this)){var s=Fr(this.g);r="";var a=s.length,c=4==or(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qi(this),Bs(this);var f="";break t}this.h.i=new xt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function br(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,se,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var S,V=this.g;if((S=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!an(S)){var H=S;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,cr(12),Qi(this),Bs(this);break e}bi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,t)}this.S?(Ts(this,se,f),wn&&this.i&&3==se&&(qn(this.U,this.V,"tick",this.mb),this.V.start())):(bi(this.j,this.m,f,null),Zs(this,f)),4==se&&Qi(this),this.i&&!this.J&&(4==se?ko(this.l,this):(this.i=!1,gs(this)))}else(function Jr(r){const e={};r=(r.g&&2<=or(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(an(r[s]))continue;var t=Nt(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function cn(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,cr(12)):(this.o=0,cr(13)),Qi(this),Bs(this)}}}catch{}},Ee.mb=function(){if(this.g){var r=or(this.g),e=this.g.ja();this.C<e.length&&(fo(this),Ts(this,r,e),this.i&&4!=r&&gs(this))}},Ee.cancel=function(){this.J=!0,Qi(this)},Ee.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function sr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ki(),cr(17)),Qi(this),this.o=2,Bs(this)):ms(this,this.Y-r)};var xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ji(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof ji){this.h=r.h,po(this,r.j),this.s=r.s,this.g=r.g,Ss(this,r.m),this.l=r.l;var e=r.i,t=new yo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),go(this,t),this.o=r.o}else r&&(e=String(r).match(xo))?(this.h=!1,po(this,e[1]||"",!0),this.s=$s(e[2]||""),this.g=$s(e[3]||"",!0),Ss(this,e[4]),this.l=$s(e[5]||"",!0),go(this,e[6]||"",!0),this.o=$s(e[7]||"")):(this.h=!1,this.i=new yo(null,this.h))}function ys(r){return new ji(r)}function po(r,e,t){r.j=t?$s(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ss(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function go(r,e,t){e instanceof yo?(r.i=e,function Xs(r,e){e&&!r.j&&(Qs(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Rs(this,s),$r(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=$i(e,As)),r.i=new yo(e,r.h))}function kr(r,e,t){r.i.set(e,t)}function as(r){return kr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function $s(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function $i(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Po),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Po(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}ji.prototype.toString=function(){var r=[],e=this.j;e&&r.push($i(e,mo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push($i(e,mo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push($i(t,"/"==t.charAt(0)?Yo:Bo,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",$i(t,Ms)),r.join("")};var mo=/[#\/\?@]/g,Bo=/[#\?:]/g,Yo=/[#\?]/g,As=/[#\?@]/g,Ms=/#/g;function yo(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Qs(r){r.g||(r.g=new Map,r.h=0,r.i&&function Zo(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Rs(r,e){Qs(r),e=Pi(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Hs(r,e){return Qs(r),e=Pi(r,e),r.g.has(e)}function $r(r,e,t){Rs(r,e),0<t.length&&(r.i=null,r.g.set(Pi(r,e),Lt(t)),r.h+=t.length)}function Pi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function xs(r){this.l=r||Ci,r=xt.PerformanceNavigationTiming?0<(r=xt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(xt.g&&xt.g.Ka&&xt.g.Ka()&&xt.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=yo.prototype).add=function(r,e){Qs(this),this.i=null,r=Pi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Ee.forEach=function(r,e){Qs(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},Ee.ta=function(){Qs(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},Ee.Z=function(r){Qs(this);let e=[];if("string"==typeof r)Hs(this,r)&&(e=e.concat(this.g.get(Pi(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Ee.set=function(r,e){return Qs(this),this.i=null,Hs(this,r=Pi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Ee.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var Ci=10;function Ri(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Ni(r){return r.h?1:r.g?r.g.size:0}function Js(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function fi(r,e){r.g?r.g.add(e):r.h=e}function pi(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Ps(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Lt(r.i)}xs.prototype.cancel=function(){if(this.i=Ps(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var eo=class{stringify(r){return xt.JSON.stringify(r,void 0)}parse(r){return xt.JSON.parse(r,void 0)}};function Io(){this.g=new eo}function us(r,e,t){const s=t||"";try{js(r,function(a,c){let f=a;gn(a)&&(f=dn(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function ls(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Wn(r){this.l=r.fc||null,this.j=r.ob||!1}function _s(r,e){Se.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=to,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ae(Wn,_i),Wn.prototype.g=function(){return new _s(this.l,this.j)},Wn.prototype.i=function(r){return function(){return r}}({}),Ae(_s,Se);var to=0;function No(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Hi(r){r.readyState=4,r.l=null,r.j=null,r.A=null,j(r)}function j(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Ee=_s.prototype).open=function(r,e){if(this.readyState!=to)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,j(this)},Ee.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||xt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hi(this)),this.readyState=to},Ee.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,j(this)),this.g&&(this.readyState=3,j(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof xt.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;No(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Hi(this):j(this),3==this.readyState&&No(this)}},Ee.Za=function(r){this.g&&(this.response=this.responseText=r,Hi(this))},Ee.Ya=function(r){this.g&&(this.response=r,Hi(this))},Ee.ka=function(){this.g&&Hi(this)},Ee.setRequestHeader=function(r,e){this.v.append(r,e)},Ee.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var B=xt.JSON.parse;function oe(r){Se.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=be,this.L=this.M=!1}Ae(oe,Se);var be="",w=/^https?$/i,C=["POST","PUT"];function Q(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Re(r),vn(r)}function Re(r){r.F||(r.F=!0,rt(r,"complete"),rt(r,"error"))}function Mt(r){if(r.h&&typeof Ft<"u"&&(!r.C[1]||4!=or(r)||2!=r.da()))if(r.v&&4==or(r))Cs(r.La,0,r);else if(rt(r,"readystatechange"),4==or(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(r.I).match(xo)[1]||null;!a&&xt.self&&xt.self.location&&(a=xt.self.location.protocol.slice(0,-1)),s=!w.test(a?a.toLowerCase():"")}t=s}if(t)rt(r,"complete"),rt(r,"success");else{r.m=6;try{var c=2<or(r)?r.g.statusText:""}catch{c=""}r.j=c+" ["+r.da()+"]",Re(r)}}finally{vn(r)}}}function vn(r,e){if(r.g){Xn(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||rt(r,"ready");try{t.onreadystatechange=s}catch{}}}function Xn(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(xt.clearTimeout(r.A),r.A=null)}function or(r){return r.g?r.g.readyState:0}function Fr(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case be:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function gi(r){let e="";return Bt(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Kr(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=gi(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):kr(r,e,t))}function Lr(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function oi(r){this.Ga=0,this.j=[],this.l=new fr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lr("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lr("baseRetryDelayMs",5e3,r),this.hb=Lr("retryDelaySeedMs",1e4,r),this.eb=Lr("forwardChannelMaxRetries",2,r),this.xa=Lr("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new xs(r&&r.concurrentRequestLimit),this.Ja=new Io,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ai(r){if(Xi(r),3==r.H){var e=r.W++,t=ys(r.I);if(kr(t,"SID",r.K),kr(t,"RID",e),kr(t,"TYPE","terminate"),jo(r,t),(e=new Ot(r,r.l,e)).L=2,e.v=as(ys(t)),t=!1,xt.navigator&&xt.navigator.sendBeacon)try{t=xt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ba(e.l,null),e.g.ha(e.v)),e.G=Date.now(),gs(e)}va(r)}function Hr(r){r.g&&(sa(r),r.g.cancel(),r.g=null)}function Xi(r){Hr(r),r.u&&(xt.clearTimeout(r.u),r.u=null),Qo(r),r.i.cancel(),r.m&&("number"==typeof r.m&&xt.clearTimeout(r.m),r.m=null)}function Os(r){if(!Ri(r.i)&&!r.m){r.m=!0;var e=r.Na;_n||Ln(),Un||(_n(),Un=!0),Dn.add(e,r),r.C=0}}function Oo(r,e){var t;t=e?e.m:r.W++;const s=ys(r.I);kr(s,"SID",r.K),kr(s,"RID",t),kr(s,"AID",r.V),jo(r,s),r.o&&r.s&&Kr(s,r.o,r.s),t=new Ot(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Oi(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),fi(r.i,t),si(t,s,e)}function jo(r,e){r.na&&Bt(r.na,function(t,s){kr(e,s,t)}),r.h&&js({},function(t,s){kr(e,s,t)})}function Oi(r,e,t){t=Math.min(r.j.length,t);var s=r.h?ge(r.h.Va,r.h,r):null;e:{var a=r.j;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let S=!0;for(let V=0;V<t;V++){let H=a[V].g;const se=a[V].map;if(H-=c,0>H)c=Math.max(0,a[V].g-100),S=!1;else try{us(se,f,"req"+H+"_")}catch{s&&s(se)}}if(S){s=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function ia(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;_n||Ln(),Un||(_n(),Un=!0),Dn.add(e,r),r.A=0}}function no(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=di(ge(r.Ma,r),_a(r,r.A)),r.A++,0))}function sa(r){null!=r.B&&(xt.clearTimeout(r.B),r.B=null)}function oa(r){r.g=new Ot(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=ys(r.wa);kr(e,"RID","rpc"),kr(e,"SID",r.K),kr(e,"AID",r.V),kr(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&kr(e,"TO",r.qa),kr(e,"TYPE","xmlhttp"),jo(r,e),r.o&&r.s&&Kr(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=as(ys(e)),t.s=null,t.S=!0,Bi(t,r)}function Qo(r){null!=r.v&&(xt.clearTimeout(r.v),r.v=null)}function ko(r,e){var t=null;if(r.g==e){Qo(r),sa(r),r.g=null;var s=2}else{if(!Js(r.i,e))return;t=e.F,pi(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;rt(s=Vi(),new qs(s,t)),Os(r)}else ia(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function ks(r,e){return!(Ni(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=di(ge(r.Na,r,e),_a(r,r.C)),r.C++,0)))}(r,e)||2==s&&no(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:vs(r,5);break;case 4:vs(r,10);break;case 3:vs(r,6);break;default:vs(r,2)}}function _a(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function vs(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=ge(r.pb,r);t||(t=new ji("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||po(t,"https"),as(t)),function Ns(r,e){const t=new fr;if(xt.Image){const s=new Image;s.onload=ye(ls,t,s,"TestLoadImage: loaded",!0,e),s.onerror=ye(ls,t,s,"TestLoadImage: error",!1,e),s.onabort=ye(ls,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=ye(ls,t,s,"TestLoadImage: timeout",!1,e),xt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else cr(2);r.H=0,r.h&&r.h.za(e),va(r),Xi(r)}function va(r){if(r.H=0,r.ma=[],r.h){const e=Ps(r.i);(0!=e.length||0!=r.j.length)&&(Dt(r.ma,e),Dt(r.ma,r.j),r.i.i.length=0,Lt(r.j),r.j.length=0),r.h.ya()}}function Ea(r,e,t){var s=t instanceof ji?ys(t):new ji(t);if(""!=s.g)e&&(s.g=e+"."+s.g),Ss(s,s.m);else{var a=xt.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new ji(null);s&&po(c,s),e&&(c.g=e),a&&Ss(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&kr(s,t,e),kr(s,"VER",r.ra),jo(r,s),s}function Ba(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new oe(t&&r.Ha&&!r.va?new Wn({ob:!0}):r.va)).Oa(r.J),e}function wa(){}function fa(){if(ur&&!(10<=Number(Ne)))throw Error("Environmental error: no available transport.")}function ri(r,e){Se.call(this),this.g=new oi(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!an(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!an(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new aa(this)}function _o(r){Ge.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Ti(){Be.call(this),this.status=1}function aa(r){this.g=r}function zs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function nu(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function ei(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(Ee=oe.prototype).Oa=function(r){this.M=r},Ee.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nt.g(),this.C=function Br(r){return r.h||(r.h=r.i())}(this.u?this.u:nt),this.g.onreadystatechange=ge(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void Q(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=xt.FormData&&r instanceof xt.FormData,!(0<=mt(C,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Xn(this),0<this.B&&((this.L=function A(r){return ur&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ge(this.ua,this)):this.A=Cs(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){Q(this,c)}},Ee.ua=function(){typeof Ft<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rt(this,"timeout"),this.abort(8))},Ee.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,rt(this,"complete"),rt(this,"abort"),vn(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vn(this,!0)),oe.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?Mt(this):this.kb())},Ee.kb=function(){Mt(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),B(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=oi.prototype).ra=8,Ee.H=1,Ee.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new Ot(this,this.l,r);let c=this.s;if(this.U&&(c?(c=Wt(c),bn(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Oi(this,a,e),kr(t=ys(this.I),"RID",r),kr(t,"CVER",22),this.F&&kr(t,"X-HTTP-Session-Id",this.F),jo(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(gi(c)))+"&"+e:this.o&&Kr(t,this.o,c)),fi(this.i,a),this.bb&&kr(t,"TYPE","init"),this.P?(kr(t,"$req",e),kr(t,"SID","null"),a.aa=!0,si(a,t,null)):si(a,t,e),this.H=2}}else 3==this.H&&(r?Oo(this,r):0==this.j.length||Ri(this.i)||Oo(this))},Ee.Ma=function(){if(this.u=null,oa(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=di(ge(this.jb,this),r)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,cr(10),Hr(this),oa(this))},Ee.ib=function(){null!=this.v&&(this.v=null,Hr(this),no(this),cr(19))},Ee.pb=function(r){r?(this.l.info("Successfully pinged google.com"),cr(2)):(this.l.info("Failed to ping google.com"),cr(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=wa.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},fa.prototype.g=function(r,e){return new ri(r,e)},Ae(ri,Se),ri.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;cr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Ea(r,null,r.Y),Os(r)},ri.prototype.close=function(){ai(this.g)},ri.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=dn(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Os(e)},ri.prototype.N=function(){this.g.h=null,delete this.j,ai(this.g),delete this.g,ri.$.N.call(this)},Ae(_o,Ge),Ae(Ti,Be),Ae(aa,wa),aa.prototype.Ba=function(){rt(this.g,"a")},aa.prototype.Aa=function(r){rt(this.g,new _o(r))},aa.prototype.za=function(r){rt(this.g,new Ti)},aa.prototype.ya=function(){rt(this.g,"b")},Ae(zs,function ua(){this.blockSize=-1}),zs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zs.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)nu(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){nu(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){nu(this,s),a=0;break}}this.h=a,this.i+=e},zs.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Mu={};function la(r){return-128<=r&&128>r?function hr(r,e){var t=Mu;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new ei([0|e],0>e?-1:0)}):new ei([0|r],0>r?-1:0)}function vo(r){if(isNaN(r)||!isFinite(r))return z;if(0>r)return P(vo(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=x;return new ei(e,0)}var x=4294967296,z=la(0),F=la(1),te=la(16777216);function we(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function ft(r){return-1==r.h}function P(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new ei(t,~r.h).add(F)}function m(r,e){return r.add(P(e))}function v(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function N(r,e){this.g=r,this.h=e}function W(r,e){if(we(e))throw Error("division by zero");if(we(r))return new N(z,z);if(ft(r))return e=W(P(r),e),new N(P(e.g),P(e.h));if(ft(e))return e=W(r,P(e)),new N(P(e.g),e.h);if(30<r.g.length){if(ft(r)||ft(e))throw Error("slowDivide_ only works with positive integers.");for(var t=F,s=e;0>=s.X(r);)t=ne(t),s=ne(s);var a=Ce(t,1),c=Ce(s,1);for(s=Ce(s,2),t=Ce(t,2);!we(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=Ce(s,1),t=Ce(t,1)}return e=m(r,a.R(e)),new N(a,e)}for(a=z;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=vo(t)).R(e);ft(f)||0<f.X(r);)f=(c=vo(t-=s)).R(e);we(c)&&(c=F),a=a.add(c),r=m(r,f)}return new N(a,r)}function ne(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new ei(t,r.h)}function Ce(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new ei(a,r.h)}(Ee=ei.prototype).ea=function(){if(ft(this))return-P(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:x+s)*e,e*=x}return r},Ee.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(we(this))return"0";if(ft(this))return"-"+P(this).toString(r);for(var e=vo(Math.pow(r,6)),t=this,s="";;){var a=W(t,e).g,c=((0<(t=m(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(we(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},Ee.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Ee.X=function(r){return ft(r=m(this,r))?-1:we(r)?0:1},Ee.abs=function(){return ft(this)?P(this):this},Ee.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new ei(t,-2147483648&t[t.length-1]?-1:0)},Ee.R=function(r){if(we(this)||we(r))return z;if(ft(this))return ft(r)?P(this).R(P(r)):P(P(this).R(r));if(ft(r))return P(this.R(P(r)));if(0>this.X(te)&&0>r.X(te))return vo(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),S=r.D(a)>>>16,V=65535&r.D(a);t[2*s+2*a]+=f*V,v(t,2*s+2*a),t[2*s+2*a+1]+=c*V,v(t,2*s+2*a+1),t[2*s+2*a+1]+=f*S,v(t,2*s+2*a+1),t[2*s+2*a+2]+=c*S,v(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new ei(t,0)},Ee.gb=function(r){return W(this,r).h},Ee.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new ei(t,this.h&r.h)},Ee.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new ei(t,this.h|r.h)},Ee.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new ei(t,this.h^r.h)},fa.prototype.createWebChannel=fa.prototype.g,ri.prototype.send=ri.prototype.u,ri.prototype.open=ri.prototype.m,ri.prototype.close=ri.prototype.close,hi.NO_ERROR=0,hi.TIMEOUT=8,hi.HTTP_ERROR=6,ps.COMPLETE="complete",es.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",Se.prototype.listen=Se.prototype.O,oe.prototype.listenOnce=oe.prototype.P,oe.prototype.getLastError=oe.prototype.Sa,oe.prototype.getLastErrorCode=oe.prototype.Ia,oe.prototype.getStatus=oe.prototype.da,oe.prototype.getResponseJson=oe.prototype.Wa,oe.prototype.getResponseText=oe.prototype.ja,oe.prototype.send=oe.prototype.ha,oe.prototype.setWithCredentials=oe.prototype.Oa,zs.prototype.digest=zs.prototype.l,zs.prototype.reset=zs.prototype.reset,zs.prototype.update=zs.prototype.j,ei.prototype.add=ei.prototype.add,ei.prototype.multiply=ei.prototype.R,ei.prototype.modulo=ei.prototype.gb,ei.prototype.compare=ei.prototype.X,ei.prototype.toNumber=ei.prototype.ea,ei.prototype.toString=ei.prototype.toString,ei.prototype.getBits=ei.prototype.D,ei.fromNumber=vo,ei.fromString=function Da(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return P(Da(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=vo(Math.pow(e,8)),s=z,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=vo(Math.pow(e,c)),s=s.R(c).add(vo(f))):s=(s=s.R(t)).add(vo(f))}return s};var Te=vt.createWebChannelTransport=function(){return new fa},et=vt.getStatEventTarget=function(){return Vi()},It=vt.ErrorCode=hi,Yt=vt.EventType=ps,fn=vt.Event=Ai,$n=vt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Yn=vt.FetchXmlHttpFactory=Wn,Rn=vt.WebChannel=es,Kn=vt.XhrIo=oe,ti=vt.Md5=zs,qr=vt.Integer=ei;const cs="@firebase/firestore";class Zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");let Ei="9.23.0";const ro=new fe.Yd("@firebase/firestore");function zi(){return ro.logLevel}function Ut(r,...e){if(ro.logLevel<=fe.in.DEBUG){const t=e.map(ki);ro.debug(`Firestore (${Ei}): ${r}`,...t)}}function Pr(r,...e){if(ro.logLevel<=fe.in.ERROR){const t=e.map(ki);ro.error(`Firestore (${Ei}): ${r}`,...t)}}function ts(r,...e){if(ro.logLevel<=fe.in.WARN){const t=e.map(ki);ro.warn(`Firestore (${Ei}): ${r}`,...t)}}function ki(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function qt(r="Unexpected state"){const e=`FIRESTORE (${Ei}) INTERNAL ASSERTION FAILED: `+r;throw Pr(e),new Error(e)}function Sn(r,e){r||qt()}function pn(r,e){return r}const ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ue.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class on{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zr.UNAUTHENTICATED))}shutdown(){}}class Eo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ns{constructor(e){this.t=e,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=H=>this.i!==a?(a=this.i,t(H)):Promise.resolve();let f=new on;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new on,e.enqueueRetryable(()=>c(this.currentUser))};const S=()=>{const H=f;e.enqueueRetryable((0,Ie.Z)(function*(){yield H.promise,yield c(s.currentUser)}))},V=H=>{Ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(H=>V(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?V(H):(Ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new on)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Sn("string"==typeof s.accessToken),new Vr(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Sn(null===e||"string"==typeof e),new Zr(e)}}class Fi{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Zr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class mi{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Fi(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $o{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,Ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Sn("string"==typeof t.token),this.T=t.token,new $o(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function io(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class rs{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=io(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Jn(r,e){return r<e?-1:r>e?1:0}function bo(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function ja(r){return r+"\0"}class wi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new at(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new at(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new at(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wi.fromMillis(Date.now())}static fromDate(e){return wi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new wi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jn(this.nanoseconds,e.nanoseconds):Jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nn(e)}static min(){return new Nn(new wi(0,0))}static max(){return new Nn(new wi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pa{constructor(e,t,s){void 0===t?t=0:t>e.length&&qt(),void 0===s?s=e.length-t:s>e.length-t&&qt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===pa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pa?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ar extends pa{construct(e,t,s){return new Ar(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new at(ze.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Ar(t)}static emptyPath(){return new Ar([])}}const Ec=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class is extends pa{construct(e,t,s){return new is(e,t,s)}static isValidIdentifier(e){return Ec.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),is.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new is(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new at(ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const S=e[a];if("\\"===S){if(a+1===e.length)throw new at(ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[a+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new at(ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=V,a+=2}else"`"===S?(f=!f,a++):"."!==S||f?(s+=S,a++):(c(),a++)}if(c(),f)throw new at(ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new is(t)}static emptyPath(){return new is([])}}class jt{constructor(e){this.path=e}static fromPath(e){return new jt(Ar.fromString(e))}static fromName(e){return new jt(Ar.fromString(e).popFirst(5))}static empty(){return new jt(Ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ar.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ar.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jt(new Ar(e.slice()))}}class $a{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Ru(r){return r.fields.find(e=>2===e.kind)}function Ha(r){return r.fields.filter(e=>2!==e.kind)}$a.UNKNOWN_ID=-1;class ga{constructor(e,t){this.fieldPath=e,this.kind=t}}class ru{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ru(0,Co.min())}}function ba(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Nn.fromTimestamp(1e9===s?new wi(t+1,0):new wi(t,s));return new Co(a,jt.empty(),e)}function Sl(r){return new Co(r.readTime,r.key,-1)}class Co{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Co(Nn.min(),jt.empty(),-1)}static max(){return new Co(Nn.max(),jt.empty(),-1)}}function ss(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=jt.comparator(r.documentKey,e.documentKey),0!==t?t:Jn(r.largestBatchId,e.largestBatchId))}const za="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ga{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ca(r){return so.apply(this,arguments)}function so(){return so=(0,Ie.Z)(function*(r){if(r.code!==ze.FAILED_PRECONDITION||r.message!==za)throw r;Ut("LocalStore","Unexpectedly lost primary lease")}),so.apply(this,arguments)}class lt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new lt((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof lt?t:lt.resolve(t)}catch(t){return lt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):lt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):lt.reject(t)}static resolve(e){return new lt((t,s)=>{t(e)})}static reject(e){return new lt((t,s)=>{s(e)})}static waitFor(e){return new lt((t,s)=>{let a=0,c=0,f=!1;e.forEach(S=>{++a,S.next(()=>{++c,f&&c===a&&t()},V=>s(V))}),f=!0,c===a&&t()})}static or(e){let t=lt.resolve(!1);for(const s of e)t=t.next(a=>a?lt.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new lt((s,a)=>{const c=e.length,f=new Array(c);let S=0;for(let V=0;V<c;V++){const H=V;t(e[H]).next(se=>{f[H]=se,++S,S===c&&s(f)},se=>a(se))}})}static doWhile(e,t){return new lt((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class Ra{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new on,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new I(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const a=ae(s.target.error);this.v.reject(new I(e,a))}}static open(e,t,s,a){try{return new Ra(t,e.transaction(a,s))}catch(c){throw new I(t,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ut("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new R(t)}}class wo{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===wo.S((0,Ue.z$)())&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ut("SimpleDb","Removing database:",e),U(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ue.hl)())return!1;if(wo.C())return!0;const e=(0,Ue.z$)(),t=wo.S(e),s=0<t&&t<10,a=wo.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,Ie.Z)(function*(){return t.db||(Ut("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=f=>{s(f.target.result)},c.onblocked=()=>{a(new I(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const S=f.target.error;a("VersionError"===S.name?new at(ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new at(ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new I(e,S))},c.onupgradeneeded=f=>{Ut("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.V.O(f.target.result,c.transaction,f.oldVersion,t.version).next(()=>{Ut("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,Ie.Z)(function*(){const f="readonly"===t;let S=0;for(;;){++S;try{c.db=yield c.$(e);const V=Ra.open(c.db,e,f?"readonly":"readwrite",s),H=a(V).next(se=>(V.P(),se)).catch(se=>(V.abort(se),lt.reject(se))).toPromise();return H.catch(()=>{}),yield V.R,H}catch(V){const H=V,se="FirebaseError"!==H.name&&S<3;if(Ut("SimpleDb","Transaction failed with error:",H.message,"Retrying:",se),c.close(),!se)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class E{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return U(this.L.delete())}}class I extends at{constructor(e,t){super(ze.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function y(r){return"IndexedDbTransactionError"===r.name}class R{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Ut("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Ut("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),U(s)}add(e){return Ut("SimpleDb","ADD",this.store.name,e,e),U(this.store.add(e))}get(e){return U(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ut("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ut("SimpleDb","DELETE",this.store.name,e),U(this.store.delete(e))}count(){return Ut("SimpleDb","COUNT",this.store.name),U(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.W(a,(f,S)=>{c.push(S)}).next(()=>c)}{const a=this.store.getAll(s.range);return new lt((c,f)=>{a.onerror=S=>{f(S.target.error)},a.onsuccess=S=>{c(S.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new lt((a,c)=>{s.onerror=f=>{c(f.target.error)},s.onsuccess=f=>{a(f.target.result)}})}J(e,t){Ut("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(c,f,S)=>S.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new lt((s,a)=>{t.onerror=c=>{const f=ae(c.target.error);a(f)},t.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(S=>{S?f.continue():s()}):s()}})}W(e,t){const s=[];return new lt((a,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const S=f.target.result;if(!S)return void a();const V=new E(S),H=t(S.primaryKey,S.value,V);if(H instanceof lt){const se=H.catch(Pe=>(V.done(),lt.reject(Pe)));s.push(se)}V.isDone?a():null===V.K?S.continue():S.continue(V.K)}}).next(()=>lt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function U(r){return new lt((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=ae(s.target.error);t(a)}})}let X=!1;function ae(r){const e=wo.S((0,Ue.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new at("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return X||(X=!0,setTimeout(()=>{throw s},0)),s}}return r}class Xe{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ut("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ie.Z)(function*(){t.task=null;try{Ut("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){y(s)?Ut("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield ca(s)}yield t.et(6e4)}))}}class Pt{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ie.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,c=!0;return lt.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!s.has(f))return Ut("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,a).next(S=>{a-=S,s.add(f)});c=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const f=c.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(a,c)).next(S=>(Ut("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,t,S))).next(()=>f.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,c)=>{const f=Sl(c);ss(f,s)>0&&(s=f)}),new Co(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let nn=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function mn(r){return null==r}function zr(r){return 0===r&&1/r==-1/0}function Es(r){return"number"==typeof r&&Number.isInteger(r)&&!zr(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Si(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ma(e)),e=Xo(r.get(t),e);return ma(e)}function Xo(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const c=r.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function ma(r){return r+"\x01\x01"}function ui(r){const e=r.length;if(Sn(e>=2),2===e)return Sn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Ar.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const f=r.indexOf("\x01",c);switch((f<0||f>t)&&qt(),r.charAt(f+1)){case"\x01":const S=r.substring(c,f);let V;0===a.length?V=S:(a+=S,V=a,a=""),s.push(V);break;case"\x10":a+=r.substring(c,f),a+="\0";break;case"\x11":a+=r.substring(c,f+1);break;default:qt()}c=f+2}return new Ar(s)}const Ca=["userId","batchId"];function xa(r,e){return[r,Si(e)]}function Ta(r,e,t){return[r,Si(e),t]}const wc={},gu=["prefixPath","collectionGroup","readTime","documentId"],Al=["prefixPath","collectionGroup","documentId"],Dc=["collectionGroup","readTime","prefixPath","documentId"],ya=["canonicalId","targetId"],Ml=["targetId","path"],bd=["path","targetId"],xu=["collectionId","parent"],Ic=["indexId","uid"],iu=["uid","sequenceNumber"],tl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Cd=["indexId","uid","orderedDocumentKey"],Td=["userId","collectionPath","documentId"],bc=["userId","collectionPath","largestBatchId"],Cc=["userId","collectionGroup","largestBatchId"],Tc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rl=[...Tc,"documentOverlays"],Sc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ac=Sc,mu=[...Ac,"indexConfiguration","indexState","indexEntries"];class Pu extends Ga{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function oo(r,e){const t=pn(r);return wo.M(t.ht,e)}function Nu(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Pa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function su(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class xi{constructor(e,t){this.comparator=e,this.root=t||Ls.EMPTY}insert(e,t){return new xi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ls.BLACK,null,null))}remove(e){return new xi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ls.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wa(this.root,e,this.comparator,!0)}}class Wa{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ls{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Ls.RED,this.left=a??Ls.EMPTY,this.right=c??Ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Ls(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ls.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ls.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const e=this.left.check();if(e!==this.right.check())throw qt();return e+(this.isRed()?0:1)}}Ls.EMPTY=null,Ls.RED=!0,Ls.BLACK=!1,Ls.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Ls(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Di{constructor(e){this.comparator=e,this.data=new xi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xl(this.data.getIterator())}getIteratorFrom(e){return new xl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Di)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Di(this.comparator);return t.data=e,t}}class xl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ou(r){return r.hasNext()?r.getNext():void 0}class To{constructor(e){this.fields=e,e.sort(is.comparator)}static empty(){return new To([])}unionWith(e){let t=new Di(is.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new To(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Sd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Sd("Invalid base64 string: "+a):a}}(e);return new Gs(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Gs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gs.EMPTY_BYTE_STRING=new Gs("");const ou=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(r){if(Sn(!!r),"string"==typeof r){let e=0;const t=ou.exec(r);if(Sn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ws(r.seconds),nanos:ws(r.nanos)}}function ws(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Sa(r){return"string"==typeof r?Gs.fromBase64String(r):Gs.fromUint8Array(r)}function Ho(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ku(r){const e=r.mapValue.fields.__previous_value__;return Ho(e)?ku(e):e}function da(r){const e=Ka(r.mapValue.fields.__local_write_time__.timestampValue);return new wi(e.seconds,e.nanos)}class Pl{constructor(e,t,s,a,c,f,S,V,H){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=S,this.longPollingOptions=V,this.useFetchStreams=H}}class So{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new So("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof So&&e.projectId===this.projectId&&e.database===this.database}}const ha={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},nl={nullValue:"NULL_VALUE"};function qa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ho(r)?4:Ws(r)?9007199254740991:10:qt()}function Aa(r,e){if(r===e)return!0;const t=qa(r);if(t!==qa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return da(r).isEqual(da(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Ka(s.timestampValue),f=Ka(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Sa(r.bytesValue).isEqual(Sa(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return ws(s.geoPointValue.latitude)===ws(a.geoPointValue.latitude)&&ws(s.geoPointValue.longitude)===ws(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ws(s.integerValue)===ws(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=ws(s.doubleValue),f=ws(a.doubleValue);return c===f?zr(c)===zr(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return bo(r.arrayValue.values||[],e.arrayValue.values||[],Aa);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Nu(c)!==Nu(f))return!1;for(const S in c)if(c.hasOwnProperty(S)&&(void 0===f[S]||!Aa(c[S],f[S])))return!1;return!0}(r,e);default:return qt()}var a}function b(r,e){return void 0!==(r.values||[]).find(t=>Aa(t,e))}function O(r,e){if(r===e)return 0;const t=qa(r),s=qa(e);if(t!==s)return Jn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jn(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=ws(a.integerValue||a.doubleValue),S=ws(c.integerValue||c.doubleValue);return f<S?-1:f>S?1:f===S?0:isNaN(f)?isNaN(S)?0:-1:1}(r,e);case 3:return Y(r.timestampValue,e.timestampValue);case 4:return Y(da(r),da(e));case 5:return Jn(r.stringValue,e.stringValue);case 6:return function(a,c){const f=Sa(a),S=Sa(c);return f.compareTo(S)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),S=c.split("/");for(let V=0;V<f.length&&V<S.length;V++){const H=Jn(f[V],S[V]);if(0!==H)return H}return Jn(f.length,S.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Jn(ws(a.latitude),ws(c.latitude));return 0!==f?f:Jn(ws(a.longitude),ws(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],S=c.values||[];for(let V=0;V<f.length&&V<S.length;++V){const H=O(f[V],S[V]);if(H)return H}return Jn(f.length,S.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===ha.mapValue&&c===ha.mapValue)return 0;if(a===ha.mapValue)return 1;if(c===ha.mapValue)return-1;const f=a.fields||{},S=Object.keys(f),V=c.fields||{},H=Object.keys(V);S.sort(),H.sort();for(let se=0;se<S.length&&se<H.length;++se){const Pe=Jn(S[se],H[se]);if(0!==Pe)return Pe;const ct=O(f[S[se]],V[H[se]]);if(0!==ct)return ct}return Jn(S.length,H.length)}(r.mapValue,e.mapValue);default:throw qt()}}function Y(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Jn(r,e);const t=Ka(r),s=Ka(e),a=Jn(t.seconds,s.seconds);return 0!==a?a:Jn(t.nanos,s.nanos)}function me(r){return $e(r)}function $e(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Ka(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Sa(r.bytesValue).toBase64():"referenceValue"in r?jt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=$e(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const S of a)f?f=!1:c+=",",c+=`${S}:${$e(s.fields[S])}`;return c+"}"}(r.mapValue):qt();var e}function Ct(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Xt(r){return!!r&&"integerValue"in r}function sn(r){return!!r&&"arrayValue"in r}function On(r){return!!r&&"nullValue"in r}function dr(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function kn(r){return!!r&&"mapValue"in r}function Vs(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Pa(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Vs(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vs(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Ws(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fu(r){return"nullValue"in r?nl:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Ct(So.empty(),jt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:qt()}function Nl(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Ct(So.empty(),jt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?ha:qt()}function au(r,e){const t=O(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function zo(r,e){const t=O(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Gi{constructor(e){this.value=e}static empty(){return new Gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!kn(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vs(t)}setAll(e){let t=is.emptyPath(),s={},a=[];e.forEach((f,S)=>{if(!t.isImmediateParentOf(S)){const V=this.getFieldsMap(t);this.applyChanges(V,s,a),s={},a=[],t=S.popLast()}f?s[S.lastSegment()]=Vs(f):a.push(S.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());kn(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];kn(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Pa(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Gi(Vs(this.value))}}function Ol(r){const e=[];return Pa(r.fields,(t,s)=>{const a=new is([t]);if(kn(s)){const c=Ol(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new To(e)}class Yi{constructor(e,t,s,a,c,f,S){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=S}static newInvalidDocument(e){return new Yi(e,0,Nn.min(),Nn.min(),Nn.min(),Gi.empty(),0)}static newFoundDocument(e,t,s,a){return new Yi(e,1,t,Nn.min(),s,a,0)}static newNoDocument(e,t){return new Yi(e,2,t,Nn.min(),Nn.min(),Gi.empty(),0)}static newUnknownDocument(e,t){return new Yi(e,3,t,Nn.min(),Nn.min(),Gi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yu{constructor(e,t){this.position=e,this.inclusive=t}}function Ad(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?jt.comparator(jt.fromName(f.referenceValue),t.key):O(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Mc(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Aa(r.position[t],e.position[t]))return!1;return!0}class Za{constructor(e,t="asc"){this.field=e,this.dir=t}}function Kf(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class kl{}class Xr extends kl{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new wh(e,t,s):"array-contains"===t?new d(e,s):"in"===t?new g(e,s):"not-in"===t?new T(e,s):"array-contains-any"===t?new q(e,s):new Xr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new qf(e,s):new rm(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(O(t,this.value)):null!==t&&qa(this.value)===qa(t)&&this.matchesComparison(O(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Li extends kl{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Li(e,t)}matches(e){return Na(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Na(r){return"and"===r.op}function rl(r){return"or"===r.op}function Fl(r){return Lu(r)&&Na(r)}function Lu(r){for(const e of r.filters)if(e instanceof Li)return!1;return!0}function Ll(r){if(r instanceof Xr)return r.field.canonicalString()+r.op.toString()+me(r.value);if(Fl(r))return r.filters.map(e=>Ll(e)).join(",");{const e=r.filters.map(t=>Ll(t)).join(",");return`${r.op}(${e})`}}function Md(r,e){return r instanceof Xr?(t=r,(s=e)instanceof Xr&&t.op===s.op&&t.field.isEqual(s.field)&&Aa(t.value,s.value)):r instanceof Li?function(t,s){return s instanceof Li&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&Md(c,s.filters[f]),!0)}(r,e):void qt();var t,s}function Eh(r,e){const t=r.filters.concat(e);return Li.create(t,r.op)}function Rc(r){return r instanceof Xr?`${(e=r).field.canonicalString()} ${e.op} ${me(e.value)}`:r instanceof Li?function(e){return e.op.toString()+" {"+e.getFilters().map(Rc).join(" ,")+"}"}(r):"Filter";var e}class wh extends Xr{constructor(e,t,s){super(e,t,s),this.key=jt.fromName(s.referenceValue)}matches(e){const t=jt.comparator(e.key,this.key);return this.matchesComparison(t)}}class qf extends Xr{constructor(e,t){super(e,"in",t),this.keys=D(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rm extends Xr{constructor(e,t){super(e,"not-in",t),this.keys=D(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function D(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>jt.fromName(s.referenceValue))}class d extends Xr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sn(t)&&b(t.arrayValue,this.value)}}class g extends Xr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&b(this.value.arrayValue,t)}}class T extends Xr{constructor(e,t){super(e,"not-in",t)}matches(e){if(b(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!b(this.value.arrayValue,t)}}class q extends Xr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sn(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>b(this.value.arrayValue,s))}}class ue{constructor(e,t=null,s=[],a=[],c=null,f=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=S,this.dt=null}}function Ze(r,e=null,t=[],s=[],a=null,c=null,f=null){return new ue(r,e,t,s,a,c,f)}function wt(r){const e=pn(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ll(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),mn(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>me(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>me(s)).join(",")),e.dt=t}return e.dt}function en(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Kf(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Md(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Mc(r.startAt,e.startAt)&&Mc(r.endAt,e.endAt)}function In(r){return jt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Hn(r,e){return r.filters.filter(t=>t instanceof Xr&&t.field.isEqual(e))}function Mr(r,e,t){let s=nl,a=!0;for(const c of Hn(r,e)){let f=nl,S=!0;switch(c.op){case"<":case"<=":f=Fu(c.value);break;case"==":case"in":case">=":f=c.value;break;case">":f=c.value,S=!1;break;case"!=":case"not-in":f=nl}au({value:s,inclusive:a},{value:f,inclusive:S})<0&&(s=f,a=S)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];au({value:s,inclusive:a},{value:f,inclusive:t.inclusive})<0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}function Go(r,e,t){let s=ha,a=!0;for(const c of Hn(r,e)){let f=ha,S=!0;switch(c.op){case">=":case">":f=Nl(c.value),S=!1;break;case"==":case"in":case"<=":f=c.value;break;case"<":f=c.value,S=!1;break;case"!=":case"not-in":f=ha}zo({value:s,inclusive:a},{value:f,inclusive:S})>0&&(s=f,a=S)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];zo({value:s,inclusive:a},{value:f,inclusive:t.inclusive})>0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}class Fo{constructor(e,t=null,s=[],a=[],c=null,f="F",S=null,V=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=S,this.endAt=V,this.wt=null,this._t=null}}function Vl(r,e,t,s,a,c,f,S){return new Fo(r,e,t,s,a,c,f,S)}function il(r){return new Fo(r)}function Vu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function xc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function sl(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ol(r){return null!==r.collectionGroup}function uu(r){const e=pn(r);if(null===e.wt){e.wt=[];const t=sl(e),s=xc(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new Za(t)),e.wt.push(new Za(is.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Za(is.keyField(),c))}}}return e.wt}function Ao(r){const e=pn(r);if(!e._t)if("F"===e.limitType)e._t=Ze(e.path,e.collectionGroup,uu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of uu(e))t.push(new Za(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new yu(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new yu(e.startAt.position,e.startAt.inclusive):null;e._t=Ze(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function al(r,e){e.getFirstInequalityField(),sl(r);const t=r.filters.concat([e]);return new Fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function _u(r,e,t){return new Fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function vu(r,e){return en(Ao(r),Ao(e))&&r.limitType===e.limitType}function Ul(r){return`${wt(Ao(r))}|lt:${r.limitType}`}function Bl(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Rc(s)).join(", ")}]`),mn(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>me(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>me(s)).join(",")),`Target(${t})`}(Ao(r))}; limitType=${r.limitType})`}function jl(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):jt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of uu(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const S=Ad(a,c,f);return a.inclusive?S<=0:S<0}(t.startAt,uu(t),s)||t.endAt&&!function(a,c,f){const S=Ad(a,c,f);return a.inclusive?S>=0:S>0}(t.endAt,uu(t),s)));var t,s}function Dh(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Pc(r){return(e,t)=>{let s=!1;for(const a of uu(r)){const c=S_(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function S_(r,e,t){const s=r.field.isKeyField()?jt.comparator(e.key,t.key):function(a,c,f){const S=c.data.field(a),V=f.data.field(a);return null!==S&&null!==V?O(S,V):qt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return qt()}}class Eu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return su(this.inner)}size(){return this.innerSize}}const A_=new xi(jt.comparator);function Ma(){return A_}const im=new xi(jt.comparator);function Nc(...r){let e=im;for(const t of r)e=e.insert(t.key,t);return e}function Zf(r){let e=im;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Oa(){return wu()}function Ih(){return wu()}function wu(){return new Eu(r=>r.toString(),(r,e)=>r.isEqual(e))}const M_=new xi(jt.comparator),R_=new Di(jt.comparator);function Qr(...r){let e=R_;for(const t of r)e=e.add(t);return e}const x_=new Di(Jn);function Rd(){return x_}function sm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zr(e)?"-0":e}}function Yf(r){return{integerValue:""+r}}function xd(r,e){return Es(e)?Yf(e):sm(r,e)}class Oc{constructor(){this._=void 0}}function om(r,e,t){return r instanceof Ya?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Ho(a)&&(a=ku(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof $l?um(r,e):r instanceof Hl?lm(r,e):function(s,a){const c=Qf(s,a),f=Du(c)+Du(s.gt);return Xt(c)&&Xt(s.gt)?Yf(f):sm(s.serializer,f)}(r,e)}function am(r,e,t){return r instanceof $l?um(r,e):r instanceof Hl?lm(r,e):t}function Qf(r,e){return r instanceof kc?Xt(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ya extends Oc{}class $l extends Oc{constructor(e){super(),this.elements=e}}function um(r,e){const t=zl(e);for(const s of r.elements)t.some(a=>Aa(a,s))||t.push(s);return{arrayValue:{values:t}}}class Hl extends Oc{constructor(e){super(),this.elements=e}}function lm(r,e){let t=zl(e);for(const s of r.elements)t=t.filter(a=>!Aa(a,s));return{arrayValue:{values:t}}}class kc extends Oc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Du(r){return ws(r.integerValue||r.doubleValue)}function zl(r){return sn(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Pd{constructor(e,t){this.field=e,this.transform=t}}class N_{constructor(e,t){this.version=e,this.transformResults=t}}class Us{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Us}static exists(e){return new Us(void 0,e)}static updateTime(e){return new Us(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Ch{}function Xf(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Gl(r.key,Us.none()):new Uu(r.key,r.data,Us.none());{const t=r.data,s=Gi.empty();let a=new Di(is.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new Jo(r.key,s,new To(a.toArray()),Us.none())}}function O_(r,e,t){r instanceof Uu?function(s,a,c){const f=s.value.clone(),S=Jf(s.fieldTransforms,a,c.transformResults);f.setAll(S),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Jo?function(s,a,c){if(!bh(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Jf(s.fieldTransforms,a,c.transformResults),S=a.data;S.setAll(Fc(s)),S.setAll(f),a.convertToFoundDocument(c.version,S).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Nd(r,e,t,s){return r instanceof Uu?function(a,c,f,S){if(!bh(a.precondition,c))return f;const V=a.value.clone(),H=ep(a.fieldTransforms,S,c);return V.setAll(H),c.convertToFoundDocument(c.version,V).setHasLocalMutations(),null}(r,e,t,s):r instanceof Jo?function(a,c,f,S){if(!bh(a.precondition,c))return f;const V=ep(a.fieldTransforms,S,c),H=c.data;return H.setAll(Fc(a)),H.setAll(V),c.convertToFoundDocument(c.version,H).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(se=>se.field))}(r,e,t,s):(f=t,bh(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function k_(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=Qf(s.transform,a||null);null!=c&&(null===t&&(t=Gi.empty()),t.set(s.field,c))}return t||null}function cm(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&bo(t,s,(a,c)=>function P_(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof $l&&s instanceof $l||t instanceof Hl&&s instanceof Hl?bo(t.elements,s.elements,Aa):t instanceof kc&&s instanceof kc?Aa(t.gt,s.gt):t instanceof Ya&&s instanceof Ya);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Uu extends Ch{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Jo extends Ch{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Fc(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Jf(r,e,t){const s=new Map;Sn(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,S=e.data.field(c.field);s.set(c.field,am(f,S,t[a]))}return s}function ep(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,om(c,f,e))}return s}class Gl extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dm extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hm{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&O_(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Nd(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Nd(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ih();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let S=this.applyToLocalView(f,c.mutatedFields);S=t.has(a.key)?null:S;const V=Xf(f,S);null!==V&&s.set(a.key,V),f.isValidDocument()||f.convertToNoDocument(Nn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qr())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(t,s)=>cm(t,s))&&bo(this.baseMutations,e.baseMutations,(t,s)=>cm(t,s))}}class fm{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Sn(e.mutations.length===s.length);let a=M_;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new fm(e,t,s,a)}}class Od{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class G0{constructor(e,t){this.count=e,this.unchangedNames=t}}var Lo,Ii;function pm(r){switch(r){default:return qt();case ze.CANCELLED:case ze.UNKNOWN:case ze.DEADLINE_EXCEEDED:case ze.RESOURCE_EXHAUSTED:case ze.INTERNAL:case ze.UNAVAILABLE:case ze.UNAUTHENTICATED:return!1;case ze.INVALID_ARGUMENT:case ze.NOT_FOUND:case ze.ALREADY_EXISTS:case ze.PERMISSION_DENIED:case ze.FAILED_PRECONDITION:case ze.ABORTED:case ze.OUT_OF_RANGE:case ze.UNIMPLEMENTED:case ze.DATA_LOSS:return!0}}function gm(r){if(void 0===r)return Pr("GRPC error has no .code"),ze.UNKNOWN;switch(r){case Lo.OK:return ze.OK;case Lo.CANCELLED:return ze.CANCELLED;case Lo.UNKNOWN:return ze.UNKNOWN;case Lo.DEADLINE_EXCEEDED:return ze.DEADLINE_EXCEEDED;case Lo.RESOURCE_EXHAUSTED:return ze.RESOURCE_EXHAUSTED;case Lo.INTERNAL:return ze.INTERNAL;case Lo.UNAVAILABLE:return ze.UNAVAILABLE;case Lo.UNAUTHENTICATED:return ze.UNAUTHENTICATED;case Lo.INVALID_ARGUMENT:return ze.INVALID_ARGUMENT;case Lo.NOT_FOUND:return ze.NOT_FOUND;case Lo.ALREADY_EXISTS:return ze.ALREADY_EXISTS;case Lo.PERMISSION_DENIED:return ze.PERMISSION_DENIED;case Lo.FAILED_PRECONDITION:return ze.FAILED_PRECONDITION;case Lo.ABORTED:return ze.ABORTED;case Lo.OUT_OF_RANGE:return ze.OUT_OF_RANGE;case Lo.UNIMPLEMENTED:return ze.UNIMPLEMENTED;case Lo.DATA_LOSS:return ze.DATA_LOSS;default:return qt()}}(Ii=Lo||(Lo={}))[Ii.OK=0]="OK",Ii[Ii.CANCELLED=1]="CANCELLED",Ii[Ii.UNKNOWN=2]="UNKNOWN",Ii[Ii.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ii[Ii.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ii[Ii.NOT_FOUND=5]="NOT_FOUND",Ii[Ii.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ii[Ii.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ii[Ii.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ii[Ii.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ii[Ii.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ii[Ii.ABORTED=10]="ABORTED",Ii[Ii.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ii[Ii.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ii[Ii.INTERNAL=13]="INTERNAL",Ii[Ii.UNAVAILABLE=14]="UNAVAILABLE",Ii[Ii.DATA_LOSS=15]="DATA_LOSS";class np{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Th}static getOrCreateInstance(){return null===Th&&(Th=new np),Th}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Th=null;function rp(){return new TextEncoder}const Sh=new qr([4294967295,4294967295],0);function ip(r){const e=rp().encode(r),t=new ti;return t.update(e),new Uint8Array(t.digest())}function Ah(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new qr([t,s],0),new qr([a,c],0)]}class sp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Is(`Invalid padding: ${t}`);if(s<0)throw new Is(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Is(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Is(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=qr.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(qr.fromNumber(s)));return 1===a.compare(Sh)&&(a=new qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ip(e),[s,a]=Ah(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new sp(c,a,t);return s.forEach(S=>f.insert(S)),f}insert(e){if(0===this.It)return;const t=ip(e),[s,a]=Ah(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Is extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lc{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,kd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Lc(Nn.min(),a,new xi(Jn),Ma(),Qr())}}class kd{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new kd(s,t,Qr(),Qr(),Qr())}}class Vc{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class op{constructor(e,t){this.targetId=e,this.Vt=t}}class mm{constructor(e,t,s=Gs.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class ym{constructor(){this.St=0,this.Dt=ap(),this.Ct=Gs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Qr(),t=Qr(),s=Qr();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:qt()}}),new kd(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=ap()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class F_{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ma(),this.zt=_m(),this.Wt=new xi(Jn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:qt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const f=c.target;if(In(f))if(0===a){const S=new jt(f.path);this.Yt(s,S,Yi.newNoDocument(S,Nn.min()))}else Sn(1===a);else{const S=this.ie(s);if(S!==a){const V=this.re(e,S);0!==V&&(this.ee(s),this.Wt=this.Wt.insert(s,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=np.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,se,Pe){var ct,St,Jt,Cn,En,Ur;const li={localCacheCount:se,existenceFilterCount:Pe.count},Er=Pe.unchangedNames;return Er&&(li.bloomFilter={applied:0===H,hashCount:null!==(ct=Er?.hashCount)&&void 0!==ct?ct:0,bitmapLength:null!==(Cn=null===(Jt=null===(St=Er?.bits)||void 0===St?void 0:St.bitmap)||void 0===Jt?void 0:Jt.length)&&void 0!==Cn?Cn:0,padding:null!==(Ur=null===(En=Er?.bits)||void 0===En?void 0:En.padding)&&void 0!==Ur?Ur:0}),li}(V,S,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:S=0}=s;let V,H;try{V=Sa(c).toUint8Array()}catch(se){if(se instanceof Sd)return ts("Decoding the base64 bloom filter in existence filter failed ("+se.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw se}try{H=new sp(V,f,S)}catch(se){return ts(se instanceof Is?"BloomFilter error: ":"Applying bloom filter failed: ",se),1}return 0===H.It?1:a!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Gt.ue(),S=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.vt(S)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,f)=>{const S=this.se(f);if(S){if(c.current&&In(S.target)){const V=new jt(S.target.path);null!==this.jt.get(V)||this.ae(f,V)||this.Yt(f,V,Yi.newNoDocument(V,e))}c.Mt&&(t.set(f,c.Ot()),c.Ft())}});let s=Qr();this.zt.forEach((c,f)=>{let S=!0;f.forEachWhile(V=>{const H=this.se(V);return!H||"TargetPurposeLimboResolution"===H.purpose||(S=!1,!1)}),S&&(s=s.add(c))}),this.jt.forEach((c,f)=>f.setReadTime(e));const a=new Lc(e,t,this.Wt,this.jt,s);return this.jt=Ma(),this.zt=_m(),this.Wt=new xi(Jn),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ym,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Di(Jn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ut("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ym),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function _m(){return new xi(jt.comparator)}function ap(){return new xi(jt.comparator)}const W0={asc:"ASCENDING",desc:"DESCENDING"},K0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fd={and:"AND",or:"OR"};class up{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mh(r,e){return r.useProto3Json||mn(e)?e:{value:e}}function Wl(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lp(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function q0(r,e){return Wl(r,e.toTimestamp())}function Do(r){return Sn(!!r),Nn.fromTimestamp(function(e){const t=Ka(e);return new wi(t.seconds,t.nanos)}(r))}function Rh(r,e){return(t=r,new Ar(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cp(r){const e=Ar.fromString(r);return Sn(Im(e)),e}function Kl(r,e){return Rh(r.databaseId,e.path)}function Bu(r,e){const t=cp(e);if(t.get(1)!==r.databaseId.projectId)throw new at(ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new at(ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new jt(dp(t))}function Ld(r,e){return Rh(r.databaseId,e)}function vm(r){const e=cp(r);return 4===e.length?Ar.emptyPath():dp(e)}function ql(r){return new Ar(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dp(r){return Sn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function hp(r,e,t){return{name:Kl(r,e),fields:t.value.mapValue.fields}}function ul(r,e,t){const s=Bu(r,e.name),a=Do(e.updateTime),c=e.createTime?Do(e.createTime):Nn.min(),f=new Gi({mapValue:{fields:e.fields}}),S=Yi.newFoundDocument(s,a,c,f);return t&&S.setHasCommittedMutations(),t?S.setHasCommittedMutations():S}function ll(r,e){let t;if(e instanceof Uu)t={update:hp(r,e.key,e.value)};else if(e instanceof Gl)t={delete:Kl(r,e.key)};else if(e instanceof Jo)t={update:hp(r,e.key,e.data),updateMask:_p(e.fieldMask)};else{if(!(e instanceof dm))return qt();t={verify:Kl(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof Ya)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof $l)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Hl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof kc)return{fieldPath:c.field.canonicalString(),increment:f.gt};throw qt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:q0(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:qt()),t;var a}function pp(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Us.updateTime(Do(a.updateTime)):void 0!==a.exists?Us.exists(a.exists):Us.none():Us.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,f){let S=null;"setToServerValue"in f?(Sn("REQUEST_TIME"===f.setToServerValue),S=new Ya):"appendMissingElements"in f?S=new $l(f.appendMissingElements.values||[]):"removeAllFromArray"in f?S=new Hl(f.removeAllFromArray.values||[]):"increment"in f?S=new kc(c,f.increment):qt();const V=is.fromServerFormat(f.fieldPath);return new Pd(V,S)}(r,a)):[];var a;if(e.update){const a=Bu(r,e.update.name),c=new Gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new To((e.updateMask.fieldPaths||[]).map(H=>is.fromServerFormat(H)));return new Jo(a,c,f,t,s)}return new Uu(a,c,t,s)}if(e.delete){const a=Bu(r,e.delete);return new Gl(a,t)}if(e.verify){const a=Bu(r,e.verify);return new dm(a,t)}return qt()}function Vd(r,e){return{documents:[Ld(r,e.path)]}}function ju(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Ld(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ld(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(V){if(0!==V.length)return Dm(Li.create(V,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(V){if(0!==V.length)return V.map(H=>{return{field:cl((se=H).field),direction:V_(se.dir)};var se})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Mh(r,e.limit);var S,V;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),t}function mp(r){let e=vm(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Sn(1===s);const se=t.from[0];se.allDescendants?a=se.collectionId:e=e.child(se.collectionId)}let c=[];t.where&&(c=function(se){const Pe=Em(se);return Pe instanceof Li&&Fl(Pe)?Pe.getFilters():[Pe]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(se=>{return new Za(Bc((Pe=se).field),function(ct){switch(ct){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Pe.direction));var Pe}));let S=null;t.limit&&(S=function(se){let Pe;return Pe="object"==typeof se?se.value:se,mn(Pe)?null:Pe}(t.limit));let V=null;var se;t.startAt&&(V=new yu((se=t.startAt).values||[],!!se.before));let H=null;return t.endAt&&(H=function(se){return new yu(se.values||[],!se.before)}(t.endAt)),Vl(e,a,f,c,S,"F",V,H)}function Em(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Bc(e.unaryFilter.field);return Xr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Bc(e.unaryFilter.field);return Xr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Bc(e.unaryFilter.field);return Xr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bc(e.unaryFilter.field);return Xr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return qt()}}(r):void 0!==r.fieldFilter?Xr.create(Bc((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Li.create(e.compositeFilter.filters.map(t=>Em(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return qt()}}(e.compositeFilter.op))}(r):qt();var e}function V_(r){return W0[r]}function wm(r){return K0[r]}function Uc(r){return Fd[r]}function cl(r){return{fieldPath:r.canonicalString()}}function Bc(r){return is.fromServerFormat(r.fieldPath)}function Dm(r){return r instanceof Xr?function(e){if("=="===e.op){if(dr(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NAN"}};if(On(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dr(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NAN"}};if(On(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(e.field),op:wm(e.op),value:e.value}}}(r):r instanceof Li?function(e){const t=e.getFilters().map(s=>Dm(s));return 1===t.length?t[0]:{compositeFilter:{op:Uc(e.op),filters:t}}}(r):qt()}function _p(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Im(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Iu{constructor(e,t,s,a,c=Nn.min(),f=Nn.min(),S=Gs.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=S,this.expectedCount=V}withSequenceNumber(e){return new Iu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bm{constructor(e){this.fe=e}}function U_(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:xh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Kl(a=r.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Wl(a,c.version.toTimestamp()),createTime:Wl(a,c.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:lu(e.version)};else{if(!e.isUnknownDocument())return qt();s.unknownDocument={path:t.path.toArray(),version:lu(e.version)}}var a,c;return s}function xh(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function lu(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Zl(r){const e=new wi(r.seconds,r.nanoseconds);return Nn.fromTimestamp(e)}function Qa(r,e){const t=(e.baseMutations||[]).map(c=>pp(r.fe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const s=e.mutations.map(c=>pp(r.fe,c)),a=wi.fromMillis(e.localWriteTimeMs);return new hm(e.batchId,a,t,s)}function $u(r){const e=Zl(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Zl(r.lastLimboFreeSnapshotVersion):Nn.min();let s;var a;return void 0!==r.query.documents?(Sn(1===(a=r.query).documents.length),s=Ao(il(vm(a.documents[0])))):s=Ao(mp(r.query)),new Iu(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Gs.fromBase64String(r.resumeToken))}function Tm(r,e){const t=lu(e.snapshotVersion),s=lu(e.lastLimboFreeSnapshotVersion);let a;a=In(e.target)?Vd(r.fe,e.target):ju(r.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wt(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Ph(r){const e=mp({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?_u(e,e.limit,"L"):e}function vp(r,e){return new Od(e.largestBatchId,pp(r.fe,e.overlayMutation))}function Sm(r,e){const t=e.path.lastSegment();return[r,Si(e.path.popLast()),t]}function Am(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:lu(s.readTime),documentKey:Si(s.documentKey.path),largestBatchId:s.largestBatchId}}class Mm{getBundleMetadata(e,t){return Ep(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Zl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Ep(e).put({bundleId:(s=t).id,createTime:lu(Do(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Nh(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Ph(a.bundledQuery),readTime:Zl(a.readTime)};var a})}saveNamedQuery(e,t){return Nh(e).put({name:(s=t).name,readTime:lu(Do(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Ep(r){return oo(r,"bundles")}function Nh(r){return oo(r,"namedQueries")}class jc{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new jc(e,t.uid||"")}getOverlay(e,t){return Ud(e).get(Sm(this.userId,t)).next(s=>s?vp(this.serializer,s):null)}getOverlays(e,t){const s=Oa();return lt.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,f)=>{const S=new Od(t,f);a.push(this.we(e,S))}),lt.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(f=>a.add(Si(f.getCollectionPath())));const c=[];return a.forEach(f=>{const S=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,s+1],!1,!0);c.push(Ud(e).J("collectionPathOverlayIndex",S))}),lt.waitFor(c)}getOverlaysForCollection(e,t,s){const a=Oa(),c=Si(t),f=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Ud(e).j("collectionPathOverlayIndex",f).next(S=>{for(const V of S){const H=vp(this.serializer,V);a.set(H.getKey(),H)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=Oa();let f;const S=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ud(e).X({index:"collectionGroupOverlayIndex",range:S},(V,H,se)=>{const Pe=vp(this.serializer,H);c.size()<a||Pe.largestBatchId===f?(c.set(Pe.getKey(),Pe),f=Pe.largestBatchId):se.done()}).next(()=>c)}we(e,t){return Ud(e).put(function(s,a,c){const[f,S,V]=Sm(a,c.mutation.key);return{userId:a,collectionPath:S,documentId:V,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:ll(s.fe,c.mutation)}}(this.serializer,this.userId,t))}}function Ud(r){return oo(r,"documentOverlays")}class Hu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ws(e.integerValue));else if("doubleValue"in e){const s=ws(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),zr(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Sa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?Ws(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):qt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),jt.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Bd(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Rm(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=Bd(255&t[a]);if(s+=c,8!==c)break}return s}(r);return Math.ceil(e/8)}Hu.Ve=new Hu;class B_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),s=Rm(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),s=Rm(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class j_{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class $_{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class $c{constructor(){this.je=new B_,this.ze=new j_(this.je),this.We=new $_(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class dl{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new dl(this.indexId,this.documentKey,this.arrayValue,s)}}function hl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Yl(r.arrayValue,e.arrayValue),0!==t?t:(t=Yl(r.directionalValue,e.directionalValue),0!==t?t:jt.comparator(r.documentKey,e.documentKey)))}function Yl(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class zu{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){Sn(e.collectionGroup===this.collectionId);const t=Ru(e);if(void 0!==t&&!this.en(t))return!1;const s=Ha(e);let a=new Set,c=0,f=0;for(;c<s.length&&this.en(s[c]);++c)a=a.add(s[c].fieldPath.canonicalString());if(c===s.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const S=s[c];if(!this.nn(this.Ze,S)||!this.sn(this.Ye[f++],S))return!1}++c}for(;c<s.length;++c)if(f>=this.Ye.length||!this.sn(this.Ye[f++],s[c]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function xm(r){var e,t;if(Sn(r instanceof Xr||r instanceof Li),r instanceof Xr){if(r instanceof g){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Xr.create(r.field,"==",c)))||[];return Li.create(a,"or")}return r}const s=r.filters.map(a=>xm(a));return Li.create(s,r.op)}function H_(r){if(0===r.getFilters().length)return[];const e=Om(xm(r));return Sn(wp(e)),Pm(e)||Nm(e)?[e]:e.getFilters()}function Pm(r){return r instanceof Xr}function Nm(r){return r instanceof Li&&Fl(r)}function wp(r){return Pm(r)||Nm(r)||function(e){if(e instanceof Li&&rl(e)){for(const t of e.getFilters())if(!Pm(t)&&!Nm(t))return!1;return!0}return!1}(r)}function Om(r){if(Sn(r instanceof Xr||r instanceof Li),r instanceof Xr)return r;if(1===r.filters.length)return Om(r.filters[0]);const e=r.filters.map(s=>Om(s));let t=Li.create(e,r.op);return t=kh(t),wp(t)?t:(Sn(t instanceof Li),Sn(Na(t)),Sn(t.filters.length>1),t.filters.reduce((s,a)=>Oh(s,a)))}function Oh(r,e){let t;return Sn(r instanceof Xr||r instanceof Li),Sn(e instanceof Xr||e instanceof Li),t=r instanceof Xr?e instanceof Xr?Li.create([r,e],"and"):Dp(r,e):e instanceof Xr?Dp(e,r):function(s,a){if(Sn(s.filters.length>0&&a.filters.length>0),Na(s)&&Na(a))return Eh(s,a.getFilters());const c=rl(s)?s:a,f=rl(s)?a:s,S=c.filters.map(V=>Oh(V,f));return Li.create(S,"or")}(r,e),kh(t)}function Dp(r,e){if(Na(e))return Eh(e,r.getFilters());{const t=e.filters.map(s=>Oh(r,s));return Li.create(t,"or")}}function kh(r){if(Sn(r instanceof Xr||r instanceof Li),r instanceof Xr)return r;const e=r.getFilters();if(1===e.length)return kh(e[0]);if(Lu(r))return r;const t=e.map(a=>kh(a)),s=[];return t.forEach(a=>{a instanceof Xr?s.push(a):a instanceof Li&&(a.op===r.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:Li.create(s,r.op)}class km{constructor(){this.rn=new Ip}addToCollectionParentIndex(e,t){return this.rn.add(t),lt.resolve()}getCollectionParents(e,t){return lt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return lt.resolve()}deleteFieldIndex(e,t){return lt.resolve()}getDocumentsMatchingTarget(e,t){return lt.resolve(null)}getIndexType(e,t){return lt.resolve(0)}getFieldIndexes(e,t){return lt.resolve([])}getNextCollectionGroupToUpdate(e){return lt.resolve(null)}getMinOffset(e,t){return lt.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,t){return lt.resolve(Co.min())}updateCollectionGroup(e,t,s){return lt.resolve()}updateIndexEntries(e,t){return lt.resolve()}}class Ip{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Di(Ar.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Di(Ar.comparator)).toArray()}}const Fh=new Uint8Array(0);class cu{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Ip,this.un=new Eu(s=>wt(s),(s,a)=>en(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const c={collectionId:s,parent:Si(a)};return Fm(e).put(c)}return lt.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[ja(t),""],!1,!0);return Fm(e).j(a).next(c=>{for(const f of c){if(f.collectionId!==t)break;s.push(ui(f.parent))}return s})}addFieldIndex(e,t){const s=Lh(e),a={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var f;delete a.indexId;const c=s.add(a);if(t.indexState){const f=jd(e);return c.next(S=>{f.put(Am(S,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=Lh(e),a=jd(e),c=Hc(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Hc(e);let a=!0;const c=new Map;return lt.forEach(this.cn(t),f=>this.an(e,f).next(S=>{a&&(a=!!S),c.set(f,S)})).next(()=>{if(a){let f=Qr();const S=[];return lt.forEach(c,(V,H)=>{var se;Ut("IndexedDbIndexManager",`Using index ${se=V,`id=${se.indexId}|cg=${se.collectionGroup}|f=${se.fields.map(Er=>`${Er.fieldPath}:${Er.kind}`).join(",")}`} to execute ${wt(t)}`);const Pe=function(Er,Ks){const Ds=Ru(Ks);if(void 0===Ds)return null;for(const hs of Hn(Er,Ds.fieldPath))switch(hs.op){case"array-contains-any":return hs.value.arrayValue.values||[];case"array-contains":return[hs.value]}return null}(H,V),ct=function(Er,Ks){const Ds=new Map;for(const hs of Ha(Ks))for(const Vo of Hn(Er,hs.fieldPath))switch(Vo.op){case"==":case"in":Ds.set(hs.fieldPath.canonicalString(),Vo.value);break;case"not-in":case"!=":return Ds.set(hs.fieldPath.canonicalString(),Vo.value),Array.from(Ds.values())}return null}(H,V),St=function(Er,Ks){const Ds=[];let hs=!0;for(const Vo of Ha(Ks)){const Su=0===Vo.kind?Mr(Er,Vo.fieldPath,Er.startAt):Go(Er,Vo.fieldPath,Er.startAt);Ds.push(Su.value),hs&&(hs=Su.inclusive)}return new yu(Ds,hs)}(H,V),Jt=function(Er,Ks){const Ds=[];let hs=!0;for(const Vo of Ha(Ks)){const Su=0===Vo.kind?Go(Er,Vo.fieldPath,Er.endAt):Mr(Er,Vo.fieldPath,Er.endAt);Ds.push(Su.value),hs&&(hs=Su.inclusive)}return new yu(Ds,hs)}(H,V),Cn=this.hn(V,H,St),En=this.hn(V,H,Jt),Ur=this.ln(V,H,ct),li=this.fn(V.indexId,Pe,Cn,St.inclusive,En,Jt.inclusive,Ur);return lt.forEach(li,Er=>s.H(Er,t.limit).next(Ks=>{Ks.forEach(Ds=>{const hs=jt.fromSegments(Ds.documentKey);f.has(hs)||(f=f.add(hs),S.push(hs))})}))}).next(()=>S)}return lt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:H_(Li.create(e.filters,"and")).map(s=>Ze(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,a,c,f,S){const V=(null!=t?t.length:1)*Math.max(s.length,c.length),H=V/(null!=t?t.length:1),se=[];for(let Pe=0;Pe<V;++Pe){const ct=t?this.dn(t[Pe/H]):Fh,St=this.wn(e,ct,s[Pe%H],a),Jt=this._n(e,ct,c[Pe%H],f),Cn=S.map(En=>this.wn(e,ct,En,!0));se.push(...this.createRange(St,Jt,Cn))}return se}wn(e,t,s,a){const c=new dl(e,jt.empty(),t,s);return a?c:c.Je()}_n(e,t,s,a){const c=new dl(e,jt.empty(),t,s);return a?c.Je():c}an(e,t){const s=new zu(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let f=null;for(const S of c)s.tn(S)&&(!f||S.fields.length>f.fields.length)&&(f=S);return f})}getIndexType(e,t){let s=2;const a=this.cn(t);return lt.forEach(a,c=>this.an(e,c).next(f=>{f?0!==s&&f.fields.length<function(S){let V=new Di(is.comparator),H=!1;for(const se of S.filters)for(const Pe of se.getFlattenedFilters())Pe.field.isKeyField()||("array-contains"===Pe.op||"array-contains-any"===Pe.op?H=!0:V=V.add(Pe.field));for(const se of S.orderBy)se.field.isKeyField()||(V=V.add(se.field));return V.size+(H?1:0)}(c)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}mn(e,t){const s=new $c;for(const a of Ha(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const f=s.He(a.kind);Hu.Ve._e(c,f)}return s.Qe()}dn(e){const t=new $c;return Hu.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new $c;return Hu.Ve._e(Ct(this.databaseId,t),s.He(function(a){const c=Ha(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let a=[];a.push(new $c);let c=0;for(const f of Ha(e)){const S=s[c++];for(const V of a)if(this.yn(t,f.fieldPath)&&sn(S))a=this.pn(a,f,S);else{const H=V.He(f.kind);Hu.Ve._e(S,H)}}return this.In(a)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const a=[...e],c=[];for(const f of s.arrayValue.values||[])for(const S of a){const V=new $c;V.seed(S.Qe()),Hu.Ve._e(f,V.He(t.kind)),c.push(V)}return c}yn(e,t){return!!e.filters.find(s=>s instanceof Xr&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Lh(e),a=jd(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(c=>{const f=[];return lt.forEach(c,S=>a.get([S.indexId,this.uid]).next(V=>{f.push(function(H,se){const Pe=se?new ru(se.sequenceNumber,new Co(Zl(se.readTime),new jt(ui(se.documentKey)),se.largestBatchId)):ru.empty(),ct=H.fields.map(([St,Jt])=>new ga(is.fromServerFormat(St),Jt));return new $a(H.indexId,H.collectionGroup,ct,Pe)}(S,V))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:Jn(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Lh(e),c=jd(e);return this.Tn(e).next(f=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>lt.forEach(S,V=>c.put(Am(V.indexId,this.user,f,s)))))}updateIndexEntries(e,t){const s=new Map;return lt.forEach(t,(a,c)=>{const f=s.get(a.collectionGroup);return(f?lt.resolve(f):this.getFieldIndexes(e,a.collectionGroup)).next(S=>(s.set(a.collectionGroup,S),lt.forEach(S,V=>this.En(e,a,V).next(H=>{const se=this.An(c,V);return H.isEqual(se)?lt.resolve():this.vn(e,c,V,H,se)}))))})}Rn(e,t,s,a){return Hc(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,a){return Hc(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const a=Hc(e);let c=new Di(hl);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(f,S)=>{c=c.add(new dl(s.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>c)}An(e,t){let s=new Di(hl);const a=this.mn(t,e);if(null==a)return s;const c=Ru(t);if(null!=c){const f=e.data.field(c.fieldPath);if(sn(f))for(const S of f.arrayValue.values||[])s=s.add(new dl(t.indexId,e.key,this.dn(S),a))}else s=s.add(new dl(t.indexId,e.key,Fh,a));return s}vn(e,t,s,a,c){Ut("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(S,V,H,se,Pe){const ct=S.getIterator(),St=V.getIterator();let Jt=Ou(ct),Cn=Ou(St);for(;Jt||Cn;){let En=!1,Ur=!1;if(Jt&&Cn){const li=H(Jt,Cn);li<0?Ur=!0:li>0&&(En=!0)}else null!=Jt?Ur=!0:En=!0;En?(se(Cn),Cn=Ou(St)):Ur?(Pe(Jt),Jt=Ou(ct)):(Jt=Ou(ct),Cn=Ou(St))}}(a,c,hl,S=>{f.push(this.Rn(e,t,s,S))},S=>{f.push(this.Pn(e,t,s,S))}),lt.waitFor(f)}Tn(e){let t=1;return jd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((f,S)=>hl(f,S)).filter((f,S,V)=>!S||0!==hl(f,V[S-1]));const a=[];a.push(e);for(const f of s){const S=hl(f,e),V=hl(f,t);if(0===S)a[0]=e.Je();else if(S>0&&V<0)a.push(f),a.push(f.Je());else if(V>0)break}a.push(t);const c=[];for(let f=0;f<a.length;f+=2){if(this.bn(a[f],a[f+1]))return[];c.push(IDBKeyRange.bound([a[f].indexId,this.uid,a[f].arrayValue,a[f].directionalValue,Fh,[]],[a[f+1].indexId,this.uid,a[f+1].arrayValue,a[f+1].directionalValue,Fh,[]]))}return c}bn(e,t){return hl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Lm)}getMinOffset(e,t){return lt.mapArray(this.cn(t),s=>this.an(e,s).next(a=>a||qt())).next(Lm)}}function Fm(r){return oo(r,"collectionParents")}function Hc(r){return oo(r,"indexEntries")}function Lh(r){return oo(r,"indexConfiguration")}function jd(r){return oo(r,"indexState")}function Lm(r){Sn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;ss(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Co(e.readTime,e.documentKey,t)}const Vm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ea{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ea(e,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Um(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),c=[],f=IDBKeyRange.only(t.batchId);let S=0;const V=s.X({range:f},(se,Pe,ct)=>(S++,ct.delete()));c.push(V.next(()=>{Sn(1===S)}));const H=[];for(const se of t.mutations){const Pe=Ta(e,se.key.path,t.batchId);c.push(a.delete(Pe)),H.push(se.key)}return lt.waitFor(c).next(()=>H)}function Vh(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw qt();e=r.noDocument}return JSON.stringify(e).length}ea.DEFAULT_COLLECTION_PERCENTILE=10,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ea.DEFAULT=new ea(41943040,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ea.DISABLED=new ea(-1,0,0);class Uh{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Vn={}}static de(e,t,s,a){Sn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Uh(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).X({index:"userMutationsIndex",range:s},(a,c,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=Ql(e),f=Gu(e);return f.add({}).next(S=>{Sn("number"==typeof S);const V=new hm(S,t,s,a),H=function(ct,St,Jt){const Cn=Jt.baseMutations.map(Ur=>ll(ct.fe,Ur)),En=Jt.mutations.map(Ur=>ll(ct.fe,Ur));return{userId:St,batchId:Jt.batchId,localWriteTimeMs:Jt.localWriteTime.toMillis(),baseMutations:Cn,mutations:En}}(this.serializer,this.userId,V),se=[];let Pe=new Di((ct,St)=>Jn(ct.canonicalString(),St.canonicalString()));for(const ct of a){const St=Ta(this.userId,ct.key.path,S);Pe=Pe.add(ct.key.path.popLast()),se.push(f.put(H)),se.push(c.put(St,wc))}return Pe.forEach(ct=>{se.push(this.indexManager.addToCollectionParentIndex(e,ct))}),e.addOnCommittedListener(()=>{this.Vn[S]=V.keys()}),lt.waitFor(se).next(()=>V)})}lookupMutationBatch(e,t){return Gu(e).get(t).next(s=>s?(Sn(s.userId===this.userId),Qa(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?lt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return Gu(e).X({index:"userMutationsIndex",range:a},(f,S,V)=>{S.userId===this.userId&&(Sn(S.batchId>=s),c=Qa(this.serializer,S)),V.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Gu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,f)=>{s=c.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).j("userMutationsIndex",t).next(s=>s.map(a=>Qa(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=xa(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return Ql(e).X({range:a},(f,S,V)=>{const[H,se,Pe]=f,ct=ui(se);if(H===this.userId&&t.path.isEqual(ct))return Gu(e).get(Pe).next(St=>{if(!St)throw qt();Sn(St.userId===this.userId),c.push(Qa(this.serializer,St))});V.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Di(Jn);const a=[];return t.forEach(c=>{const f=xa(this.userId,c.path),S=IDBKeyRange.lowerBound(f),V=Ql(e).X({range:S},(H,se,Pe)=>{const[ct,St,Jt]=H,Cn=ui(St);ct===this.userId&&c.path.isEqual(Cn)?s=s.add(Jt):Pe.done()});a.push(V)}),lt.waitFor(a).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=xa(this.userId,s),f=IDBKeyRange.lowerBound(c);let S=new Di(Jn);return Ql(e).X({range:f},(V,H,se)=>{const[Pe,ct,St]=V,Jt=ui(ct);Pe===this.userId&&s.isPrefixOf(Jt)?Jt.length===a&&(S=S.add(St)):se.done()}).next(()=>this.Dn(e,S))}Dn(e,t){const s=[],a=[];return t.forEach(c=>{a.push(Gu(e).get(c).next(f=>{if(null===f)throw qt();Sn(f.userId===this.userId),s.push(Qa(this.serializer,f))}))}),lt.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Um(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),lt.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return lt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return Ql(e).X({range:s},(c,f,S)=>{if(c[0]===this.userId){const V=ui(c[1]);a.push(V)}else S.done()}).next(()=>{Sn(0===a.length)})})}containsKey(e,t){return Nr(e,this.userId,t)}xn(e){return bp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Nr(r,e,t){const s=xa(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let f=!1;return Ql(r).X({range:c,Y:!0},(S,V,H)=>{const[se,Pe,ct]=S;se===e&&Pe===a&&(f=!0),H.done()}).next(()=>f)}function Gu(r){return oo(r,"mutations")}function Ql(r){return oo(r,"documentMutations")}function bp(r){return oo(r,"mutationQueues")}class Xl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Xl(0)}static Mn(){return new Xl(-1)}}class z_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new Xl(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Nn.fromTimestamp(new wi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Jl(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(Sn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Jl(e).X((f,S)=>{const V=$u(S);V.sequenceNumber<=t&&null===s.get(V.targetId)&&(a++,c.push(this.removeTargetData(e,V)))}).next(()=>lt.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Jl(e).X((s,a)=>{const c=$u(a);t(c)})}$n(e){return Bm(e).get("targetGlobalKey").next(t=>(Sn(null!==t),t))}On(e,t){return Bm(e).put("targetGlobalKey",t)}Fn(e,t){return Jl(e).put(Tm(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=wt(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Jl(e).X({range:a,index:"queryTargetsIndex"},(f,S,V)=>{const H=$u(S);en(t,H.target)&&(c=H,V.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=Wu(e);return t.forEach(f=>{const S=Si(f.path);a.push(c.put({targetId:s,path:S})),a.push(this.referenceDelegate.addReference(e,s,f))}),lt.waitFor(a)}removeMatchingKeys(e,t,s){const a=Wu(e);return lt.forEach(t,c=>{const f=Si(c.path);return lt.waitFor([a.delete([s,f]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=Wu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Wu(e);let c=Qr();return a.X({range:s,Y:!0},(f,S,V)=>{const H=ui(f[1]),se=new jt(H);c=c.add(se)}).next(()=>c)}containsKey(e,t){const s=Si(t.path),a=IDBKeyRange.bound([s],[ja(s)],!1,!0);let c=0;return Wu(e).X({index:"documentTargetsIndex",Y:!0,range:a},([f,S],V,H)=>{0!==f&&(c++,H.done())}).next(()=>c>0)}le(e,t){return Jl(e).get(t).next(s=>s?$u(s):null)}}function Jl(r){return oo(r,"targets")}function Bm(r){return oo(r,"targetGlobal")}function Wu(r){return oo(r,"targetDocuments")}function jm([r,e],[t,s]){const a=Jn(r,t);return 0===a?Jn(e,s):a}class G_{constructor(e){this.Ln=e,this.buffer=new Di(jm),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();jm(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class W_{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ut("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ie.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){y(s)?Ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield ca(s)}yield t.Qn(3e5)}))}}class $m{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return lt.resolve(nn.ct);const s=new G_(t);return this.jn.forEachTarget(e,a=>s.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>s.Kn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ut("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(Vm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vm):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,a,c,f,S,V,H;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Pe=>(Pe>this.params.maximumSequenceNumbersToCollect?(Ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Pe}`),a=this.params.maximumSequenceNumbersToCollect):a=Pe,f=Date.now(),this.nthSequenceNumber(e,a))).next(Pe=>(s=Pe,S=Date.now(),this.removeTargets(e,s,t))).next(Pe=>(c=Pe,V=Date.now(),this.removeOrphanedDocuments(e,s))).next(Pe=>(H=Date.now(),zi()<=fe.in.DEBUG&&Ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-se}ms\n\tDetermined least recently used ${a} in `+(S-f)+`ms\n\tRemoved ${c} targets in `+(V-S)+`ms\n\tRemoved ${Pe} documents in `+(H-V)+`ms\nTotal Duration: ${H-se}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:Pe})))}}class ec{constructor(e,t){this.db=e,this.garbageCollector=function Cp(r,e){return new $m(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,a)=>t(a))}addReference(e,t,s){return Bh(e,s)}removeReference(e,t,s){return Bh(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Bh(e,t)}Xn(e,t){return function(s,a){let c=!1;return bp(s).Z(f=>Nr(s,f,a).next(S=>(S&&(c=!0),lt.resolve(!S)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Yn(e,(f,S)=>{if(S<=t){const V=this.Xn(e,f).next(H=>{if(!H)return c++,s.getEntry(e,f).next(()=>(s.removeEntry(f,Nn.min()),Wu(e).delete([0,Si(f.path)])))});a.push(V)}}).next(()=>lt.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Bh(e,t)}Yn(e,t){const s=Wu(e);let a,c=nn.ct;return s.X({index:"documentTargetsIndex"},([f,S],{path:V,sequenceNumber:H})=>{0===f?(c!==nn.ct&&t(new jt(ui(a)),c),c=H,a=V):c=nn.ct}).next(()=>{c!==nn.ct&&t(new jt(ui(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Bh(r,e){return Wu(r).put((s=r.currentSequenceNumber,{targetId:0,path:Si(e.path),sequenceNumber:s}));var s}class jh{constructor(){this.changes=new Eu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?lt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return zc(e).put(s)}removeEntry(e,t,s){return zc(e).delete(function(a,c){const f=a.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],xh(c),f[f.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=Yi.newInvalidDocument(t);return zc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only($d(t))},(a,c)=>{s=this.ts(t,c)}).next(()=>s)}es(e,t){let s={size:0,document:Yi.newInvalidDocument(t)};return zc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only($d(t))},(a,c)=>{s={document:this.ts(t,c),size:Vh(c)}}).next(()=>s)}getEntries(e,t){let s=Ma();return this.ns(e,t,(a,c)=>{const f=this.ts(a,c);s=s.insert(a,f)}).next(()=>s)}ss(e,t){let s=Ma(),a=new xi(jt.comparator);return this.ns(e,t,(c,f)=>{const S=this.ts(c,f);s=s.insert(c,S),a=a.insert(c,Vh(f))}).next(()=>({documents:s,rs:a}))}ns(e,t,s){if(t.isEmpty())return lt.resolve();let a=new Di(q_);t.forEach(V=>a=a.add(V));const c=IDBKeyRange.bound($d(a.first()),$d(a.last())),f=a.getIterator();let S=f.getNext();return zc(e).X({index:"documentKeyIndex",range:c},(V,H,se)=>{const Pe=jt.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;S&&q_(S,Pe)<0;)s(S,null),S=f.getNext();S&&S.isEqual(Pe)&&(s(S,H),S=f.hasNext()?f.getNext():null),S?se.G($d(S)):se.done()}).next(()=>{for(;S;)s(S,null),S=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const c=t.path,f=[c.popLast().toArray(),c.lastSegment(),xh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],S=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zc(e).j(IDBKeyRange.bound(f,S,!0)).next(V=>{let H=Ma();for(const se of V){const Pe=this.ts(jt.fromSegments(se.prefixPath.concat(se.collectionGroup,se.documentId)),se);Pe.isFoundDocument()&&(jl(t,Pe)||a.has(Pe.key))&&(H=H.insert(Pe.key,Pe))}return H})}getAllFromCollectionGroup(e,t,s,a){let c=Ma();const f=Sp(t,s),S=Sp(t,Co.max());return zc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,S,!0)},(V,H,se)=>{const Pe=this.ts(jt.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);c=c.insert(Pe.key,Pe),c.size===a&&se.done()}).next(()=>c)}newChangeBuffer(e){return new Z0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return K_(e).get("remoteDocumentGlobalKey").next(t=>(Sn(!!t),t))}Zn(e,t){return K_(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function Cm(r,e){let t;if(e.document)t=ul(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=jt.fromSegments(e.noDocument.path),a=Zl(e.noDocument.readTime);t=Yi.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return qt();{const s=jt.fromSegments(e.unknownDocument.path),a=Zl(e.unknownDocument.version);t=Yi.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new wi(s[0],s[1]);return Nn.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(Nn.min()))return s}return Yi.newInvalidDocument(e)}}function Hm(r){return new Tp(r)}class Z0 extends jh{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Eu(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Di((c,f)=>Jn(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const S=this.us.get(c);if(t.push(this.os.removeEntry(e,c,S.readTime)),f.isValidDocument()){const V=U_(this.os.serializer,f);a=a.add(c.path.popLast());const H=Vh(V);s+=H-S.size,t.push(this.os.addEntry(e,c,V))}else if(s-=S.size,this.trackRemovals){const V=U_(this.os.serializer,f.convertToNoDocument(Nn.min()));t.push(this.os.addEntry(e,c,V))}}),a.forEach(c=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.os.updateMetadata(e,s)),lt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:a})=>(a.forEach((c,f)=>{this.us.set(c,{size:f,readTime:s.get(c).readTime})}),s))}}function K_(r){return oo(r,"remoteDocumentGlobal")}function zc(r){return oo(r,"remoteDocumentsV14")}function $d(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Sp(r,e){const t=e.documentKey.path.toArray();return[r,xh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function q_(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=Jn(t[c],s[c]),a)return a;return a=Jn(t.length,s.length),a||(a=Jn(t[t.length-2],s[s.length-2]),a||Jn(t[t.length-1],s[s.length-1]))}class Z_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tc{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Nd(s.mutation,a,To.empty(),wi.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Qr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Qr()){const a=Oa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=Nc();return c.forEach((S,V)=>{f=f.insert(S,V.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=Oa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Qr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,S)=>{t.set(f,S)})})}computeViews(e,t,s,a){let c=Ma();const f=wu(),S=wu();return t.forEach((V,H)=>{const se=s.get(H.key);a.has(H.key)&&(void 0===se||se.mutation instanceof Jo)?c=c.insert(H.key,H):void 0!==se?(f.set(H.key,se.mutation.getFieldMask()),Nd(se.mutation,H,se.mutation.getFieldMask(),wi.now())):f.set(H.key,To.empty())}),this.recalculateAndSaveOverlays(e,c).next(V=>(V.forEach((H,se)=>f.set(H,se)),t.forEach((H,se)=>{var Pe;return S.set(H,new Z_(se,null!==(Pe=f.get(H))&&void 0!==Pe?Pe:null))}),S))}recalculateAndSaveOverlays(e,t){const s=wu();let a=new xi((f,S)=>f-S),c=Qr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const S of f)S.keys().forEach(V=>{const H=t.get(V);if(null===H)return;let se=s.get(V)||To.empty();se=S.applyToLocalView(H,se),s.set(V,se);const Pe=(a.get(S.batchId)||Qr()).add(V);a=a.insert(S.batchId,Pe)})}).next(()=>{const f=[],S=a.getReverseIterator();for(;S.hasNext();){const V=S.getNext(),H=V.key,se=V.value,Pe=Ih();se.forEach(ct=>{if(!c.has(ct)){const St=Xf(t.get(ct),s.get(ct));null!==St&&Pe.set(ct,St),c=c.add(ct)}}),f.push(this.documentOverlayCache.saveOverlays(e,H,Pe))}return lt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return jt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ol(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):lt.resolve(Oa());let S=-1,V=c;return f.next(H=>lt.forEach(H,(se,Pe)=>(S<Pe.largestBatchId&&(S=Pe.largestBatchId),c.get(se)?lt.resolve():this.remoteDocumentCache.getEntry(e,se).next(ct=>{V=V.insert(se,ct)}))).next(()=>this.populateOverlays(e,H,c)).next(()=>this.computeViews(e,V,H,Qr())).next(se=>({batchId:S,changes:Zf(se)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new jt(t)).next(s=>{let a=Nc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=Nc();return this.indexManager.getCollectionParents(e,a).next(f=>lt.forEach(f,S=>{const V=(H=t,se=S.child(a),new Fo(se,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,se;return this.getDocumentsMatchingCollectionQuery(e,V,s).next(H=>{H.forEach((se,Pe)=>{c=c.insert(se,Pe)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((S,V)=>{const H=V.getKey();null===c.get(H)&&(c=c.insert(H,Yi.newInvalidDocument(H)))});let f=Nc();return c.forEach((S,V)=>{const H=a.get(S);void 0!==H&&Nd(H.mutation,V,To.empty(),wi.now()),jl(t,V)&&(f=f.insert(S,V))}),f})}}class Y_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return lt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Do(s.createTime)}),lt.resolve()}getNamedQuery(e,t){return lt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Ph(s.bundledQuery),readTime:Do(s.readTime)}),lt.resolve();var s}}class zm{constructor(){this.overlays=new xi(jt.comparator),this.ls=new Map}getOverlay(e,t){return lt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Oa();return lt.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),lt.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),lt.resolve()}getOverlaysForCollection(e,t,s){const a=Oa(),c=t.length+1,f=new jt(t.child("")),S=this.overlays.getIteratorFrom(f);for(;S.hasNext();){const V=S.getNext().value,H=V.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===c&&V.largestBatchId>s&&a.set(V.getKey(),V)}return lt.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new xi((H,se)=>H-se);const f=this.overlays.getIterator();for(;f.hasNext();){const H=f.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>s){let se=c.get(H.largestBatchId);null===se&&(se=Oa(),c=c.insert(H.largestBatchId,se)),se.set(H.getKey(),H)}}const S=Oa(),V=c.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((H,se)=>S.set(H,se)),!(S.size()>=a)););return lt.resolve(S)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Od(t,s));let c=this.ls.get(t);void 0===c&&(c=Qr(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class Gc{constructor(){this.fs=new Di(Wo.ds),this.ws=new Di(Wo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new Wo(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new Wo(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new jt(new Ar([])),s=new Wo(t,e),a=new Wo(t,e+1),c=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),c.push(f.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new jt(new Ar([])),s=new Wo(t,e),a=new Wo(t,e+1);let c=Qr();return this.ws.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Wo(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Wo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return jt.comparator(e.key,t.key)||Jn(e.As,t.As)}static _s(e,t){return Jn(e.As,t.As)||jt.comparator(e.key,t.key)}}class Gm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Di(Wo.ds)}checkEmpty(e){return lt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const f=new hm(c,t,s,a);this.mutationQueue.push(f);for(const S of a)this.Rs=this.Rs.add(new Wo(S.key,c)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return lt.resolve(f)}lookupMutationBatch(e,t){return lt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return lt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Wo(t,0),a=new Wo(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const S=this.Ps(f.As);c.push(S)}),lt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Di(Jn);return t.forEach(a=>{const c=new Wo(a,0),f=new Wo(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],S=>{s=s.add(S.As)})}),lt.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;jt.isDocumentKey(c)||(c=c.child(""));const f=new Wo(new jt(c),0);let S=new Di(Jn);return this.Rs.forEachWhile(V=>{const H=V.key.path;return!!s.isPrefixOf(H)&&(H.length===a&&(S=S.add(V.As)),!0)},f),lt.resolve(this.Vs(S))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Sn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return lt.forEach(t.mutations,a=>{const c=new Wo(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new Wo(t,0),a=this.Rs.firstAfterOrEqual(s);return lt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return lt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Q_{constructor(e){this.Ds=e,this.docs=new xi(jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return lt.resolve(s?s.document.mutableCopy():Yi.newInvalidDocument(t))}getEntries(e,t){let s=Ma();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Yi.newInvalidDocument(a))}),lt.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Ma();const f=t.path,S=new jt(f.child("")),V=this.docs.getIteratorFrom(S);for(;V.hasNext();){const{key:H,value:{document:se}}=V.getNext();if(!f.isPrefixOf(H.path))break;H.path.length>f.length+1||ss(Sl(se),s)<=0||(a.has(se.key)||jl(t,se))&&(c=c.insert(se.key,se.mutableCopy()))}return lt.resolve(c)}getAllFromCollectionGroup(e,t,s,a){qt()}Cs(e,t){return lt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new X_(this)}getSize(e){return lt.resolve(this.size)}}class X_ extends jh{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),lt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class J_{constructor(e){this.persistence=e,this.xs=new Eu(t=>wt(t),en),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Gc,this.targetCount=0,this.Ms=Xl.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),lt.resolve()}getLastRemoteSnapshotVersion(e){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return lt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),lt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Xl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,lt.resolve()}updateTargetData(e,t){return this.Fn(t),lt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,lt.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((f,S)=>{S.sequenceNumber<=t&&null===s.get(S.targetId)&&(this.xs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,S.targetId)),a++)}),lt.waitFor(c).next(()=>a)}getTargetCount(e){return lt.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return lt.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),lt.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),lt.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),lt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return lt.resolve(s)}containsKey(e,t){return lt.resolve(this.ks.containsKey(t))}}class Ap{constructor(e,t){this.$s={},this.overlays={},this.Os=new nn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new J_(this),this.indexManager=new km,this.remoteDocumentCache=new Q_(s=>this.referenceDelegate.Ls(s)),this.serializer=new bm(t),this.qs=new Y_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Gm(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){Ut("MemoryPersistence","Starting transaction:",e);const a=new ev(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return lt.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class ev extends Ga{constructor(e){super(),this.currentSequenceNumber=e}}class Hd{constructor(e){this.persistence=e,this.Qs=new Gc,this.js=null}static zs(e){return new Hd(e)}get Ws(){if(this.js)return this.js;throw qt()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),lt.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),lt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),lt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.Ws,s=>{const a=jt.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,Nn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return lt.or([()=>lt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Wm{constructor(e){this.serializer=e}O(e,t,s,a){const c=new Ra("createOrUpgrade",t);var S;s<1&&a>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ca,{unique:!0}),S.createObjectStore("documentMutations"),Mp(e),function(S){S.createObjectStore("remoteDocuments")}(e));let f=lt.resolve();return s<3&&a>=3&&(0!==s&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),Mp(e)),f=f.next(()=>function(S){const V=S.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nn.min().toTimestamp(),targetCount:0};return V.put("targetGlobalKey",H)}(c))),s<4&&a>=4&&(0!==s&&(f=f.next(()=>function(S,V){return V.store("mutations").j().next(H=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ca,{unique:!0});const se=V.store("mutations"),Pe=H.map(ct=>se.put(ct));return lt.waitFor(Pe)})}(e,c))),f=f.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(f=f.next(()=>this.Ys(c))),s<6&&a>=6&&(f=f.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),s<7&&a>=7&&(f=f.next(()=>this.Zs(c))),s<8&&a>=8&&(f=f.next(()=>this.ti(e,c))),s<9&&a>=9&&(f=f.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(f=f.next(()=>this.ei(c))),s<11&&a>=11&&(f=f.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(f=f.next(()=>{!function(S){const V=S.createObjectStore("documentOverlays",{keyPath:Td});V.createIndex("collectionPathOverlayIndex",bc,{unique:!1}),V.createIndex("collectionGroupOverlayIndex",Cc,{unique:!1})}(e)})),s<13&&a>=13&&(f=f.next(()=>function(S){const V=S.createObjectStore("remoteDocumentsV14",{keyPath:gu});V.createIndex("documentKeyIndex",Al),V.createIndex("collectionGroupIndex",Dc)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(f=f.next(()=>this.si(e,c))),s<15&&a>=15&&(f=f.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:Ic}).createIndex("sequenceNumberIndex",iu,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:tl}).createIndex("documentKeyIndex",Cd,{unique:!1})}(e))),f}Xs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Vh(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>lt.forEach(a,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",f).next(S=>lt.forEach(S,V=>{Sn(V.userId===c.userId);const H=Qa(this.serializer,V);return Um(e,c.userId,H).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.X((f,S)=>{const V=new Ar(f),H=[0,Si(V)];c.push(t.get(H).next(se=>se?lt.resolve():t.put({targetId:0,path:Si(V),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>lt.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:xu});const s=t.store("collectionParents"),a=new Ip,c=f=>{if(a.add(f)){const S=f.lastSegment(),V=f.popLast();return s.put({collectionId:S,parent:Si(V)})}};return t.store("remoteDocuments").X({Y:!0},(f,S)=>{const V=new Ar(f);return c(V.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([f,S,V],H)=>{const se=ui(S);return c(se.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,a)=>{const c=$u(a),f=Tm(this.serializer,c);return t.put(f)})}ni(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((c,f)=>{const S=t.store("remoteDocumentsV14"),V=(H=f,H.document?new jt(Ar.fromString(H.document.name).popFirst(5)):H.noDocument?jt.fromSegments(H.noDocument.path):H.unknownDocument?jt.fromSegments(H.unknownDocument.path):qt()).path.toArray();var H;const se={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};a.push(S.put(se))}).next(()=>lt.waitFor(a))}si(e,t){const s=t.store("mutations"),a=Hm(this.serializer),c=new Ap(Hd.zs,this.serializer.fe);return s.j().next(f=>{const S=new Map;return f.forEach(V=>{var H;let se=null!==(H=S.get(V.userId))&&void 0!==H?H:Qr();Qa(this.serializer,V).keys().forEach(Pe=>se=se.add(Pe)),S.set(V.userId,se)}),lt.forEach(S,(V,H)=>{const se=new Zr(H),Pe=jc.de(this.serializer,se),ct=c.getIndexManager(se),St=Uh.de(se,this.serializer,ct,c.referenceDelegate);return new tc(a,St,Pe,ct).recalculateAndSaveOverlaysForDocumentKeys(new Pu(t,nn.ct),V).next()})})}}function Mp(r){r.createObjectStore("targetDocuments",{keyPath:Ml}).createIndex("documentTargetsIndex",bd,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ya,{unique:!0}),r.createObjectStore("targetGlobal")}const zd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Km{constructor(e,t,s,a,c,f,S,V,H,se,Pe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=c,this.window=f,this.document=S,this.ri=H,this.oi=se,this.ui=Pe,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=ct=>Promise.resolve(),!Km.D())throw new at(ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ec(this,a),this.di=t+"main",this.serializer=new bm(V),this.wi=new wo(this.di,this.ui,new Wm(this.serializer)),this.Bs=new z_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Hm(this.serializer),this.qs=new Mm,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===se&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new at(ze.FAILED_PRECONDITION,zd);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new nn(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,Ie.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ie.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ie.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Hh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(y(e))return Ut("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return nc(e).get("owner").next(t=>lt.resolve(this.Ri(t)))}Pi(e){return Hh(e).delete(this.clientId)}bi(){var e=this;return(0,Ie.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=oo(s,"clientMetadata");return a.j().next(c=>{const f=e.Si(c,18e5),S=c.filter(V=>-1===f.indexOf(V));return lt.forEach(S,V=>a.delete(V.clientId)).next(()=>S)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?lt.resolve(!0):nc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new at(ze.FAILED_PRECONDITION,zd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hh(e).j().next(s=>void 0===this.Si(s,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ut("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ie.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Pu(t,nn.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Hh(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Uh.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cu(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return jc.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){Ut("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(f=this.ui)?mu:14===f?Ac:13===f?Sc:12===f?Rl:11===f?Tc:void qt();var f;let S;return this.wi.runTransaction(e,a,c,V=>(S=new Pu(V,this.Os?this.Os.next():nn.ct),"readwrite-primary"===t?this.Ti(S).next(H=>!!H||this.Ei(S)).next(H=>{if(!H)throw Pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new at(ze.FAILED_PRECONDITION,za);return s(S)}).next(H=>this.vi(S).next(()=>H)):this.Oi(S).next(()=>s(S)))).then(V=>(S.raiseOnCommittedEvent(),V))}Oi(e){return nc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new at(ze.FAILED_PRECONDITION,zd)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nc(e).put("owner",t)}static D(){return wo.D()}Ai(e){const t=nc(e);return t.get("owner").next(s=>this.Ri(s)?(Ut("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):lt.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Pr(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Ue.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ut("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Pr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Pr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nc(r){return oo(r,"owner")}function Hh(r){return oo(r,"clientMetadata")}function qm(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class fl{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=Qr(),a=Qr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new fl(e,t.fromCache,s,a)}}class Rp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(Vu(t))return lt.resolve(null);let s=Ao(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=_u(t,null,"F"),s=Ao(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Qr(...c);return this.Ui.getDocuments(e,f).next(S=>this.indexManager.getMinOffset(e,s).next(V=>{const H=this.ji(t,S);return this.zi(t,H,f,V.readTime)?this.Ki(e,_u(t,null,"F")):this.Wi(e,H,t,V)}))})))}Gi(e,t,s,a){return Vu(t)||a.isEqual(Nn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const f=this.ji(t,c);return this.zi(t,f,s,a)?this.Qi(e,t):(zi()<=fe.in.DEBUG&&Ut("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bl(t)),this.Wi(e,f,t,ba(a,-1)))})}ji(e,t){let s=new Di(Pc(e));return t.forEach((a,c)=>{jl(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return zi()<=fe.in.DEBUG&&Ut("QueryEngine","Using full collection scan to execute query:",Bl(t)),this.Ui.getDocumentsMatchingQuery(e,t,Co.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class tv{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new xi(Jn),this.Yi=new Eu(c=>wt(c),en),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tc(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function xp(r,e,t,s){return new tv(r,e,t,s)}function Zm(r,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,Ie.Z)(function*(r,e){const t=pn(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],S=[];let V=Qr();for(const H of a){f.push(H.batchId);for(const se of H.mutations)V=V.add(se.key)}for(const H of c){S.push(H.batchId);for(const se of H.mutations)V=V.add(se.key)}return t.localDocuments.getDocuments(s,V).next(H=>({er:H,removedBatchIds:f,addedBatchIds:S}))})})}),Pp.apply(this,arguments)}function rc(r){const e=pn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Wc(r,e,t){let s=Qr(),a=Qr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=Ma();return t.forEach((S,V)=>{const H=c.get(S);V.isFoundDocument()!==H.isFoundDocument()&&(a=a.add(S)),V.isNoDocument()&&V.version.isEqual(Nn.min())?(e.removeEntry(S,V.readTime),f=f.insert(S,V)):!H.isValidDocument()||V.version.compareTo(H.version)>0||0===V.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(V),f=f.insert(S,V)):Ut("LocalStore","Ignoring outdated watch update for ",S,". Current version:",H.version," Watch version:",V.version)}),{nr:f,sr:a}})}function Op(r,e){const t=pn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ku(r,e){const t=pn(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,lt.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new Iu(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function ic(r,e,t){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,Ie.Z)(function*(r,e,t){const s=pn(r),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!y(f))throw f;Ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),Gd.apply(this,arguments)}function Kc(r,e,t){const s=pn(r);let a=Nn.min(),c=Qr();return s.persistence.runTransaction("Execute query","readonly",f=>function(S,V,H){const se=pn(S),Pe=se.Yi.get(H);return void 0!==Pe?lt.resolve(se.Ji.get(Pe)):se.Bs.getTargetData(V,H)}(s,f,Ao(e)).next(S=>{if(S)return a=S.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,S.targetId).next(V=>{c=V})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:Nn.min(),t?c:Qr())).next(S=>(Wh(s,Dh(e),S),{documents:S,ir:c})))}function Gh(r,e){const t=pn(r),s=pn(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.le(c,e).next(f=>f?f.target:null))}function kp(r,e){const t=pn(r),s=t.Xi.get(e)||Nn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,ba(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Wh(t,e,a),a))}function Wh(r,e,t){let s=r.Xi.get(e)||Nn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Xi.set(e,s)}function Fp(){return Fp=(0,Ie.Z)(function*(r,e,t,s){const a=pn(r);let c=Qr(),f=Ma();for(const H of t){const se=e.rr(H.metadata.name);H.document&&(c=c.add(se));const Pe=e.ur(H);Pe.setReadTime(e.cr(H.metadata.readTime)),f=f.insert(se,Pe)}const S=a.Zi.newChangeBuffer({trackRemovals:!0}),V=yield Ku(a,(H=s,Ao(il(Ar.fromString(`__bundle__/docs/${H}`)))));var H;return a.persistence.runTransaction("Apply bundle documents","readwrite",H=>Wc(H,S,f).next(se=>(S.apply(H),se)).next(se=>a.Bs.removeMatchingKeysForTargetId(H,V.targetId).next(()=>a.Bs.addMatchingKeys(H,c,V.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(H,se.nr,se.sr)).next(()=>se.nr)))}),Fp.apply(this,arguments)}function Ym(r,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,Ie.Z)(function*(r,e,t=Qr()){const s=yield Ku(r,Ao(Ph(e.bundledQuery))),a=pn(r);return a.persistence.runTransaction("Save named query","readwrite",c=>{const f=Do(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return a.qs.saveNamedQuery(c,e);const S=s.withResumeToken(Gs.EMPTY_BYTE_STRING,f);return a.Ji=a.Ji.insert(S.targetId,S),a.Bs.updateTargetData(c,S).next(()=>a.Bs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Bs.addMatchingKeys(c,t,s.targetId)).next(()=>a.qs.saveNamedQuery(c,e))})}),Lp.apply(this,arguments)}function Vp(r,e){return`firestore_clients_${r}_${e}`}function Up(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Bp(r,e){return`firestore_targets_${r}_${e}`}class Kh{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static ar(e,t,s){const a=JSON.parse(s);let c,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(c=new at(a.error.code,a.error.message))),f?new Kh(e,t,a.state,c):(Pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ta{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new at(s.error.code,s.error.message))),c?new ta(e,s.state,a):(Pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=Rd();for(let f=0;a&&f<s.activeTargetIds.length;++f)a=Es(s.activeTargetIds[f]),c=c.add(s.activeTargetIds[f]);return a?new qh(e,c):(Pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class jp{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new jp(t.clientId,t.onlineState):(Pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qm{constructor(){this.activeTargetIds=Rd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wd{constructor(e,t,s,a,c){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new xi(Jn),this.started=!1,this.yr=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=Vp(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Qm),this.Tr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const c=e.getItem(Vp(e.persistenceKey,a));if(c){const f=qh.ar(a,c);f&&(e.gr=e.gr.insert(f.clientId,f))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const a=e.br(s);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Bp(this.persistenceKey,e));if(s){const a=ta.ar(e,s);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Bp(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ut("SharedClientState","READ",e,t),t}setItem(e,t){Ut("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ut("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Ut("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void Pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ie.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.Fr(a,null)}{const a=t.Br(s.key,s.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.Lr(s.key,s.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const a=t.Ur(s.key,s.newValue);if(a)return t.Kr(a)}}else if(s.key===t.vr){if(null!==s.newValue){const a=t.br(s.newValue);if(a)return t.Vr(a)}}else if(s.key===t.Ir){const a=function(c){let f=nn.ct;if(null!=c)try{const S=JSON.parse(c);Sn("number"==typeof S),f=S}catch(S){Pr("SharedClientState","Failed to read sequence number from WebStorage",S)}return f}(s.newValue);a!==nn.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Gr(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Qr(c)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const a=new Kh(this.currentUser,e,t,s),c=Up(this.persistenceKey,this.currentUser,e);this.setItem(c,a.hr())}Cr(e){const t=Up(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const a=Bp(this.persistenceKey,e),c=new ta(e,t,s);this.setItem(a,c.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return qh.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return Kh.ar(new Zr(void 0!==s[2]?s[2]:null),a,t)}Ur(e,t){const s=this.Ar.exec(e),a=Number(s[1]);return ta.ar(a,t)}br(e){return jp.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ie.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ut("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),c=this.Sr(s),f=[],S=[];return c.forEach(V=>{a.has(V)||f.push(V)}),a.forEach(V=>{c.has(V)||S.push(V)}),this.syncEngine.Wr(f,S).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Rd();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class $p{constructor(){this.Hr=new Qm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Qm,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rv{Yr(e){}shutdown(){}}class Xm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zh=null;function Yh(){return null===Zh?Zh=268435456+Math.round(2147483648*Math.random()):Zh++,"0x"+Zh.toString(16)}const iv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sv{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ko="WebChannelConnection";class ov extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const f=Yh(),S=this.To(e,t);Ut("RestConnection",`Sending RPC '${e}' ${f}:`,S,s);const V={};return this.Eo(V,a,c),this.Ao(e,S,V,s).then(H=>(Ut("RestConnection",`Received RPC '${e}' ${f}: `,H),H),H=>{throw ts("RestConnection",`RPC '${e}' ${f} failed with error: `,H,"url: ",S,"request:",s),H})}vo(e,t,s,a,c,f){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ei,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${iv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=Yh();return new Promise((f,S)=>{const V=new Kn;V.setWithCredentials(!0),V.listenOnce(Yt.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case It.NO_ERROR:const se=V.getResponseJson();Ut(Ko,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(se)),f(se);break;case It.TIMEOUT:Ut(Ko,`RPC '${e}' ${c} timed out`),S(new at(ze.DEADLINE_EXCEEDED,"Request time out"));break;case It.HTTP_ERROR:const Pe=V.getStatus();if(Ut(Ko,`RPC '${e}' ${c} failed with status:`,Pe,"response text:",V.getResponseText()),Pe>0){let ct=V.getResponseJson();Array.isArray(ct)&&(ct=ct[0]);const St=ct?.error;if(St&&St.status&&St.message){const Jt=function(Cn){const En=Cn.toLowerCase().replace(/_/g,"-");return Object.values(ze).indexOf(En)>=0?En:ze.UNKNOWN}(St.status);S(new at(Jt,St.message))}else S(new at(ze.UNKNOWN,"Server responded with status "+V.getStatus()))}else S(new at(ze.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{Ut(Ko,`RPC '${e}' ${c} completed.`)}});const H=JSON.stringify(a);Ut(Ko,`RPC '${e}' ${c} sending request:`,a),V.send(t,"POST",H,s,15)})}Ro(e,t,s){const a=Yh(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Te(),S=et(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(V.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(V.xmlHttpFactory=new Yn({})),this.Eo(V.initMessageHeaders,t,s),V.encodeInitMessageHeaders=!0;const se=c.join("");Ut(Ko,`Creating RPC '${e}' stream ${a}: ${se}`,V);const Pe=f.createWebChannel(se,V);let ct=!1,St=!1;const Jt=new sv({ro:En=>{St?Ut(Ko,`Not sending because RPC '${e}' stream ${a} is closed:`,En):(ct||(Ut(Ko,`Opening RPC '${e}' stream ${a} transport.`),Pe.open(),ct=!0),Ut(Ko,`RPC '${e}' stream ${a} sending:`,En),Pe.send(En))},oo:()=>Pe.close()}),Cn=(En,Ur,li)=>{En.listen(Ur,Er=>{try{li(Er)}catch(Ks){setTimeout(()=>{throw Ks},0)}})};return Cn(Pe,Rn.EventType.OPEN,()=>{St||Ut(Ko,`RPC '${e}' stream ${a} transport opened.`)}),Cn(Pe,Rn.EventType.CLOSE,()=>{St||(St=!0,Ut(Ko,`RPC '${e}' stream ${a} transport closed`),Jt.wo())}),Cn(Pe,Rn.EventType.ERROR,En=>{St||(St=!0,ts(Ko,`RPC '${e}' stream ${a} transport errored:`,En),Jt.wo(new at(ze.UNAVAILABLE,"The operation could not be completed")))}),Cn(Pe,Rn.EventType.MESSAGE,En=>{var Ur;if(!St){const li=En.data[0];Sn(!!li);const Ks=li.error||(null===(Ur=li[0])||void 0===Ur?void 0:Ur.error);if(Ks){Ut(Ko,`RPC '${e}' stream ${a} received error:`,Ks);const Ds=Ks.status;let hs=function(Su){const __=Lo[Su];if(void 0!==__)return gm(__)}(Ds),Vo=Ks.message;void 0===hs&&(hs=ze.INTERNAL,Vo="Unknown error status: "+Ds+" with message "+Ks.message),St=!0,Jt.wo(new at(hs,Vo)),Pe.close()}else Ut(Ko,`RPC '${e}' stream ${a} received:`,li),Jt._o(li)}}),Cn(S,fn.STAT_EVENT,En=>{En.stat===$n.PROXY?Ut(Ko,`RPC '${e}' stream ${a} detected buffering proxy`):En.stat===$n.NOPROXY&&Ut(Ko,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Jt.fo()},0),Jt}}function Jm(){return typeof window<"u"?window:null}function Qh(){return typeof document<"u"?document:null}function Kd(r){return new up(r,!0)}class Hp{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&Ut("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class du{constructor(e,t,s,a,c,f,S,V){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=S,this.listener=V,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Hp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ie.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ie.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,Ie.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===ze.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===ze.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new at(ze.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,Ie.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zp extends du{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function fp(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:qt(),a=e.targetChange.targetIds||[],c=function(V,H){return V.useProto3Json?(Sn(void 0===H||"string"==typeof H),Gs.fromBase64String(H||"")):(Sn(void 0===H||H instanceof Uint8Array),Gs.fromUint8Array(H||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,S=f&&function(V){const H=void 0===V.code?ze.UNKNOWN:gm(V.code);return new at(H,V.message||"")}(f);t=new mm(s,a,c,S||null)}else if("documentChange"in e){const s=e.documentChange,a=Bu(r,s.document.name),c=Do(s.document.updateTime),f=s.document.createTime?Do(s.document.createTime):Nn.min(),S=new Gi({mapValue:{fields:s.document.fields}}),V=Yi.newFoundDocument(a,c,f,S);t=new Vc(s.targetIds||[],s.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const s=e.documentDelete,a=Bu(r,s.document),c=s.readTime?Do(s.readTime):Nn.min(),f=Yi.newNoDocument(a,c);t=new Vc([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=Bu(r,s.document);t=new Vc([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return qt();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new G0(a,c);t=new op(s.targetId,f)}}var V;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return Nn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Nn.min():c.readTime?Do(c.readTime):Nn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=ql(this.serializer),t.addTarget=function(a,c){let f;const S=c.target;if(f=In(S)?{documents:Vd(a,S)}:{query:ju(a,S)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=lp(a,c.resumeToken);const V=Mh(a,c.expectedCount);null!==V&&(f.expectedCount=V)}else if(c.snapshotVersion.compareTo(Nn.min())>0){f.readTime=Wl(a,c.snapshotVersion.toTimestamp());const V=Mh(a,c.expectedCount);null!==V&&(f.expectedCount=V)}return f}(this.serializer,e);const s=function yp(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=ql(this.serializer),t.removeTarget=e,this.Wo(t)}}class av extends du{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function gp(r,e){return r&&r.length>0?(Sn(void 0!==e),r.map(t=>function(s,a){let c=Do(s.updateTime?s.updateTime:a);return c.isEqual(Nn.min())&&(c=Do(a)),new N_(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Do(e.commitTime);return this.listener.cu(s,t)}return Sn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ql(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ll(this.serializer,s))};this.Wo(t)}}class uv extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new at(ze.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new at(ze.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.vo(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(ze.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class lv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Pr(t),this.mu=!1):Ut("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class cv{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(S=>{s.enqueueAndForget((0,Ie.Z)(function*(){var V;qu(f)&&(Ut("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,Ie.Z)(function*(H){const se=pn(H);se.vu.add(4),yield qc(se),se.bu.set("Unknown"),se.vu.delete(4),yield sc(se)}),function(H){return V.apply(this,arguments)})(f))}))}),this.bu=new lv(s,a)}}function sc(r){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,Ie.Z)(function*(r){if(qu(r))for(const e of r.Ru)yield e(!0)}),Wp.apply(this,arguments)}function qc(r){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,Ie.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),Zc.apply(this,arguments)}function oc(r,e){const t=pn(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Jh(t)?ny(t):Xc(t).Ko()&&ty(t,e))}function pl(r,e){const t=pn(r),s=Xc(t);t.Au.delete(e),s.Ko()&&Xh(t,e),0===t.Au.size&&(s.Ko()?s.jo():qu(t)&&t.bu.set("Unknown"))}function ty(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xc(r).su(e)}function Xh(r,e){r.Vu.qt(e),Xc(r).iu(e)}function ny(r){r.Vu=new F_({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),Xc(r).start(),r.bu.gu()}function Jh(r){return qu(r)&&!Xc(r).Uo()&&r.Au.size>0}function qu(r){return 0===pn(r).vu.size}function Kp(r){r.Vu=void 0}function ry(r){return qd.apply(this,arguments)}function qd(){return qd=(0,Ie.Z)(function*(r){r.Au.forEach((e,t)=>{ty(r,e)})}),qd.apply(this,arguments)}function Zu(r,e){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,Ie.Z)(function*(r,e){Kp(r),Jh(r)?(r.bu.Iu(e),ny(r)):r.bu.set("Unknown")}),Yc.apply(this,arguments)}function ef(r,e,t){return ac.apply(this,arguments)}function ac(){return ac=(0,Ie.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof mm&&2===e.state&&e.cause)try{yield(s=(0,Ie.Z)(function*(a,c){const f=c.cause;for(const S of c.targetIds)a.Au.has(S)&&(yield a.remoteSyncer.rejectListen(S,f),a.Au.delete(S),a.Vu.removeTarget(S))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){Ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield tf(r,s)}else if(e instanceof Vc?r.Vu.Ht(e):e instanceof op?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Nn.min()))try{const s=yield rc(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.Vu.ce(c);return f.targetChanges.forEach((S,V)=>{if(S.resumeToken.approximateByteSize()>0){const H=a.Au.get(V);H&&a.Au.set(V,H.withResumeToken(S.resumeToken,c))}}),f.targetMismatches.forEach((S,V)=>{const H=a.Au.get(S);if(!H)return;a.Au.set(S,H.withResumeToken(Gs.EMPTY_BYTE_STRING,H.snapshotVersion)),Xh(a,S);const se=new Iu(H.target,S,V,H.sequenceNumber);ty(a,se)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){Ut("RemoteStore","Failed to raise snapshot:",s),yield tf(r,s)}var s}),ac.apply(this,arguments)}function tf(r,e,t){return nf.apply(this,arguments)}function nf(){return nf=(0,Ie.Z)(function*(r,e,t){if(!y(e))throw e;r.vu.add(1),yield qc(r),r.bu.set("Offline"),t||(t=()=>rc(r.localStore)),r.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){Ut("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield sc(r)}))}),nf.apply(this,arguments)}function qp(r,e){return e().catch(t=>tf(r,t,e))}function Qc(r){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Ie.Z)(function*(r){const e=pn(r),t=gl(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Zd(e);)try{const a=yield Op(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,dv(e,a)}catch(a){yield tf(e,a)}hv(e)&&iy(e)}),Zp.apply(this,arguments)}function Zd(r){return qu(r)&&r.Eu.length<10}function dv(r,e){r.Eu.push(e);const t=gl(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function hv(r){return qu(r)&&!gl(r).Uo()&&r.Eu.length>0}function iy(r){gl(r).start()}function fv(r){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,Ie.Z)(function*(r){gl(r).hu()}),Yp.apply(this,arguments)}function pv(r){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,Ie.Z)(function*(r){const e=gl(r);for(const t of r.Eu)e.uu(t.mutations)}),Qp.apply(this,arguments)}function gv(r,e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,Ie.Z)(function*(r,e,t){const s=r.Eu.shift(),a=fm.from(s,e,t);yield qp(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Qc(r)}),Xp.apply(this,arguments)}function sy(r,e){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,Ie.Z)(function*(r,e){var t;e&&gl(r).ou&&(yield(t=(0,Ie.Z)(function*(s,a){if(pm(c=a.code)&&c!==ze.ABORTED){const f=s.Eu.shift();gl(s).Qo(),yield qp(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Qc(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),hv(r)&&iy(r)}),Yd.apply(this,arguments)}function oy(r,e){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,Ie.Z)(function*(r,e){const t=pn(r);t.asyncQueue.verifyOperationInProgress(),Ut("RemoteStore","RemoteStore received new credentials");const s=qu(t);t.vu.add(3),yield qc(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield sc(t)}),Qd.apply(this,arguments)}function Jp(r,e){return eg.apply(this,arguments)}function eg(){return eg=(0,Ie.Z)(function*(r,e){const t=pn(r);e?(t.vu.delete(2),yield sc(t)):e||(t.vu.add(2),yield qc(t),t.bu.set("Unknown"))}),eg.apply(this,arguments)}function Xc(r){return r.Su||(r.Su=function(e,t,s){const a=pn(e);return a.fu(),new zp(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:ry.bind(null,r),ao:Zu.bind(null,r),nu:ef.bind(null,r)}),r.Ru.push(function(){var e=(0,Ie.Z)(function*(t){t?(r.Su.Qo(),Jh(r)?ny(r):r.bu.set("Unknown")):(yield r.Su.stop(),Kp(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function gl(r){return r.Du||(r.Du=function(e,t,s){const a=pn(e);return a.fu(),new av(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:fv.bind(null,r),ao:sy.bind(null,r),au:pv.bind(null,r),cu:gv.bind(null,r)}),r.Ru.push(function(){var e=(0,Ie.Z)(function*(t){t?(r.Du.Qo(),yield Qc(r)):(yield r.Du.stop(),r.Eu.length>0&&(Ut("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class tg{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new on,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,S=new tg(e,t,f,a,c);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new at(ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jc(r,e){if(Pr("AsyncQueue",`${e}: ${r}`),y(r))return new at(ze.UNAVAILABLE,`${e}: ${r}`);throw r}class ed{constructor(e){this.comparator=e?(t,s)=>e(t,s)||jt.comparator(t.key,s.key):(t,s)=>jt.comparator(t.key,s.key),this.keyedMap=Nc(),this.sortedSet=new xi(this.comparator)}static emptySet(e){return new ed(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ed)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new ed;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class ng{constructor(){this.Cu=new xi(jt.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):qt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class uc{constructor(e,t,s,a,c,f,S,V,H){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=S,this.excludesMetadataChanges=V,this.hasCachedResults=H}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(S=>{f.push({type:0,doc:S})}),new uc(e,t,ed.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class mv{constructor(){this.Nu=void 0,this.listeners=[]}}class Y0{constructor(){this.queries=new Eu(e=>Ul(e),vu),this.onlineState="Unknown",this.ku=new Set}}function rf(r,e){return ay.apply(this,arguments)}function ay(){return ay=(0,Ie.Z)(function*(r,e){const t=pn(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new mv),a)try{c.Nu=yield t.onListen(s)}catch(f){const S=Jc(f,`Initialization of query '${Bl(e.query)}' failed`);return void e.onError(S)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&sg(t)}),ay.apply(this,arguments)}function td(r,e){return rg.apply(this,arguments)}function rg(){return rg=(0,Ie.Z)(function*(r,e){const t=pn(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),rg.apply(this,arguments)}function yv(r,e){const t=pn(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const S of f.listeners)S.$u(a)&&(s=!0);f.Nu=a}}s&&sg(t)}function ig(r,e,t){const s=pn(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function sg(r){r.ku.forEach(e=>{e.next()})}class Xa{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new uc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Xd{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class na{constructor(e){this.serializer=e}rr(e){return Bu(this.serializer,e)}ur(e){return e.metadata.exists?ul(this.serializer,e.document,!1):Yi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Do(e)}}class lc{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Jd(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=Ar.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new na(this.serializer);for(const a of e)if(a.metadata.queries){const c=s.rr(a.metadata.name);for(const f of a.metadata.queries){const S=(t.get(f)||Qr()).add(c);t.set(f,S)}}return t}complete(){var e=this;return(0,Ie.Z)(function*(){const t=yield function nv(r,e,t,s){return Fp.apply(this,arguments)}(e.localStore,new na(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const a of e.queries)yield Ym(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Jd(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class ka{constructor(e){this.key=e}}class sf{constructor(e){this.key=e}}class cc{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Qr(),this.mutatedKeys=Qr(),this.tc=Pc(e),this.ec=new ed(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new ng,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,S=!1;const V="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,H="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((se,Pe)=>{const ct=a.get(se),St=jl(this.query,Pe)?Pe:null,Jt=!!ct&&this.mutatedKeys.has(ct.key),Cn=!!St&&(St.hasLocalMutations||this.mutatedKeys.has(St.key)&&St.hasCommittedMutations);let En=!1;ct&&St?ct.data.isEqual(St.data)?Jt!==Cn&&(s.track({type:3,doc:St}),En=!0):this.rc(ct,St)||(s.track({type:2,doc:St}),En=!0,(V&&this.tc(St,V)>0||H&&this.tc(St,H)<0)&&(S=!0)):!ct&&St?(s.track({type:0,doc:St}),En=!0):ct&&!St&&(s.track({type:1,doc:ct}),En=!0,(V||H)&&(S=!0)),En&&(St?(f=f.add(St),c=Cn?c.add(se):c.delete(se)):(f=f.delete(se),c=c.delete(se)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const se="F"===this.query.limitType?f.last():f.first();f=f.delete(se.key),c=c.delete(se.key),s.track({type:1,doc:se})}return{ec:f,ic:s,zi:S,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((H,se)=>function(Pe,ct){const St=Jt=>{switch(Jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return St(Pe)-St(ct)}(H.type,se.type)||this.tc(H.doc,se.doc)),this.oc(s);const f=t?this.uc():[],S=0===this.Zu.size&&this.current?1:0,V=S!==this.Xu;return this.Xu=S,0!==c.length||V?{snapshot:new uc(this.query,e.ec,a,c,e.mutatedKeys,0===S,V,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ng,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Qr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new sf(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new ka(s))}),t}hc(e){this.Yu=e.ir,this.Zu=Qr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return uc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class nd{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class rd{constructor(e){this.key=e,this.fc=!1}}class id{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Eu(S=>Ul(S),vu),this._c=new Map,this.mc=new Set,this.gc=new xi(jt.comparator),this.yc=new Map,this.Ic=new Gc,this.Tc={},this.Ec=new Map,this.Ac=Xl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function sd(r,e){return ml.apply(this,arguments)}function ml(){return ml=(0,Ie.Z)(function*(r,e){const t=vf(r);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const f=yield Ku(t.localStore,Ao(e)),S=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield yl(t,e,s,"current"===S,f.resumeToken),t.isPrimaryClient&&oc(t.remoteStore,f)}return a}),ml.apply(this,arguments)}function yl(r,e,t,s,a){return _l.apply(this,arguments)}function _l(){return _l=(0,Ie.Z)(function*(r,e,t,s,a){r.Rc=(Pe,ct,St)=>{return(Jt=(0,Ie.Z)(function*(Cn,En,Ur,li){let Er=En.view.sc(Ur);Er.zi&&(Er=yield Kc(Cn.localStore,En.query,!1).then(({documents:hs})=>En.view.sc(hs,Er)));const Ks=li&&li.targetChanges.get(En.targetId),Ds=En.view.applyChanges(Er,Cn.isPrimaryClient,Ks);return ud(Cn,En.targetId,Ds.cc),Ds.snapshot}),function(Cn,En,Ur,li){return Jt.apply(this,arguments)})(r,Pe,ct,St);var Jt};const c=yield Kc(r.localStore,e,!0),f=new cc(e,c.ir),S=f.sc(c.documents),V=kd.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),H=f.applyChanges(S,r.isPrimaryClient,V);ud(r,t,H.cc);const se=new nd(e,t,f);return r.wc.set(e,se),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),H.snapshot}),_l.apply(this,arguments)}function od(r,e){return af.apply(this,arguments)}function af(){return af=(0,Ie.Z)(function*(r,e){const t=pn(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!vu(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield ic(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),pl(t.remoteStore,s.targetId),ad(t,s.targetId)}).catch(ca))):(ad(t,s.targetId),yield ic(t.localStore,s.targetId,!0))}),af.apply(this,arguments)}function uf(){return uf=(0,Ie.Z)(function*(r,e,t){const s=Ef(r);try{const a=yield function(c,f){const S=pn(c),V=wi.now(),H=f.reduce((ct,St)=>ct.add(St.key),Qr());let se,Pe;return S.persistence.runTransaction("Locally write mutations","readwrite",ct=>{let St=Ma(),Jt=Qr();return S.Zi.getEntries(ct,H).next(Cn=>{St=Cn,St.forEach((En,Ur)=>{Ur.isValidDocument()||(Jt=Jt.add(En))})}).next(()=>S.localDocuments.getOverlayedDocuments(ct,St)).next(Cn=>{se=Cn;const En=[];for(const Ur of f){const li=k_(Ur,se.get(Ur.key).overlayedDocument);null!=li&&En.push(new Jo(Ur.key,li,Ol(li.value.mapValue),Us.exists(!0)))}return S.mutationQueue.addMutationBatch(ct,V,En,f)}).next(Cn=>{Pe=Cn;const En=Cn.applyToLocalDocumentSet(se,Jt);return S.documentOverlayCache.saveOverlays(ct,Cn.batchId,En)})}).then(()=>({batchId:Pe.batchId,changes:Zf(se)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,S){let V=c.Tc[c.currentUser.toKey()];V||(V=new xi(Jn)),V=V.insert(f,S),c.Tc[c.currentUser.toKey()]=V}(s,a.batchId,t),yield Ja(s,a.changes),yield Qc(s.remoteStore)}catch(a){const c=Jc(a,"Failed to persist write");t.reject(c)}}),uf.apply(this,arguments)}function og(r,e){return lf.apply(this,arguments)}function lf(){return lf=(0,Ie.Z)(function*(r,e){const t=pn(r);try{const s=yield function Np(r,e){const t=pn(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const S=[];e.targetChanges.forEach((se,Pe)=>{const ct=a.get(Pe);if(!ct)return;S.push(t.Bs.removeMatchingKeys(c,se.removedDocuments,Pe).next(()=>t.Bs.addMatchingKeys(c,se.addedDocuments,Pe)));let St=ct.withSequenceNumber(c.currentSequenceNumber);var Jt,Cn,En;null!==e.targetMismatches.get(Pe)?St=St.withResumeToken(Gs.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):se.resumeToken.approximateByteSize()>0&&(St=St.withResumeToken(se.resumeToken,s)),a=a.insert(Pe,St),Cn=St,En=se,(0===(Jt=ct).resumeToken.approximateByteSize()||Cn.snapshotVersion.toMicroseconds()-Jt.snapshotVersion.toMicroseconds()>=3e8||En.addedDocuments.size+En.modifiedDocuments.size+En.removedDocuments.size>0)&&S.push(t.Bs.updateTargetData(c,St))});let V=Ma(),H=Qr();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(c,se))}),S.push(Wc(c,f,e.documentUpdates).next(se=>{V=se.nr,H=se.sr})),!s.isEqual(Nn.min())){const se=t.Bs.getLastRemoteSnapshotVersion(c).next(Pe=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));S.push(se)}return lt.waitFor(S).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,V,H)).next(()=>V)}).then(c=>(t.Ji=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.yc.get(c);f&&(Sn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?Sn(f.fc):a.removedDocuments.size>0&&(Sn(f.fc),f.fc=!1))}),yield Ja(t,s,e)}catch(s){yield ca(s)}}),lf.apply(this,arguments)}function ag(r,e,t){const s=pn(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,f)=>{const S=f.view.Mu(e);S.snapshot&&a.push(S.snapshot)}),function(c,f){const S=pn(c);S.onlineState=f;let V=!1;S.queries.forEach((H,se)=>{for(const Pe of se.listeners)Pe.Mu(f)&&(V=!0)}),V&&sg(S)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function ly(r,e,t){return cf.apply(this,arguments)}function cf(){return cf=(0,Ie.Z)(function*(r,e,t){const s=pn(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let f=new xi(jt.comparator);f=f.insert(c,Yi.newNoDocument(c,Nn.min()));const S=Qr().add(c),V=new Lc(Nn.min(),new Map,new xi(Jn),f,S);yield og(s,V),s.gc=s.gc.remove(c),s.yc.delete(e),cg(s)}else yield ic(s.localStore,e,!1).then(()=>ad(s,e,t)).catch(ca)}),cf.apply(this,arguments)}function cy(r,e){return ug.apply(this,arguments)}function ug(){return ug=(0,Ie.Z)(function*(r,e){const t=pn(r),s=e.batch.batchId;try{const a=yield function zh(r,e){const t=pn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,S,V,H){const se=V.batch,Pe=se.keys();let ct=lt.resolve();return Pe.forEach(St=>{ct=ct.next(()=>H.getEntry(S,St)).next(Jt=>{const Cn=V.docVersions.get(St);Sn(null!==Cn),Jt.version.compareTo(Cn)<0&&(se.applyToRemoteDocument(Jt,V),Jt.isValidDocument()&&(Jt.setReadTime(V.commitVersion),H.addEntry(Jt)))})}),ct.next(()=>f.mutationQueue.removeMutationBatch(S,se))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let S=Qr();for(let V=0;V<f.mutationResults.length;++V)f.mutationResults[V].transformResults.length>0&&(S=S.add(f.batch.mutations[V].key));return S}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);th(t,s,null),eh(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Ja(t,a)}catch(a){yield ca(a)}}),ug.apply(this,arguments)}function _v(r,e,t){return df.apply(this,arguments)}function df(){return df=(0,Ie.Z)(function*(r,e,t){const s=pn(r);try{const a=yield function(c,f){const S=pn(c);return S.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let H;return S.mutationQueue.lookupMutationBatch(V,f).next(se=>(Sn(null!==se),H=se.keys(),S.mutationQueue.removeMutationBatch(V,se))).next(()=>S.mutationQueue.performConsistencyCheck(V)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(V,H,f)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,H)).next(()=>S.localDocuments.getDocuments(V,H))})}(s.localStore,e);th(s,e,t),eh(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Ja(s,a)}catch(a){yield ca(a)}}),df.apply(this,arguments)}function hf(){return hf=(0,Ie.Z)(function*(r,e){const t=pn(r);qu(t.remoteStore)||Ut("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const f=pn(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>f.mutationQueue.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ec.get(s)||[];a.push(e),t.Ec.set(s,a)}catch(s){const a=Jc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),hf.apply(this,arguments)}function eh(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function th(r,e,t){const s=pn(r);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function ad(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||nh(r,s)})}function nh(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(pl(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),cg(r))}function ud(r,e,t){for(const s of t)s instanceof ka?(r.Ic.addReference(s.key,e),lg(r,s)):s instanceof sf?(Ut("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||nh(r,s.key)):qt()}function lg(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(Ut("SyncEngine","New document in limbo: "+t),r.mc.add(s),cg(r))}function cg(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new jt(Ar.fromString(e)),s=r.Ac.next();r.yc.set(s,new rd(t)),r.gc=r.gc.insert(t,s),oc(r.remoteStore,new Iu(Ao(il(t.path)),s,"TargetPurposeLimboResolution",nn.ct))}}function Ja(r,e,t){return ld.apply(this,arguments)}function ld(){return ld=(0,Ie.Z)(function*(r,e,t){const s=pn(r),a=[],c=[],f=[];var S;s.wc.isEmpty()||(s.wc.forEach((S,V)=>{f.push(s.Rc(V,e,t).then(H=>{if((H||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(V.targetId,H?.fromCache?"not-current":"current"),H){a.push(H);const se=fl.Li(V.targetId,H);c.push(se)}}))}),yield Promise.all(f),s.dc.nu(a),yield(S=(0,Ie.Z)(function*(V,H){const se=pn(V);try{yield se.persistence.runTransaction("notifyLocalViewChanges","readwrite",Pe=>lt.forEach(H,ct=>lt.forEach(ct.Fi,St=>se.persistence.referenceDelegate.addReference(Pe,ct.targetId,St)).next(()=>lt.forEach(ct.Bi,St=>se.persistence.referenceDelegate.removeReference(Pe,ct.targetId,St)))))}catch(Pe){if(!y(Pe))throw Pe;Ut("LocalStore","Failed to update sequence numbers: "+Pe)}for(const Pe of H){const ct=Pe.targetId;if(!Pe.fromCache){const St=se.Ji.get(ct),Cn=St.withLastLimboFreeSnapshotVersion(St.snapshotVersion);se.Ji=se.Ji.insert(ct,Cn)}}}),function(V,H){return S.apply(this,arguments)})(s.localStore,c))}),ld.apply(this,arguments)}function dy(r,e){return ff.apply(this,arguments)}function ff(){return ff=(0,Ie.Z)(function*(r,e){const t=pn(r);if(!t.currentUser.isEqual(e)){Ut("SyncEngine","User change. New user:",e.toKey());const s=yield Zm(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(S=>{S.reject(new at(ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ja(t,s.er)}var a}),ff.apply(this,arguments)}function dg(r,e){const t=pn(r),s=t.yc.get(e);if(s&&s.fc)return Qr().add(s.key);{let a=Qr();const c=t._c.get(e);if(!c)return a;for(const f of c){const S=t.wc.get(f);a=a.unionWith(S.view.nc)}return a}}function hy(r,e){return pf.apply(this,arguments)}function pf(){return pf=(0,Ie.Z)(function*(r,e){const t=pn(r),s=yield Kc(t.localStore,e.query,!0),a=e.view.hc(s);return t.isPrimaryClient&&ud(t,e.targetId,a.cc),a}),pf.apply(this,arguments)}function hg(r,e){return gf.apply(this,arguments)}function gf(){return gf=(0,Ie.Z)(function*(r,e){const t=pn(r);return kp(t.localStore,e).then(s=>Ja(t,s))}),gf.apply(this,arguments)}function Ev(r,e,t,s){return mf.apply(this,arguments)}function mf(){return mf=(0,Ie.Z)(function*(r,e,t,s){const a=pn(r),c=yield function(f,S){const V=pn(f),H=pn(V.mutationQueue);return V.persistence.runTransaction("Lookup mutation documents","readonly",se=>H.Sn(se,S).next(Pe=>Pe?V.localDocuments.getDocuments(se,Pe):lt.resolve(null)))}(a.localStore,e);var S;null!==c?("pending"===t?yield Qc(a.remoteStore):"acknowledged"===t||"rejected"===t?(th(a,e,s||null),eh(a,e),S=e,pn(pn(a.localStore).mutationQueue).Cn(S)):qt(),yield Ja(a,c)):Ut("SyncEngine","Cannot apply mutation batch with id: "+e)}),mf.apply(this,arguments)}function yf(){return yf=(0,Ie.Z)(function*(r,e){const t=pn(r);if(vf(t),Ef(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield fg(t,s.toArray());t.vc=!0,yield Jp(t.remoteStore,!0);for(const c of a)oc(t.remoteStore,c)}else if(!1===e&&!1!==t.vc){const s=[];let a=Promise.resolve();t._c.forEach((c,f)=>{t.sharedClientState.isLocalQueryTarget(f)?s.push(f):a=a.then(()=>(ad(t,f),ic(t.localStore,f,!0))),pl(t.remoteStore,f)}),yield a,yield fg(t,s),function(c){const f=pn(c);f.yc.forEach((S,V)=>{pl(f.remoteStore,V)}),f.Ic.Ts(),f.yc=new Map,f.gc=new xi(jt.comparator)}(t),t.vc=!1,yield Jp(t.remoteStore,!1)}}),yf.apply(this,arguments)}function fg(r,e,t){return pg.apply(this,arguments)}function pg(){return pg=(0,Ie.Z)(function*(r,e,t){const s=pn(r),a=[],c=[];for(const f of e){let S;const V=s._c.get(f);if(V&&0!==V.length){S=yield Ku(s.localStore,Ao(V[0]));for(const H of V){const se=s.wc.get(H),Pe=yield hy(s,se);Pe.snapshot&&c.push(Pe.snapshot)}}else{const H=yield Gh(s.localStore,f);S=yield Ku(s.localStore,H),yield yl(s,gg(H),f,!1,S.resumeToken)}a.push(S)}return s.dc.nu(c),a}),pg.apply(this,arguments)}function gg(r){return Vl(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function py(r){const e=pn(r);return pn(pn(e.localStore).persistence).$i()}function mg(r,e,t,s){return rh.apply(this,arguments)}function rh(){return rh=(0,Ie.Z)(function*(r,e,t,s){const a=pn(r);if(a.vc)return void Ut("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const f=yield kp(a.localStore,Dh(c[0])),S=Lc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Gs.EMPTY_BYTE_STRING);yield Ja(a,f,S);break}case"rejected":yield ic(a.localStore,e,!0),ad(a,e,s);break;default:qt()}}),rh.apply(this,arguments)}function gy(r,e,t){return _f.apply(this,arguments)}function _f(){return _f=(0,Ie.Z)(function*(r,e,t){const s=vf(r);if(s.vc){for(const a of e){if(s._c.has(a)){Ut("SyncEngine","Adding an already active target "+a);continue}const c=yield Gh(s.localStore,a),f=yield Ku(s.localStore,c);yield yl(s,gg(c),f.targetId,!1,f.resumeToken),oc(s.remoteStore,f)}for(const a of t)s._c.has(a)&&(yield ic(s.localStore,a,!1).then(()=>{pl(s.remoteStore,a),ad(s,a)}).catch(ca))}}),_f.apply(this,arguments)}function vf(r){const e=pn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=og.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ly.bind(null,e),e.dc.nu=yv.bind(null,e.eventManager),e.dc.Pc=ig.bind(null,e.eventManager),e}function Ef(r){const e=pn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_v.bind(null,e),e}class cd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ie.Z)(function*(){t.serializer=Kd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return xp(this.persistence,new Rp,e.initialUser,this.serializer)}createPersistence(e){return new Ap(Hd.zs,this.serializer)}createSharedClientState(e){return new $p}terminate(){var e=this;return(0,Ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wf extends cd{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Ie.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Ef(s.Vc.syncEngine),yield Qc(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return xp(this.persistence,new Rp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new W_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new Pt(t,this.persistence);return new Xe(e.asyncQueue,s)}createPersistence(e){const t=qm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ea.withCacheSize(this.cacheSizeBytes):ea.DEFAULT;return new Km(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Jm(),Qh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new $p}}class ih extends wf{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Ie.Z)(function*(){yield t().call(s,e);const a=s.Vc.syncEngine;s.sharedClientState instanceof Wd&&(s.sharedClientState.syncEngine={jr:Ev.bind(null,a),zr:mg.bind(null,a),Wr:gy.bind(null,a),$i:py.bind(null,a),Qr:hg.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var c=(0,Ie.Z)(function*(f){yield function fy(r,e){return yf.apply(this,arguments)}(s.Vc.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start():f||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(f&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():f||s.indexBackfillerScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Jm();if(!Wd.D(t))throw new at(ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=qm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wd(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Fa{initialize(e,t){var s=this;return(0,Ie.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>ag(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=dy.bind(null,s.syncEngine),yield Jp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Y0}createDatastore(e){const t=Kd(e.databaseInfo.databaseId),s=new ov(e.databaseInfo);return new uv(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=S=>ag(this.syncEngine,S,0),f=Xm.D()?new Xm:new rv,new cv(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,S,V,H){const se=new id(s,a,c,f,S,V);return H&&(se.vc=!0),se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ie.Z)(function*(t){const s=pn(t);Ut("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield qc(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function _y(r,e=10240){let t=0;return{read:()=>(0,Ie.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Df{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yg{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new on,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ie.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ie.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),a=Number(s);isNaN(a)&&e.Mc(`length string (${s}) is not valid number`);const c=yield e.$c(a);return new Xd(JSON.parse(c),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ie.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,Ie.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class dc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new at(ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,Ie.Z)(function*(c,f){const S=pn(c),V=ql(S.serializer)+"/documents",H={documents:f.map(St=>Kl(S.serializer,St))},se=yield S.vo("BatchGetDocuments",V,H,f.length),Pe=new Map;se.forEach(St=>{const Jt=function L_(r,e){return"found"in e?function(t,s){Sn(!!s.found);const a=Bu(t,s.found.name),c=Do(s.found.updateTime),f=s.found.createTime?Do(s.found.createTime):Nn.min(),S=new Gi({mapValue:{fields:s.found.fields}});return Yi.newFoundDocument(a,c,f,S)}(r,e):"missing"in e?function(t,s){Sn(!!s.missing),Sn(!!s.readTime);const a=Bu(t,s.missing),c=Do(s.readTime);return Yi.newNoDocument(a,c)}(r,e):qt()}(S.serializer,St);Pe.set(Jt.key.toString(),Jt)});const ct=[];return f.forEach(St=>{const Jt=Pe.get(St.toString());Sn(!!Jt),ct.push(Jt)}),ct}),function(c,f){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=jt.fromPath(a);e.mutations.push(new dm(c,e.precondition(c)))}),yield(s=(0,Ie.Z)(function*(a,c){const f=pn(a),S=ql(f.serializer)+"/documents",V={writes:c.map(H=>ll(f.serializer,H))};yield f.Io("Commit",S,V)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qt();t=Nn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new at(ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nn.min())?Us.exists(!1):Us.updateTime(t):Us.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nn.min()))throw new at(ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Us.updateTime(t)}return Us.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _g{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.Bc=s.maxAttempts,this.qo=new Hp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ie.Z)(function*(){const t=new dc(e.datastore),s=e.qc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Uc(c)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!mn(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!pm(t)}return!1}}class wv{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Zr.UNAUTHENTICATED,this.clientId=rs.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,Ie.Z)(function*(S){Ut("FirestoreClient","Received user=",S.uid),yield c.authCredentialListener(S),c.user=S});return function(S){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(Ut("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new at(ze.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new on;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Jc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function dd(r,e){return vy.apply(this,arguments)}function vy(){return vy=(0,Ie.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Ut("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Ie.Z)(function*(c){s.isEqual(c)||(yield Zm(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),vy.apply(this,arguments)}function Ey(r,e){return vg.apply(this,arguments)}function vg(){return vg=(0,Ie.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield If(r);Ut("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>oy(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>oy(e.remoteStore,c)),r._onlineComponents=e}),vg.apply(this,arguments)}function wy(r){return"FirebaseError"===r.name?r.code===ze.FAILED_PRECONDITION||r.code===ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function If(r){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,Ie.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ut("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!wy(t))throw t;ts("Error using user provided cache. Falling back to memory cache: "+t),yield dd(r,new cd)}}else Ut("FirestoreClient","Using default OfflineComponentProvider"),yield dd(r,new cd);return r._offlineComponents}),Eg.apply(this,arguments)}function ao(r){return bf.apply(this,arguments)}function bf(){return bf=(0,Ie.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ut("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ey(r,r._uninitializedComponentsProvider._online)):(Ut("FirestoreClient","Using default OnlineComponentProvider"),yield Ey(r,new Fa))),r._onlineComponents}),bf.apply(this,arguments)}function Dy(r){return If(r).then(e=>e.persistence)}function Cf(r){return If(r).then(e=>e.localStore)}function wg(r){return ao(r).then(e=>e.remoteStore)}function Dg(r){return ao(r).then(e=>e.syncEngine)}function hc(r){return vl.apply(this,arguments)}function vl(){return vl=(0,Ie.Z)(function*(r){const e=yield ao(r),t=e.eventManager;return t.onListen=sd.bind(null,e.syncEngine),t.onUnlisten=od.bind(null,e.syncEngine),t}),vl.apply(this,arguments)}function by(r,e,t={}){const s=new on;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(a,c,f,S,V){const H=new Df({next:Pe=>{c.enqueueAndForget(()=>td(a,se));const ct=Pe.docs.has(f);!ct&&Pe.fromCache?V.reject(new at(ze.UNAVAILABLE,"Failed to get document because the client is offline.")):ct&&Pe.fromCache&&S&&"server"===S.source?V.reject(new at(ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(Pe)},error:Pe=>V.reject(Pe)}),se=new Xa(il(f.path),H,{includeMetadataChanges:!0,Ku:!0});return rf(a,se)}(yield hc(r),r.asyncQueue,e,t,s)})),s.promise}function bv(r,e,t={}){const s=new on;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(a,c,f,S,V){const H=new Df({next:Pe=>{c.enqueueAndForget(()=>td(a,se)),Pe.fromCache&&"server"===S.source?V.reject(new at(ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(Pe)},error:Pe=>V.reject(Pe)}),se=new Xa(f,H,{includeMetadataChanges:!0,Ku:!0});return rf(a,se)}(yield hc(r),r.asyncQueue,e,t,s)})),s.promise}function Tg(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const hu=new Map;function La(r,e,t){if(!t)throw new at(ze.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function eu(r,e,t,s){if(!0===e&&!0===s)throw new at(ze.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Sg(r){if(!jt.isDocumentKey(r))throw new at(ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ag(r){if(jt.isDocumentKey(r))throw new at(ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Tf(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":qt()}function yi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new at(ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tf(r);throw new at(ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Ty(r,e){if(e<=0)throw new at(ze.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Sy{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new at(ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new at(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eu("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Tg(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new at(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fc{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new at(ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new at(ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sy(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new yr;switch(t.type){case"firstParty":return new mi(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new at(ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hu.get(e);t&&(Ut("ComponentProvider","Removing Datastore"),hu.delete(e),t.terminate())}(this),Promise.resolve()}}class bs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bs(this.firestore,e,this._key)}}class qo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qo(this.firestore,e,this._query)}}class Cu extends qo{constructor(e,t,s){super(e,t,il(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bs(this.firestore,null,new jt(e))}withConverter(e){return new Cu(this.firestore,e,this._path)}}function Ay(r,e,...t){if(r=(0,Ue.m9)(r),La("collection","path",e),r instanceof fc){const s=Ar.fromString(e,...t);return Ag(s),new Cu(r,null,s)}{if(!(r instanceof bs||r instanceof Cu))throw new at(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ar.fromString(e,...t));return Ag(s),new Cu(r.firestore,null,s)}}function sh(r,e,...t){if(r=(0,Ue.m9)(r),1===arguments.length&&(e=rs.A()),La("doc","path",e),r instanceof fc){const s=Ar.fromString(e,...t);return Sg(s),new bs(r,null,new jt(s))}{if(!(r instanceof bs||r instanceof Cu))throw new at(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ar.fromString(e,...t));return Sg(s),new bs(r.firestore,r instanceof Cu?r.converter:null,new jt(s))}}function oh(r,e){return r=(0,Ue.m9)(r),e=(0,Ue.m9)(e),(r instanceof bs||r instanceof Cu)&&(e instanceof bs||e instanceof Cu)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Mg(r,e){return r=(0,Ue.m9)(r),e=(0,Ue.m9)(e),r instanceof qo&&e instanceof qo&&r.firestore===e.firestore&&vu(r._query,e._query)&&r.converter===e.converter}class Ry{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Hp(this,"async_queue_retry"),this.Xc=()=>{const t=Qh();t&&Ut("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Qh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Qh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new on;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ie.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!y(t))throw t;Ut("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=tg.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&qt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ie.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Sf(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Rg{constructor(){this._progressObserver={},this._taskCompletionResolver=new on,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ds extends fc{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Ry,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xg(this),this._firestoreClient.terminate()}}function uo(r){return r._firestoreClient||xg(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function xg(r){var e,t,s;const a=r._freezeSettings(),c=(S=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Pl(r._databaseId,S,r._persistenceKey,(H=a).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,Tg(H.experimentalLongPollingOptions),H.useFetchStreams));var S,H;r._firestoreClient=new wv(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Pg(r,e,t){const s=new on;return r.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield dd(r,t),yield Ey(r,e),s.resolve()}catch(a){const c=a;if(!wy(c))throw c;ts("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function Oy(r){if(r._initialized||r._terminated)throw new at(ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tu(Gs.fromBase64String(e))}catch(t){throw new at(ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tu(Gs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new at(ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new is(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pc{constructor(e){this._methodName=e}}class Mf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new at(ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new at(ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jn(this._lat,e._lat)||Jn(this._long,e._long)}}const Ov=/^__.*__$/;class kv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Jo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}class ky{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Jo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ng(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class uh{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new uh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ar(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ng(this.ca)&&Ov.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Fy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Kd(e)}ya(e,t,s,a=!1){return new uh({ca:e,methodName:t,ga:s,path:is.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function El(r){const e=r._freezeSettings(),t=Kd(r._databaseId);return new Fy(r._databaseId,!!e.ignoreUndefinedProperties,t)}function lh(r,e,t,s,a,c={}){const f=r.ya(c.merge||c.mergeFields?2:0,e,t,a);jy("Data must be an object, but it was:",f,s);const S=Fv(s,f);let V,H;if(c.merge)V=new To(f.fieldMask),H=f.fieldTransforms;else if(c.mergeFields){const se=[];for(const Pe of c.mergeFields){const ct=pd(e,Pe,t);if(!f.contains(ct))throw new at(ze.INVALID_ARGUMENT,`Field '${ct}' is specified in your field mask but missing from your input data.`);Hy(se,ct)||se.push(ct)}V=new To(se),H=f.fieldTransforms.filter(Pe=>V.covers(Pe.field))}else V=null,H=f.fieldTransforms;return new kv(new Gi(S),V,H)}class fd extends pc{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fd}}function Og(r,e,t){return new uh({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Rf extends pc{_toFieldTransform(e){return new Pd(e.path,new Ya)}isEqual(e){return e instanceof Rf}}class Ly extends pc{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Og(this,e,!0),s=this.pa.map(c=>tu(c,t)),a=new $l(s);return new Pd(e.path,a)}isEqual(e){return this===e}}class Vy extends pc{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Og(this,e,!0),s=this.pa.map(c=>tu(c,t)),a=new Hl(s);return new Pd(e.path,a)}isEqual(e){return this===e}}class Uy extends pc{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new kc(e.serializer,xd(e.serializer,this.Ia));return new Pd(e.path,t)}isEqual(e){return this===e}}function Qu(r,e,t,s){const a=r.ya(1,e,t);jy("Data must be an object, but it was:",a,s);const c=[],f=Gi.empty();Pa(s,(V,H)=>{const se=Fg(e,V,t);H=(0,Ue.m9)(H);const Pe=a.da(se);if(H instanceof fd)c.push(se);else{const ct=tu(H,Pe);null!=ct&&(c.push(se),f.set(se,ct))}});const S=new To(c);return new ky(f,S,a.fieldTransforms)}function kg(r,e,t,s,a,c){const f=r.ya(1,e,t),S=[pd(e,s,t)],V=[a];if(c.length%2!=0)throw new at(ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ct=0;ct<c.length;ct+=2)S.push(pd(e,c[ct])),V.push(c[ct+1]);const H=[],se=Gi.empty();for(let ct=S.length-1;ct>=0;--ct)if(!Hy(H,S[ct])){const St=S[ct];let Jt=V[ct];Jt=(0,Ue.m9)(Jt);const Cn=f.da(St);if(Jt instanceof fd)H.push(St);else{const En=tu(Jt,Cn);null!=En&&(H.push(St),se.set(St,En))}}const Pe=new To(H);return new ky(se,Pe,f.fieldTransforms)}function By(r,e,t,s=!1){return tu(t,r.ya(s?4:3,e))}function tu(r,e){if(xf(r=(0,Ue.m9)(r)))return jy("Unsupported field value:",e,r),Fv(r,e);if(r instanceof pc)return function(t,s){if(!Ng(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let S=tu(f,s.wa(c));null==S&&(S={nullValue:"NULL_VALUE"}),a.push(S),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,Ue.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xd(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=wi.fromDate(t);return{timestampValue:Wl(s.serializer,a)}}if(t instanceof wi){const a=new wi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wl(s.serializer,a)}}if(t instanceof Mf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tu)return{bytesValue:lp(s.serializer,t._byteString)};if(t instanceof bs){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Rh(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Tf(t)}`)}(r,e)}function Fv(r,e){const t={};return su(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(r,(s,a)=>{const c=tu(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function xf(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof wi||r instanceof Mf||r instanceof Tu||r instanceof bs||r instanceof pc)}function jy(r,e,t){if(!xf(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Tf(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function pd(r,e,t){if((e=(0,Ue.m9)(e))instanceof Yu)return e._internalPath;if("string"==typeof e)return Fg(r,e);throw ar("Field path arguments must be of type string or ",r,!1,void 0,t)}const $y=new RegExp("[~\\*/\\[\\]]");function Fg(r,e,t){if(e.search($y)>=0)throw ar(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Yu(...e.split("."))._internalPath}catch{throw ar(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ar(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let V="";return(c||f)&&(V+=" (found",c&&(V+=` in field ${s}`),f&&(V+=` in document ${a}`),V+=")"),new at(ze.INVALID_ARGUMENT,S+r+V)}function Hy(r,e){return r.some(t=>t.isEqual(e))}class ch{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new bs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Lv extends ch{data(){return super.data()}}function Xu(r,e){return"string"==typeof e?Fg(r,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}function zy(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new at(ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gd{}class wl extends gd{}function Ji(r,e,...t){let s=[];e instanceof gd&&s.push(e),s=s.concat(t),function(a){const c=a.filter(S=>S instanceof gc).length,f=a.filter(S=>S instanceof Pf).length;if(c>1||c>0&&f>0)throw new at(ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class Pf extends wl{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Pf(e,t,s)}_apply(e){const t=this._parse(e);return Ky(e._query,t),new qo(e.firestore,e.converter,al(e._query,t))}_parse(e){const t=El(e.firestore);return function(a,c,f,S,V,H,se){let Pe;if(V.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new at(ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){Ug(se,H);const ct=[];for(const St of se)ct.push(Vg(S,a,St));Pe={arrayValue:{values:ct}}}else Pe=Vg(S,a,se)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Ug(se,H),Pe=By(f,"where",se,"in"===H||"not-in"===H);return Xr.create(V,H,Pe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class gc extends gd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gc(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Li.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const S of f)Ky(c,S),c=al(c,S)}(e._query,t),new qo(e.firestore,e.converter,al(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Nf extends wl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Nf(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new at(ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new at(ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Za(a,c);return function(S,V){if(null===xc(S)){const H=sl(S);null!==H&&md(0,H,V.field)}}(s,f),f}(e._query,this._field,this._direction);return new qo(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new Fo(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class dh extends wl{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new dh(e,t,s)}_apply(e){return new qo(e.firestore,e.converter,_u(e._query,this._limit,this._limitType))}}class Of extends wl{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Of(e,t,s)}_apply(e){const t=Lg(e,this.type,this._docOrFields,this._inclusive);return new qo(e.firestore,e.converter,(a=t,new Fo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class kf extends wl{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new kf(e,t,s)}_apply(e){const t=Lg(e,this.type,this._docOrFields,this._inclusive);return new qo(e.firestore,e.converter,(a=t,new Fo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function Lg(r,e,t,s){if(t[0]=(0,Ue.m9)(t[0]),t[0]instanceof ch)return function(a,c,f,S,V){if(!S)throw new at(ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const H=[];for(const se of uu(a))if(se.field.isKeyField())H.push(Ct(c,S.key));else{const Pe=S.data.field(se.field);if(Ho(Pe))throw new at(ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+se.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Pe){const ct=se.field.canonicalString();throw new at(ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ct}' (used as the orderBy) does not exist.`)}H.push(Pe)}return new yu(H,V)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=El(r.firestore);return function(c,f,S,V,H,se){const Pe=c.explicitOrderBy;if(H.length>Pe.length)throw new at(ze.INVALID_ARGUMENT,`Too many arguments provided to ${V}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ct=[];for(let St=0;St<H.length;St++){const Jt=H[St];if(Pe[St].field.isKeyField()){if("string"!=typeof Jt)throw new at(ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${V}(), but got a ${typeof Jt}`);if(!ol(c)&&-1!==Jt.indexOf("/"))throw new at(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${V}() must be a plain document ID, but '${Jt}' contains a slash.`);const Cn=c.path.child(Ar.fromString(Jt));if(!jt.isDocumentKey(Cn))throw new at(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${V}() must result in a valid document path, but '${Cn}' is not because it contains an odd number of segments.`);const En=new jt(Cn);ct.push(Ct(f,En))}else{const Cn=By(S,V,Jt);ct.push(Cn)}}return new yu(ct,se)}(r._query,r.firestore._databaseId,a,e,t,s)}}function Vg(r,e,t){if("string"==typeof(t=(0,Ue.m9)(t))){if(""===t)throw new at(ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ol(e)&&-1!==t.indexOf("/"))throw new at(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ar.fromString(t));if(!jt.isDocumentKey(s))throw new at(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ct(r,new jt(s))}if(t instanceof bs)return Ct(r,t._key);throw new at(ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(t)}.`)}function Ug(r,e){if(!Array.isArray(r)||0===r.length)throw new at(ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ky(r,e){if(e.isInequality()){const s=sl(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new at(ze.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=xc(r);null!==c&&md(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new at(ze.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function md(r,e,t){if(!t.isEqual(e))throw new at(ze.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Bg{convertValue(e,t="none"){switch(qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ws(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Pa(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Mf(ws(e.latitude),ws(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ku(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(da(e));default:return null}}convertTimestamp(e){const t=Ka(e);return new wi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ar.fromString(e);Sn(Im(s));const a=new So(s.get(1),s.get(3)),c=new jt(s.popFirst(5));return a.isEqual(t)||Pr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Lf(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Hv extends Bg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bs(this.firestore,null,t)}}class mc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ju extends ch{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Xu("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Vf extends Ju{data(e={}){return super.data(e)}}class yc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new mc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Vf(this._firestore,this._userDataWriter,s.key,s,new mc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new at(ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Vf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new mc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const S=new Vf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new mc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let V=-1,H=-1;return 0!==f.type&&(V=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),H=c.indexOf(f.doc.key)),{type:tE(f.type),doc:S,oldIndex:V,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function tE(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}function Kv(r,e){return r instanceof Ju&&e instanceof Ju?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof yc&&e instanceof yc&&r._firestore===e._firestore&&Mg(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class fu extends Bg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bs(this.firestore,null,t)}}function Qy(r,e,t){r=yi(r,bs);const s=yi(r.firestore,ds),a=Lf(r.converter,e,t);return _d(s,[lh(El(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Us.none())])}function Xy(r,e,t,...s){r=yi(r,bs);const a=yi(r.firestore,ds),c=El(a);let f;return f="string"==typeof(e=(0,Ue.m9)(e))||e instanceof Yu?kg(c,"updateDoc",r._key,e,t,s):Qu(c,"updateDoc",r._key,e),_d(a,[f.toMutation(r._key,Us.exists(!0))])}function Jy(r,...e){var t,s,a;r=(0,Ue.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Sf(e[f])||(c=e[f],f++);const S={includeMetadataChanges:c.includeMetadataChanges};if(Sf(e[f])){const Pe=e[f];e[f]=null===(t=Pe.next)||void 0===t?void 0:t.bind(Pe),e[f+1]=null===(s=Pe.error)||void 0===s?void 0:s.bind(Pe),e[f+2]=null===(a=Pe.complete)||void 0===a?void 0:a.bind(Pe)}let V,H,se;if(r instanceof bs)H=yi(r.firestore,ds),se=il(r._key.path),V={next:Pe=>{e[f]&&e[f](jg(H,r,Pe))},error:e[f+1],complete:e[f+2]};else{const Pe=yi(r,qo);H=yi(Pe.firestore,ds),se=Pe._query;const ct=new fu(H);V={next:St=>{e[f]&&e[f](new yc(H,ct,Pe,St))},error:e[f+1],complete:e[f+2]},zy(r._query)}return function(Pe,ct,St,Jt){const Cn=new Df(Jt),En=new Xa(ct,Cn,St);return Pe.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return rf(yield hc(Pe),En)})),()=>{Cn.Dc(),Pe.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return td(yield hc(Pe),En)}))}}(uo(H),se,S,V)}function _d(r,e){return function(t,s){const a=new on;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function uy(r,e,t){return uf.apply(this,arguments)}(yield Dg(t),s,a)})),a.promise}(uo(r),e)}function jg(r,e,t){const s=t.docs.get(e._key),a=new fu(r);return new Ju(r,a,e._key,s,new mc(t.hasPendingWrites,t.fromCache),e.converter)}const r0={maxAttempts:5};class Bf{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=El(e)}set(e,t,s){this._verifyNotCommitted();const a=Dl(e,this._firestore),c=Lf(a.converter,t,s),f=lh(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(f.toMutation(a._key,Us.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=Dl(e,this._firestore);let f;return f="string"==typeof(t=(0,Ue.m9)(t))||t instanceof Yu?kg(this._dataReader,"WriteBatch.update",c._key,t,s,a):Qu(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(f.toMutation(c._key,Us.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Dl(e,this._firestore);return this._mutations=this._mutations.concat(new Gl(t._key,Us.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new at(ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dl(r,e){if((r=(0,Ue.m9)(r)).firestore!==e)throw new at(ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class o_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=El(e)}get(e){const t=Dl(e,this._firestore),s=new Hv(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return qt();const c=a[0];if(c.isFoundDocument())return new ch(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new ch(this._firestore,s,t._key,null,t.converter);throw qt()})}set(e,t,s){const a=Dl(e,this._firestore),c=Lf(a.converter,t,s),f=lh(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,f),this}update(e,t,s,...a){const c=Dl(e,this._firestore);let f;return f="string"==typeof(t=(0,Ue.m9)(t))||t instanceof Yu?kg(this._dataReader,"Transaction.update",c._key,t,s,a):Qu(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,f),this}delete(e){const t=Dl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Dl(e,this._firestore),s=new fu(this._firestore);return super.get(e).then(a=>new Ju(this._firestore,s,t._key,a._document,new mc(!1,!1),t.converter))}}!function(r,e=!0){Ei=Rt.SDK_VERSION,(0,Rt._registerComponent)(new We.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new ds(new ns(t.getProvider("auth-internal")),new pu(t.getProvider("app-check-internal")),function(S,V){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new at(ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(S.options.projectId,V)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,Rt.registerVersion)(cs,"3.13.0",r),(0,Rt.registerVersion)(cs,"3.13.0","esm2017")}();function Hg(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new at("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function zg(){if(typeof Uint8Array>"u")throw new at("unimplemented","Uint8Arrays are not available in this environment.")}function u_(){if(!function vh(){return typeof atob<"u"}())throw new at("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ph{constructor(e){this._delegate=e}static fromBase64String(e){return u_(),new ph(Tu.fromBase64String(e))}static fromUint8Array(e){return zg(),new ph(Tu.fromUint8Array(e))}toBase64(){return u_(),this._delegate.toBase64()}toUint8Array(){return zg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Gg(r){return function Wg(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class Kg{enableIndexedDbPersistence(e,t){return function xy(r,e){Oy(r=yi(r,ds));const t=uo(r);if(t._uninitializedComponentsProvider)throw new at(ze.FAILED_PRECONDITION,"SDK cache is already specified.");ts("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),a=new Fa;return Pg(t,a,new wf(a,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Py(r){Oy(r=yi(r,ds));const e=uo(r);if(e._uninitializedComponentsProvider)throw new at(ze.FAILED_PRECONDITION,"SDK cache is already specified.");ts("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new Fa;return Pg(e,s,new ih(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Ny(r){if(r._initialized&&!r._terminated)throw new at(ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new on;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(t=(0,Ie.Z)(function*(s){if(!wo.D())return Promise.resolve();const a=s+"main";yield wo.delete(a)}),function(s){return t.apply(this,arguments)})(qm(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class qg{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof So||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ts("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function hd(r,e,t,s={}){var a;const c=(r=yi(r,fc))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==f&&ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let S,V;if("string"==typeof s.mockUserToken)S=s.mockUserToken,V=Zr.MOCK_USER;else{S=(0,Ue.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const H=s.mockUserToken.sub||s.mockUserToken.user_id;if(!H)throw new at(ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new Zr(H)}r._authCredentials=new Eo(new Vr(S,V))}}(this._delegate,e,t,s)}enableNetwork(){return function Mv(r){return function Dv(r){return r.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield Dy(r),t=yield wg(r);return e.setNetworkEnabled(!0),function(s){const a=pn(s);return a.vu.delete(0),sc(a)}(t)}))}(uo(r=yi(r,ds)))}(this._delegate)}disableNetwork(){return function Rv(r){return function Iv(r){return r.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield Dy(r),t=yield wg(r);return e.setNetworkEnabled(!1),(s=(0,Ie.Z)(function*(a){const c=pn(a);c.vu.add(0),yield qc(c),c.bu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(uo(r=yi(r,ds)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,eu("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Av(r){return function(e){const t=new on;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function vv(r,e){return hf.apply(this,arguments)}(yield Dg(e),t)})),t.promise}(uo(r=yi(r,ds)))}(this._delegate)}onSnapshotsInSync(e){return function e_(r,e){return function bg(r,e){const t=new Df(e);return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return s=yield hc(r),a=t,pn(s).ku.add(a),void a.next();var s,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return s=yield hc(r),a=t,void pn(s).ku.delete(a);var s,a}))}}(uo(r=yi(r,ds)),Sf(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new at("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wd(this,Ay(this._delegate,e))}catch(t){throw Mo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Va(this,sh(this._delegate,e))}catch(t){throw Mo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ra(this,function My(r,e){if(r=yi(r,fc),La("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new at(ze.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qo(r,null,(t=e,new Fo(Ar.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Mo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function s0(r,e,t){r=yi(r,ds);const s=Object.assign(Object.assign({},r0),t);return function(a){if(a.maxAttempts<1)throw new at(ze.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,f){const S=new on;return a.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const V=yield function Ig(r){return ao(r).then(e=>e.datastore)}(a);new _g(a.asyncQueue,V,f,c,S).run()})),S.promise}(uo(r),a=>e(new o_(r,a)),s)}(this._delegate,t=>e(new l_(this,t)))}batch(){return uo(this._delegate),new jf(new Bf(this._delegate,e=>_d(this._delegate,e)))}loadBundle(e){return function xv(r,e){const t=uo(r=yi(r,ds)),s=new Rg;return function Cg(r,e,t,s){const a=function(c,f){let S;return S="string"==typeof c?rp().encode(c):c,V=function(V,H){if(V instanceof Uint8Array)return _y(V,H);if(V instanceof ArrayBuffer)return _y(new Uint8Array(V),H);if(V instanceof ReadableStream)return V.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new yg(V,f);var V}(t,Kd(e));r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function my(r,e,t){const s=pn(r);var a;(a=(0,Ie.Z)(function*(c,f,S){try{const V=yield f.getMetadata();if(yield function(ct,St){const Jt=pn(ct),Cn=Do(St.createTime);return Jt.persistence.runTransaction("hasNewerBundle","readonly",En=>Jt.qs.getBundleMetadata(En,St.id)).then(En=>!!En&&En.createTime.compareTo(Cn)>=0)}(c.localStore,V))return yield f.close(),S._completeWith({taskState:"Success",documentsLoaded:(ct=V).totalDocuments,bytesLoaded:ct.totalBytes,totalDocuments:ct.totalDocuments,totalBytes:ct.totalBytes}),Promise.resolve(new Set);S._updateProgress(Jd(V));const H=new lc(V,c.localStore,f.serializer);let se=yield f.bc();for(;se;){const ct=yield H.zu(se);ct&&S._updateProgress(ct),se=yield f.bc()}const Pe=yield H.complete();return yield Ja(c,Pe.Ju,void 0),yield function(ct,St){const Jt=pn(ct);return Jt.persistence.runTransaction("Save bundle","readwrite",Cn=>Jt.qs.saveBundleMetadata(Cn,St))}(c.localStore,V),S._completeWith(Pe.progress),Promise.resolve(Pe.Hu)}catch(V){return ts("SyncEngine",`Loading bundle failed with ${V}`),S._failWith(V),Promise.resolve(new Set)}var ct}),function(c,f,S){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Dg(r),a,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Pv(r,e){return function bu(r,e){return r.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(t,s){const a=pn(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.qs.getNamedQuery(c,s))}(yield Cf(r),e)}))}(uo(r=yi(r,ds)),e).then(t=>t?new qo(r,null,t.query):null)}(this._delegate,e).then(t=>t?new ra(this,t):null)}}class vd extends Bg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ph(new Tu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Va.forKey(t,this.firestore,null)}}class l_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vd(e)}get(e){const t=Il(e);return this._delegate.get(t).then(s=>new $f(this._firestore,new Ju(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=Il(e);return s?(Hg("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const c=Il(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,s,...a),this}delete(e){const t=Il(e);return this._delegate.delete(t),this}}class jf{constructor(e){this._delegate=e}set(e,t,s){const a=Il(e);return s?(Hg("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const c=Il(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,s,...a),this}delete(e){const t=Il(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _c{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Vf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ed(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=_c.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let c=a.get(t);return c||(c=new _c(e,new vd(e),t),a.set(t,c)),c}}_c.INSTANCES=new WeakMap;class Va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vd(e)}static forPath(e,t,s){if(e.length%2!=0)throw new at("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Va(t,new bs(t._delegate,s,new jt(e)))}static forKey(e,t,s){return new Va(t,new bs(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new wd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wd(this.firestore,Ay(this._delegate,e))}catch(t){throw Mo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ue.m9)(e))instanceof bs&&oh(this._delegate,e)}set(e,t){t=Hg("DocumentReference.set",t);try{return t?Qy(this._delegate,e,t):Qy(this._delegate,e)}catch(s){throw Mo(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Xy(this._delegate,e):Xy(this._delegate,e,t,...s)}catch(a){throw Mo(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Qv(r){return _d(yi(r.firestore,ds),[new Gl(r._key,Us.none())])}(this._delegate)}onSnapshot(...e){const t=Zg(e),s=c_(e,a=>new $f(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Jy(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function qv(r){r=yi(r,bs);const e=yi(r.firestore,ds),t=uo(e),s=new fu(e);return function Iy(r,e){const t=new on;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(s=(0,Ie.Z)(function*(a,c,f){try{const S=yield function(V,H){const se=pn(V);return se.persistence.runTransaction("read document","readonly",Pe=>se.localDocuments.getDocument(Pe,H))}(a,c);S.isFoundDocument()?f.resolve(S):S.isNoDocument()?f.resolve(null):f.reject(new at(ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const V=Jc(S,`Failed to get document '${c} from cache`);f.reject(V)}}),function(a,c,f){return s.apply(this,arguments)})(yield Cf(r),e,t);var s})),t.promise}(t,r._key).then(a=>new Ju(e,s,r._key,a,new mc(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function Zv(r){r=yi(r,bs);const e=yi(r.firestore,ds);return by(uo(e),r._key,{source:"server"}).then(t=>jg(e,r,t))}(this._delegate):function Zy(r){r=yi(r,bs);const e=yi(r.firestore,ds);return by(uo(e),r._key).then(t=>jg(e,r,t))}(this._delegate),t.then(s=>new $f(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Va(this.firestore,this._delegate.withConverter(e?_c.getInstance(this.firestore,e):null))}}function Mo(r,e,t){return r.message=r.message.replace(e,t),r}function Zg(r){for(const e of r)if("object"==typeof e&&!Gg(e))return e;return{}}function c_(r,e){var t,s;let a;return a=Gg(r[0])?r[0]:Gg(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class $f{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Kv(this._delegate,e._delegate)}}class Ed extends $f{data(e){const t=this._delegate.data(e);return function Ia(r,e){r||qt()}(void 0!==t),t}}class ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vd(e)}where(e,t,s){try{return new ra(this.firestore,Ji(this._delegate,function Gy(r,e,t){const s=e,a=Xu("where",r);return Pf._create(a,s,t)}(e,t,s)))}catch(a){throw Mo(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ra(this.firestore,Ji(this._delegate,function Wy(r,e="asc"){const t=e,s=Xu("orderBy",r);return Nf._create(s,t)}(e,t)))}catch(s){throw Mo(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ra(this.firestore,Ji(this._delegate,function Uv(r){return Ty("limit",r),dh._create("limit",r,"F")}(e)))}catch(t){throw Mo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ra(this.firestore,Ji(this._delegate,function Bv(r){return Ty("limitToLast",r),dh._create("limitToLast",r,"L")}(e)))}catch(t){throw Mo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ra(this.firestore,Ji(this._delegate,function hh(...r){return Of._create("startAt",r,!0)}(...e)))}catch(t){throw Mo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ra(this.firestore,Ji(this._delegate,function jv(...r){return Of._create("startAfter",r,!1)}(...e)))}catch(t){throw Mo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ra(this.firestore,Ji(this._delegate,function $v(...r){return kf._create("endBefore",r,!1)}(...e)))}catch(t){throw Mo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ra(this.firestore,Ji(this._delegate,function Ff(...r){return kf._create("endAt",r,!0)}(...e)))}catch(t){throw Mo(t,"endAt()","Query.endAt()")}}isEqual(e){return Mg(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function fh(r){r=yi(r,qo);const e=yi(r.firestore,ds),t=uo(e),s=new fu(e);return function Cy(r,e){const t=new on;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(s=(0,Ie.Z)(function*(a,c,f){try{const S=yield Kc(a,c,!0),V=new cc(c,S.ir),H=V.sc(S.documents),se=V.applyChanges(H,!1);f.resolve(se.snapshot)}catch(S){const V=Jc(S,`Failed to execute query '${c} against cache`);f.reject(V)}}),function(a,c,f){return s.apply(this,arguments)})(yield Cf(r),e,t);var s})),t.promise}(t,r._query).then(a=>new yc(e,s,r,a))}(this._delegate):"server"===e?.source?function Yv(r){r=yi(r,qo);const e=yi(r.firestore,ds),t=uo(e),s=new fu(e);return bv(t,r._query,{source:"server"}).then(a=>new yc(e,s,r,a))}(this._delegate):function Yy(r){r=yi(r,qo);const e=yi(r.firestore,ds),t=uo(e),s=new fu(e);return zy(r._query),bv(t,r._query).then(a=>new yc(e,s,r,a))}(this._delegate),t.then(s=>new gh(this.firestore,new yc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Zg(e),s=c_(e,a=>new gh(this.firestore,new yc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Jy(this._delegate,t,s)}withConverter(e){return new ra(this.firestore,this._delegate.withConverter(e?_c.getInstance(this.firestore,e):null))}}class f0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ed(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gh{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ra(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ed(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new f0(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Ed(this._firestore,s))})}isEqual(e){return Kv(this._delegate,e._delegate)}}class wd extends ra{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Va(this.firestore,e):null}doc(e){try{return new Va(this.firestore,void 0===e?sh(this._delegate):sh(this._delegate,e))}catch(t){throw Mo(t,"doc()","CollectionReference.doc()")}}add(e){return function nE(r,e){const t=yi(r.firestore,ds),s=sh(r),a=Lf(r.converter,e);return _d(t,[lh(El(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,Us.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Va(this.firestore,t))}isEqual(e){return oh(this._delegate,e._delegate)}withConverter(e){return new wd(this.firestore,this._delegate.withConverter(e?_c.getInstance(this.firestore,e):null))}}function Il(r){return yi(r,bs)}class mh{constructor(...e){this._delegate=new Yu(...e)}static documentId(){return new mh(is.keyField().canonicalString())}isEqual(e){return(e=(0,Ue.m9)(e))instanceof Yu&&this._delegate._internalPath.isEqual(e._internalPath)}}class bl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function a0(){return new Rf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new bl(e)}static delete(){const e=function o0(){return new fd("deleteField")}();return e._methodName="FieldValue.delete",new bl(e)}static arrayUnion(...e){const t=function u0(...r){return new Ly("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new bl(t)}static arrayRemove(...e){const t=function l0(...r){return new Vy("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new bl(t)}static increment(e){const t=function c0(r){return new Uy("increment",r)}(e);return t._methodName="FieldValue.increment",new bl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const d_={Firestore:qg,GeoPoint:Mf,Timestamp:wi,Blob:ph,Transaction:l_,WriteBatch:jf,DocumentReference:Va,DocumentSnapshot:$f,Query:ra,QueryDocumentSnapshot:Ed,QuerySnapshot:gh,CollectionReference:wd,FieldPath:mh,FieldValue:bl,setLogLevel:function h0(r){!function Fs(r){ro.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function f_(r){(function h_(r,e){r.INTERNAL.registerComponent(new We.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},d_)))})(r,(e,t)=>new qg(e,t,new Kg)),r.registerVersion("@firebase/firestore-compat","0.3.12")}(dt.Z);var Cl=L(1205),p0=L(6217),g0=L(9260);function Yg(r,e){return function m0(r,e=Z.z){return new K.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(r,e)}function Hf(r,e){return Yg(r,e).pipe((0,he.U)(t=>({payload:t,type:"query"})))}function zf(r,e){return Hf(r,e).pipe((0,Ye.O)(void 0),de(),(0,he.U)(([t,s])=>{const a=s.payload.docChanges(),c=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((f,S)=>{const V=a.find(se=>se.doc.ref.isEqual(f.ref)),H=t?.payload.docs.find(se=>se.ref.isEqual(f.ref));V&&JSON.stringify(V.doc.metadata)===JSON.stringify(f.metadata)||!V&&H&&JSON.stringify(H.metadata)===JSON.stringify(f.metadata)||c.push({type:"modified",payload:{oldIndex:S,newIndex:S,type:"modified",doc:f}})}),c}))}function p_(r,e,t){return zf(r,t).pipe((0,xe.R)((s,a)=>function lE(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function y0(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Qg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Qg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Qg(r,e.oldIndex,1)}return r}(r,s))}),r}(s,a.map(c=>c.payload),e),[]),(0,Et.x)(),(0,he.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function Qg(r,e,t,...s){const a=r.slice();return a.splice(e,t,...s),a}function Xg(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Jg{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=zf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,he.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Ye.O)(void 0),de(),(0,He.h)(([s,a])=>a.length>0||!s),(0,he.U)(([s,a])=>a),ke.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,xe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Xg(e);return p_(this.query,t,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return Hf(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),ke.iC)}get(e){return(0,$.D)(this.query.get(e)).pipe(ke.iC)}add(e){return this.ref.add(e)}doc(e){return new em(this.ref.doc(e),this.afs)}}class em{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:c}=m_(s,t);return new Jg(a,c,this.afs)}snapshotChanges(){return function uE(r,e){return Yg(r,e).pipe((0,Ye.O)(void 0),de(),(0,he.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,he.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,$.D)(this.ref.get(e)).pipe(ke.iC)}}class _0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?zf(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,He.h)(t=>t.length>0),ke.iC):zf(this.query,this.afs.schedulers.outsideAngular).pipe(ke.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,xe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Xg(e);return p_(this.query,t,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return Hf(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ke.iC)}get(e){return(0,$.D)(this.query.get(e)).pipe(ke.iC)}}const g_=new p.OlP("angularfire2.enableFirestorePersistence"),tm=new p.OlP("angularfire2.firestore.persistenceSettings"),v0=new p.OlP("angularfire2.firestore.settings"),E0=new p.OlP("angularfire2.firestore.use-emulator");function m_(r,e=(t=>t)){return{query:e(r),ref:r}}let y_=(()=>{class r{constructor(t,s,a,c,f,S,V,H,se,Pe,ct,St,Jt,Cn,En,Ur,li){this.schedulers=V;const Er=(0,tt.on)(t,S,s),Ks=se;Pe&&(0,Cl.nw)(Er,S,ct,Jt,Cn,En,St,Ur),[this.firestore,this.persistenceEnabled$]=(0,tt.cc)(`${Er.name}.firestore`,"AngularFirestore",Er.name,()=>{const Ds=S.runOutsideAngular(()=>Er.firestore());if(c&&Ds.settings(c),Ks&&Ds.useEmulator(...Ks),a&&!(0,_t.PM)(f)){const hs=()=>{try{return(0,$.D)(Ds.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(Vo){return typeof console<"u"&&console.warn(Vo),(0,Le.of)(!1)}};return[Ds,S.runOutsideAngular(hs)]}return[Ds,(0,Le.of)(!1)]},[c,Ks,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:f}=m_(a,s),S=this.schedulers.ngZone.run(()=>c);return new Jg(S,f,this)}collectionGroup(t,s){const a=s||(f=>f),c=this.firestore.collectionGroup(t);return new _0(a(c),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new em(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(p.LFG(tt.Dh),p.LFG(tt.xv,8),p.LFG(g_,8),p.LFG(v0,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(ke.HU),p.LFG(tm,8),p.LFG(E0,8),p.LFG(Cl.zQ,8),p.LFG(Cl.Qv,8),p.LFG(Cl.L6,8),p.LFG(Cl._Q,8),p.LFG(Cl.rT,8),p.LFG(Cl.lh,8),p.LFG(Cl.f7,8),p.LFG(p0.nm,8))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),yh=(()=>{class r{constructor(){g0.Z.registerVersion("angularfire",ke.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:g_,useValue:!0},{provide:tm,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({providers:[y_]}),r})()},377:(tn,st,L)=>{L.d(st,{Q1:()=>_s,TE:()=>Hi});var p=L(9751),Z=L(9646),K=L(8996),$=L(4986),Le=L(4482),ke=L(5403),je=L(4004),Ve=L(3900),de=L(8405),he=L(4650),xe=L(2011),Et=L(3942),He=L(5861),tt=L(6881),_t=L(2090),Qe=L(4859);const dt="firebasestorage.googleapis.com",Ie="storageBucket";class Ue extends _t.ZR{constructor(B,oe,be=0){super(vt(B),`Firebase Storage: ${oe} (${vt(B)})`),this.status_=be,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ue.prototype)}get status(){return this.status_}set status(B){this.status_=B}_codeEquals(B){return vt(B)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(B){this.customData.serverResponse=B,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ht=(()=>{return(j=ht||(ht={})).UNKNOWN="unknown",j.OBJECT_NOT_FOUND="object-not-found",j.BUCKET_NOT_FOUND="bucket-not-found",j.PROJECT_NOT_FOUND="project-not-found",j.QUOTA_EXCEEDED="quota-exceeded",j.UNAUTHENTICATED="unauthenticated",j.UNAUTHORIZED="unauthorized",j.UNAUTHORIZED_APP="unauthorized-app",j.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",j.INVALID_CHECKSUM="invalid-checksum",j.CANCELED="canceled",j.INVALID_EVENT_NAME="invalid-event-name",j.INVALID_URL="invalid-url",j.INVALID_DEFAULT_BUCKET="invalid-default-bucket",j.NO_DEFAULT_BUCKET="no-default-bucket",j.CANNOT_SLICE_BLOB="cannot-slice-blob",j.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",j.NO_DOWNLOAD_URL="no-download-url",j.INVALID_ARGUMENT="invalid-argument",j.INVALID_ARGUMENT_COUNT="invalid-argument-count",j.APP_DELETED="app-deleted",j.INVALID_ROOT_OPERATION="invalid-root-operation",j.INVALID_FORMAT="invalid-format",j.INTERNAL_ERROR="internal-error",j.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ht;var j})();function vt(j){return"storage/"+j}function Ee(){return new Ue(ht.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function wr(){return new Ue(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vr(){return new Ue(ht.CANCELED,"User canceled the upload/download.")}function ye(){return new Ue(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mt(j){return new Ue(ht.INVALID_ARGUMENT,j)}function Lt(){return new Ue(ht.APP_DELETED,"The Firebase app was deleted.")}function Dt(j){return new Ue(ht.INVALID_ROOT_OPERATION,"The operation '"+j+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ln(j,B){return new Ue(ht.INVALID_FORMAT,"String does not match format '"+j+"': "+B)}function yn(j){throw new Ue(ht.INTERNAL_ERROR,"Internal error: "+j)}class an{constructor(B,oe){this.bucket=B,this.path_=oe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const B=encodeURIComponent;return"/b/"+B(this.bucket)+"/o/"+B(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(B,oe){let be;try{be=an.makeFromUrl(B,oe)}catch{return new an(B,"")}if(""===be.path)return be;throw function Zt(j){return new Ue(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+j+"'.")}(B)}static makeFromUrl(B,oe){let be=null;const w="([A-Za-z0-9.\\-_]+)",Q=new RegExp("^gs://"+w+"(/(.*))?$","i");function Mt(Hr){Hr.path_=decodeURIComponent(Hr.path)}const Xn=oe.replace(/[.]/g,"\\."),ai=[{regex:Q,indices:{bucket:1,path:3},postModify:function C(Hr){"/"===Hr.path.charAt(Hr.path.length-1)&&(Hr.path_=Hr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Xn}/v[A-Za-z0-9_]+/b/${w}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Mt},{regex:new RegExp(`^https?://${oe===dt?"(?:storage.googleapis.com|storage.cloud.google.com)":oe}/${w}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Mt}];for(let Hr=0;Hr<ai.length;Hr++){const Xi=ai[Hr],Os=Xi.regex.exec(B);if(Os){let Oo=Os[Xi.indices.path];Oo||(Oo=""),be=new an(Os[Xi.indices.bucket],Oo),Xi.postModify(be);break}}if(null==be)throw function Fn(j){return new Ue(ht.INVALID_URL,"Invalid URL '"+j+"'.")}(B);return be}}class nr{constructor(B){this.promise_=Promise.reject(B)}getPromise(){return this.promise_}cancel(B=!1){}}function Rr(j){return"string"==typeof j||j instanceof String}function wn(j){return $t()&&j instanceof Blob}function $t(){return typeof Blob<"u"&&!(0,_t.UG)()}function xn(j,B,oe,be){if(be<B)throw mt(`Invalid value for '${j}'. Expected ${B} or greater.`);if(be>oe)throw mt(`Invalid value for '${j}'. Expected ${oe} or less.`)}function Cr(j,B,oe){let be=B;return null==oe&&(be=`https://${B}`),`${oe}://${be}/v0${j}`}function Or(j){const B=encodeURIComponent;let oe="?";for(const be in j)j.hasOwnProperty(be)&&(oe=oe+(B(be)+"=")+B(j[be])+"&");return oe=oe.slice(0,-1),oe}var xr=(()=>{return(j=xr||(xr={}))[j.NO_ERROR=0]="NO_ERROR",j[j.NETWORK_ERROR=1]="NETWORK_ERROR",j[j.ABORT=2]="ABORT",xr;var j})();function ci(j,B){const oe=j>=500&&j<600,w=-1!==[408,429].indexOf(j),C=-1!==B.indexOf(j);return oe||w||C}class er{constructor(B,oe,be,w,C,A,Q,Re,Mt,vn,Xn,or=!0){this.url_=B,this.method_=oe,this.headers_=be,this.body_=w,this.successCodes_=C,this.additionalRetryCodes_=A,this.callback_=Q,this.errorCallback_=Re,this.timeout_=Mt,this.progressCallback_=vn,this.connectionFactory_=Xn,this.retry=or,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Fr,Jr)=>{this.resolve_=Fr,this.reject_=Jr,this.start_()})}start_(){const oe=(be,w)=>{const C=this.resolve_,A=this.reject_,Q=w.connection;if(w.wasSuccessCode)try{const Re=this.callback_(Q,Q.getResponse());!function hr(j){return void 0!==j}(Re)?C():C(Re)}catch(Re){A(Re)}else if(null!==Q){const Re=Ee();Re.serverResponse=Q.getErrorText(),A(this.errorCallback_?this.errorCallback_(Q,Re):Re)}else A(w.canceled?this.appDelete_?Lt():vr():wr())};this.canceled_?oe(0,new An(!1,null,!0)):this.backoffId_=function zn(j,B,oe){let be=1,w=null,C=null,A=!1,Q=0;function Re(){return 2===Q}let Mt=!1;function vn(...Kr){Mt||(Mt=!0,B.apply(null,Kr))}function Xn(Kr){w=setTimeout(()=>{w=null,j(Fr,Re())},Kr)}function or(){C&&clearTimeout(C)}function Fr(Kr,...Lr){if(Mt)return void or();if(Kr)return or(),void vn.call(null,Kr,...Lr);if(Re()||A)return or(),void vn.call(null,Kr,...Lr);let ai;be<64&&(be*=2),1===Q?(Q=2,ai=0):ai=1e3*(be+Math.random()),Xn(ai)}let Jr=!1;function gi(Kr){Jr||(Jr=!0,or(),!Mt&&(null!==w?(Kr||(Q=2),clearTimeout(w),Xn(0)):Kr||(Q=1)))}return Xn(0),C=setTimeout(()=>{A=!0,gi(!0)},oe),gi}((be,w)=>{if(w)return void be(!1,new An(!1,null,!0));const C=this.connectionFactory_();this.pendingConnection_=C;const A=Q=>{null!==this.progressCallback_&&this.progressCallback_(Q.loaded,Q.lengthComputable?Q.total:-1)};null!==this.progressCallback_&&C.addUploadProgressListener(A),C.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&C.removeUploadProgressListener(A),this.pendingConnection_=null;const Q=C.getErrorCode()===xr.NO_ERROR,Re=C.getStatus();if(!Q||ci(Re,this.additionalRetryCodes_)&&this.retry){const vn=C.getErrorCode()===xr.ABORT;return void be(!1,new An(!1,null,vn))}const Mt=-1!==this.successCodes_.indexOf(Re);be(!0,new An(Mt,C))})},oe,this.timeout_)}getPromise(){return this.promise_}cancel(B){this.canceled_=!0,this.appDelete_=B||!1,null!==this.backoffId_&&function Qn(j){j(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class An{constructor(B,oe,be){this.wasSuccessCode=B,this.connection=oe,this.canceled=!!be}}function Ht(...j){const B=function kt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==B){const oe=new B;for(let be=0;be<j.length;be++)oe.append(j[be]);return oe.getBlob()}if($t())return new Blob(j);throw new Ue(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const cn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wt{constructor(B,oe){this.data=B,this.contentType=oe||null}}function lr(j,B){switch(j){case cn.RAW:return new Wt(bn(B));case cn.BASE64:case cn.BASE64URL:return new Wt(tr(j,B));case cn.DATA_URL:return new Wt(function Tr(j){const B=new gr(j);return B.base64?tr(cn.BASE64,B.rest):function Pn(j){let B;try{B=decodeURIComponent(j)}catch{throw ln(cn.DATA_URL,"Malformed data URL.")}return bn(B)}(B.rest)}(B),function Dr(j){return new gr(j).contentType}(B))}throw Ee()}function bn(j){const B=[];for(let oe=0;oe<j.length;oe++){let be=j.charCodeAt(oe);be<=127?B.push(be):be<=2047?B.push(192|be>>6,128|63&be):55296==(64512&be)?oe<j.length-1&&56320==(64512&j.charCodeAt(oe+1))?(be=65536|(1023&be)<<10|1023&j.charCodeAt(++oe),B.push(240|be>>18,128|be>>12&63,128|be>>6&63,128|63&be)):B.push(239,191,189):56320==(64512&be)?B.push(239,191,189):B.push(224|be>>12,128|be>>6&63,128|63&be)}return new Uint8Array(B)}function tr(j,B){switch(j){case cn.BASE64:{const w=-1!==B.indexOf("-"),C=-1!==B.indexOf("_");if(w||C)throw ln(j,"Invalid character '"+(w?"-":"_")+"' found: is it base64url encoded?");break}case cn.BASE64URL:{const w=-1!==B.indexOf("+"),C=-1!==B.indexOf("/");if(w||C)throw ln(j,"Invalid character '"+(w?"+":"/")+"' found: is it base64 encoded?");B=B.replace(/-/g,"+").replace(/_/g,"/");break}}let oe;try{oe=function Bt(j){if(typeof atob>"u")throw function ut(j){return new Ue(ht.UNSUPPORTED_ENVIRONMENT,`${j} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(j)}(B)}catch(w){throw w.message.includes("polyfill")?w:ln(j,"Invalid character found")}const be=new Uint8Array(oe.length);for(let w=0;w<oe.length;w++)be[w]=oe.charCodeAt(w);return be}class gr{constructor(B){this.base64=!1,this.contentType=null;const oe=B.match(/^data:([^,]+)?,/);if(null===oe)throw ln(cn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const be=oe[1]||null;null!=be&&(this.base64=function Ir(j,B){return j.length>=B.length&&j.substring(j.length-B.length)===B}(be,";base64"),this.contentType=this.base64?be.substring(0,be.length-7):be),this.rest=B.substring(B.indexOf(",")+1)}}class mr{constructor(B,oe){let be=0,w="";wn(B)?(this.data_=B,be=B.size,w=B.type):B instanceof ArrayBuffer?(oe?this.data_=new Uint8Array(B):(this.data_=new Uint8Array(B.byteLength),this.data_.set(new Uint8Array(B))),be=this.data_.length):B instanceof Uint8Array&&(oe?this.data_=B:(this.data_=new Uint8Array(B.length),this.data_.set(B)),be=B.length),this.size_=be,this.type_=w}size(){return this.size_}type(){return this.type_}slice(B,oe){if(wn(this.data_)){const w=function Gt(j,B,oe){return j.webkitSlice?j.webkitSlice(B,oe):j.mozSlice?j.mozSlice(B,oe):j.slice?j.slice(B,oe):null}(this.data_,B,oe);return null===w?null:new mr(w)}{const be=new Uint8Array(this.data_.buffer,B,oe-B);return new mr(be,!0)}}static getBlob(...B){if($t()){const oe=B.map(be=>be instanceof mr?be.data_:be);return new mr(Ht.apply(null,oe))}{const oe=B.map(A=>Rr(A)?lr(cn.RAW,A).data:A.data_);let be=0;oe.forEach(A=>{be+=A.byteLength});const w=new Uint8Array(be);let C=0;return oe.forEach(A=>{for(let Q=0;Q<A.length;Q++)w[C++]=A[Q]}),new mr(w,!0)}}uploadData(){return this.data_}}function Me(j){let B;try{B=JSON.parse(j)}catch{return null}return function ur(j){return"object"==typeof j&&!Array.isArray(j)}(B)?B:null}function ce(j){const B=j.lastIndexOf("/",j.length-2);return-1===B?j:j.slice(B+1)}function ee(j,B){return B}class Fe{constructor(B,oe,be,w){this.server=B,this.local=oe||B,this.writable=!!be,this.xform=w||ee}}let pe=null;function le(){if(pe)return pe;const j=[];j.push(new Fe("bucket")),j.push(new Fe("generation")),j.push(new Fe("metageneration")),j.push(new Fe("name","fullPath",!0));const oe=new Fe("name");oe.xform=function B(C,A){return function _e(j){return!Rr(j)||j.length<2?j:ce(j)}(A)},j.push(oe);const w=new Fe("size");return w.xform=function be(C,A){return void 0!==A?Number(A):A},j.push(w),j.push(new Fe("timeCreated")),j.push(new Fe("updated")),j.push(new Fe("md5Hash",null,!0)),j.push(new Fe("cacheControl",null,!0)),j.push(new Fe("contentDisposition",null,!0)),j.push(new Fe("contentEncoding",null,!0)),j.push(new Fe("contentLanguage",null,!0)),j.push(new Fe("contentType",null,!0)),j.push(new Fe("metadata","customMetadata",!0)),pe=j,pe}function At(j,B,oe){const be=Me(B);return null===be?null:function rt(j,B,oe){const be={type:"file"},w=oe.length;for(let C=0;C<w;C++){const A=oe[C];be[A.local]=A.xform(be,B[A.server])}return function Se(j,B){Object.defineProperty(j,"ref",{get:function oe(){const C=new an(j.bucket,j.fullPath);return B._makeStorageReference(C)}})}(be,j),be}(j,be,oe)}function hn(j,B){const oe={},be=B.length;for(let w=0;w<be;w++){const C=B[w];C.writable&&(oe[C.server]=j[C.local])}return JSON.stringify(oe)}const ir="prefixes",ii="items";class Nt{constructor(B,oe,be,w){this.url=B,this.method=oe,this.handler=be,this.timeout=w,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function rn(j){if(!j)throw Ee()}function _n(j,B){return function oe(be,w){const C=At(j,w,B);return rn(null!==C),C}}function Ln(j){return function B(oe,be){let w;return w=401===oe.getStatus()?oe.getErrorText().includes("Firebase App Check token is invalid")?function gn(){return new Ue(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function bt(){return new Ue(ht.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===oe.getStatus()?function xt(j){return new Ue(ht.QUOTA_EXCEEDED,"Quota for bucket '"+j+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(j.bucket):403===oe.getStatus()?function zt(j){return new Ue(ht.UNAUTHORIZED,"User does not have permission to access '"+j+"'.")}(j.path):be,w.status=oe.getStatus(),w.serverResponse=be.serverResponse,w}}function Gn(j){const B=Ln(j);return function oe(be,w){let C=B(be,w);return 404===be.getStatus()&&(C=function Ft(j){return new Ue(ht.OBJECT_NOT_FOUND,"Object '"+j+"' does not exist.")}(j.path)),C.serverResponse=w.serverResponse,C}}function Sr(j,B,oe){const w=Cr(B.fullServerUrl(),j.host,j._protocol),A=j.maxOperationRetryTime,Q=new Nt(w,"GET",_n(j,oe),A);return Q.errorHandler=Gn(B),Q}function ni(j,B,oe,be,w){const C={};C.prefix=B.isRoot?"":B.path+"/",oe&&oe.length>0&&(C.delimiter=oe),be&&(C.pageToken=be),w&&(C.maxResults=w);const Q=Cr(B.bucketOnlyServerUrl(),j.host,j._protocol),Mt=j.maxOperationRetryTime,vn=new Nt(Q,"GET",function Un(j,B){return function oe(be,w){const C=function it(j,B,oe){const be=Me(oe);return null===be?null:function pt(j,B,oe){const be={prefixes:[],items:[],nextPageToken:oe.nextPageToken};if(oe[ir])for(const w of oe[ir]){const C=w.replace(/\/$/,""),A=j._makeStorageReference(new an(B,C));be.prefixes.push(A)}if(oe[ii])for(const w of oe[ii]){const C=j._makeStorageReference(new an(B,w.name));be.items.push(C)}return be}(j,B,be)}(j,B,w);return rn(null!==C),C}}(j,B.bucket),Mt);return vn.urlParams=C,vn.errorHandler=Ln(B),vn}function qn(j,B,oe){const be=Object.assign({},oe);return be.fullPath=j.path,be.size=B.size(),be.contentType||(be.contentType=function Qt(j,B){return j&&j.contentType||B&&B.type()||"application/octet-stream"}(null,B)),be}class fr{constructor(B,oe,be,w){this.current=B,this.total=oe,this.finalized=!!be,this.metadata=w||null}}function Wi(j,B){let oe=null;try{oe=j.getResponseHeader("X-Goog-Upload-Status")}catch{rn(!1)}return rn(!!oe&&-1!==(B||["active"]).indexOf(oe)),oe}const Ai={STATE_CHANGED:"state_changed"},Tn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Vi(j){switch(j){case"running":case"pausing":case"canceling":return Tn.RUNNING;case"paused":return Tn.PAUSED;case"success":return Tn.SUCCESS;case"canceled":return Tn.CANCELED;default:return Tn.ERROR}}class Mi{constructor(B,oe,be){if(function pr(j){return"function"==typeof j}(B)||null!=oe||null!=be)this.next=B,this.error=oe??void 0,this.complete=be??void 0;else{const C=B;this.next=C.next,this.error=C.error,this.complete=C.complete}}}function Ki(j){return(...B)=>{Promise.resolve().then(()=>j(...B))}}let Ui=null;class cr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xr.NO_ERROR,this.sendPromise_=new Promise(B=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xr.ABORT,B()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xr.NETWORK_ERROR,B()}),this.xhr_.addEventListener("load",()=>{B()})})}send(B,oe,be,w){if(this.sent_)throw yn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(oe,B,!0),void 0!==w)for(const C in w)w.hasOwnProperty(C)&&this.xhr_.setRequestHeader(C,w[C].toString());return void 0!==be?this.xhr_.send(be):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(B){return this.xhr_.getResponseHeader(B)}addUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",B)}removeUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",B)}}class qs extends cr{initXhr(){this.xhr_.responseType="text"}}function di(){return Ui?Ui():new qs}class es{constructor(B,oe,be=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=B,this._blob=oe,this._metadata=be,this._mappings=le(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=w=>{if(this._request=void 0,this._chunkMultiplier=1,w._codeEquals(ht.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const C=this.isExponentialBackoffExpired();if(ci(w.status,[])){if(!C)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();w=wr()}this._error=w,this._transition("error")}},this._metadataErrorHandler=w=>{this._request=void 0,w._codeEquals(ht.CANCELED)?this.completeTransitions_():(this._error=w,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((w,C)=>{this._resolve=w,this._reject=C,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const B=this._transferred;return oe=>this._updateProgress(B+oe)}_shouldDoResumable(B){return B.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(B){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([oe,be])=>{switch(this._state){case"running":B(oe,be);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((B,oe)=>{const be=function br(j,B,oe,be,w){const C=B.bucketOnlyServerUrl(),A=qn(B,be,w),Q={name:A.fullPath},Re=Cr(C,j.host,j._protocol),vn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${be.size()}`,"X-Goog-Upload-Header-Content-Type":A.contentType,"Content-Type":"application/json; charset=utf-8"},Xn=hn(A,oe),Jr=new Nt(Re,"POST",function Fr(gi){let Kr;Wi(gi);try{Kr=gi.getResponseHeader("X-Goog-Upload-URL")}catch{rn(!1)}return rn(Rr(Kr)),Kr},j.maxUploadRetryTime);return Jr.urlParams=Q,Jr.headers=vn,Jr.body=Xn,Jr.errorHandler=Ln(B),Jr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),w=this._ref.storage._makeRequest(be,di,B,oe);this._request=w,w.getPromise().then(C=>{this._request=void 0,this._uploadUrl=C,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const B=this._uploadUrl;this._resolveToken((oe,be)=>{const w=function bi(j,B,oe,be){const Re=new Nt(oe,"POST",function C(Mt){const vn=Wi(Mt,["active","final"]);let Xn=null;try{Xn=Mt.getResponseHeader("X-Goog-Upload-Size-Received")}catch{rn(!1)}Xn||rn(!1);const or=Number(Xn);return rn(!isNaN(or)),new fr(or,be.size(),"final"===vn)},j.maxUploadRetryTime);return Re.headers={"X-Goog-Upload-Command":"query"},Re.errorHandler=Ln(B),Re}(this._ref.storage,this._ref._location,B,this._blob),C=this._ref.storage._makeRequest(w,di,oe,be);this._request=C,C.getPromise().then(A=>{this._request=void 0,this._updateProgress(A.current),this._needToFetchStatus=!1,A.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const B=262144*this._chunkMultiplier,oe=new fr(this._transferred,this._blob.size()),be=this._uploadUrl;this._resolveToken((w,C)=>{let A;try{A=function os(j,B,oe,be,w,C,A,Q){const Re=new fr(0,0);if(A?(Re.current=A.current,Re.total=A.total):(Re.current=0,Re.total=be.size()),be.size()!==Re.total)throw function Ae(){return new Ue(ht.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Mt=Re.total-Re.current;let vn=Mt;w>0&&(vn=Math.min(vn,w));const Xn=Re.current;let Fr="";Fr=0===vn?"finalize":Mt===vn?"upload, finalize":"upload";const Jr={"X-Goog-Upload-Command":Fr,"X-Goog-Upload-Offset":`${Re.current}`},gi=be.slice(Xn,Xn+vn);if(null===gi)throw ye();const ai=new Nt(oe,"POST",function Kr(Hr,Xi){const Os=Wi(Hr,["active","final"]),ks=Re.current+vn,Oo=be.size();let jo;return jo="final"===Os?_n(B,C)(Hr,Xi):null,new fr(ks,Oo,"final"===Os,jo)},B.maxUploadRetryTime);return ai.headers=Jr,ai.body=gi.uploadData(),ai.progressCallback=Q||null,ai.errorHandler=Ln(j),ai}(this._ref._location,this._ref.storage,be,this._blob,B,this._mappings,oe,this._makeProgressCallback())}catch(Re){return this._error=Re,void this._transition("error")}const Q=this._ref.storage._makeRequest(A,di,w,C,!1);this._request=Q,Q.getPromise().then(Re=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Re.current),Re.finalized?(this._metadata=Re.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((B,oe)=>{const be=Sr(this._ref.storage,this._ref._location,this._mappings),w=this._ref.storage._makeRequest(be,di,B,oe);this._request=w,w.getPromise().then(C=>{this._request=void 0,this._metadata=C,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((B,oe)=>{const be=function Wr(j,B,oe,be,w){const C=B.bucketOnlyServerUrl(),A={"X-Goog-Upload-Protocol":"multipart"},Re=function Q(){let ai="";for(let Hr=0;Hr<2;Hr++)ai+=Math.random().toString().slice(2);return ai}();A["Content-Type"]="multipart/related; boundary="+Re;const Mt=qn(B,be,w),vn=hn(Mt,oe),Fr=mr.getBlob("--"+Re+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+vn+"\r\n--"+Re+"\r\nContent-Type: "+Mt.contentType+"\r\n\r\n",be,"\r\n--"+Re+"--");if(null===Fr)throw ye();const Jr={name:Mt.fullPath},gi=Cr(C,j.host,j._protocol),Lr=j.maxUploadRetryTime,oi=new Nt(gi,"POST",_n(j,oe),Lr);return oi.urlParams=Jr,oi.headers=A,oi.body=Fr.uploadData(),oi.errorHandler=Ln(B),oi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),w=this._ref.storage._makeRequest(be,di,B,oe);this._request=w,w.getPromise().then(C=>{this._request=void 0,this._metadata=C,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(B){const oe=this._transferred;this._transferred=B,this._transferred!==oe&&this._notifyObservers()}_transition(B){if(this._state!==B)switch(B){case"canceling":case"pausing":this._state=B,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const oe="paused"===this._state;this._state=B,oe&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=B,this._notifyObservers();break;case"canceled":this._error=vr(),this._state=B,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const B=Vi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:B,metadata:this._metadata,task:this,ref:this._ref}}on(B,oe,be,w){const C=new Mi(oe||void 0,be||void 0,w||void 0);return this._addObserver(C),()=>{this._removeObserver(C)}}then(B,oe){return this._promise.then(B,oe)}catch(B){return this.then(null,B)}_addObserver(B){this._observers.push(B),this._notifyObserver(B)}_removeObserver(B){const oe=this._observers.indexOf(B);-1!==oe&&this._observers.splice(oe,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(oe=>{this._notifyObserver(oe)})}_finishPromise(){if(void 0!==this._resolve){let B=!0;switch(Vi(this._state)){case Tn.SUCCESS:Ki(this._resolve.bind(null,this.snapshot))();break;case Tn.CANCELED:case Tn.ERROR:Ki(this._reject.bind(null,this._error))();break;default:B=!1}B&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(B){switch(Vi(this._state)){case Tn.RUNNING:case Tn.PAUSED:B.next&&Ki(B.next.bind(B,this.snapshot))();break;case Tn.SUCCESS:B.complete&&Ki(B.complete.bind(B))();break;default:B.error&&Ki(B.error.bind(B,this._error))()}}resume(){const B="paused"===this._state||"pausing"===this._state;return B&&this._transition("running"),B}pause(){const B="running"===this._state;return B&&this._transition("pausing"),B}cancel(){const B="running"===this._state||"pausing"===this._state;return B&&this._transition("canceling"),B}}class qi{constructor(B,oe){this._service=B,this._location=oe instanceof an?oe:an.makeFromUrl(oe,B.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(B,oe){return new qi(B,oe)}get root(){const B=new an(this._location.bucket,"");return this._newRef(this._service,B)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ce(this._location.path)}get storage(){return this._service}get parent(){const B=function De(j){if(0===j.length)return null;const B=j.lastIndexOf("/");return-1===B?"":j.slice(0,B)}(this._location.path);if(null===B)return null;const oe=new an(this._location.bucket,B);return new qi(this._service,oe)}_throwIfRoot(B){if(""===this._location.path)throw Dt(B)}}function jn(j,B,oe){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,He.Z)(function*(j,B,oe){const w=yield rr(j,{pageToken:oe});B.prefixes.push(...w.prefixes),B.items.push(...w.items),null!=w.nextPageToken&&(yield jn(j,B,w.nextPageToken))})).apply(this,arguments)}function rr(j,B){null!=B&&"number"==typeof B.maxResults&&xn("options.maxResults",1,1e3,B.maxResults);const oe=B||{},be=ni(j.storage,j._location,"/",oe.pageToken,oe.maxResults);return j.storage.makeRequestWithTokens(be,di)}function jr(j){j._throwIfRoot("getDownloadURL");const B=function co(j,B,oe){const w=Cr(B.fullServerUrl(),j.host,j._protocol),A=j.maxOperationRetryTime,Q=new Nt(w,"GET",function Dn(j,B){return function oe(be,w){const C=At(j,w,B);return rn(null!==C),function dn(j,B,oe,be){const w=Me(B);if(null===w||!Rr(w.downloadTokens))return null;const C=w.downloadTokens;if(0===C.length)return null;const A=encodeURIComponent;return C.split(",").map(Mt=>{const Xn=j.fullPath;return Cr("/b/"+A(j.bucket)+"/o/"+A(Xn),oe,be)+Or({alt:"media",token:Mt})})[0]}(C,w,j.host,j._protocol)}}(j,oe),A);return Q.errorHandler=Gn(B),Q}(j.storage,j._location,le());return j.storage.makeRequestWithTokens(B,di).then(oe=>{if(null===oe)throw function Oe(){return new Ue(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return oe})}function ho(j,B){const oe=function ie(j,B){const oe=B.split("/").filter(be=>be.length>0).join("/");return 0===j.length?oe:j+"/"+oe}(j._location.path,B),be=new an(j._location.bucket,oe);return new qi(j.storage,be)}function fo(j,B){if(j instanceof Ys){const oe=j;if(null==oe._bucket)throw function ge(){return new Ue(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ie+"' property when initializing the app?")}();const be=new qi(oe,oe._bucket);return null!=B?fo(be,B):be}return void 0!==B?ho(j,B):j}function Bs(j,B){if(B&&function gs(j){return/^[A-Za-z]+:\/\//.test(j)}(B)){if(j instanceof Ys)return function ms(j,B){return new qi(j,B)}(j,B);throw mt("To use ref(service, url), the first argument must be a Storage instance.")}return fo(j,B)}function Qi(j,B){const oe=B?.[Ie];return null==oe?null:an.makeFromBucketSpec(oe,j)}class Ys{constructor(B,oe,be,w,C){this.app=B,this._authProvider=oe,this._appCheckProvider=be,this._url=w,this._firebaseVersion=C,this._bucket=null,this._host=dt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=w?an.makeFromBucketSpec(w,this._host):Qi(this._host,this.app.options)}get host(){return this._host}set host(B){this._host=B,this._bucket=null!=this._url?an.makeFromBucketSpec(this._url,B):Qi(B,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(B){xn("time",0,Number.POSITIVE_INFINITY,B),this._maxUploadRetryTime=B}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(B){xn("time",0,Number.POSITIVE_INFINITY,B),this._maxOperationRetryTime=B}_getAuthToken(){var B=this;return(0,He.Z)(function*(){if(B._overrideAuthToken)return B._overrideAuthToken;const oe=B._authProvider.getImmediate({optional:!0});if(oe){const be=yield oe.getToken();if(null!==be)return be.accessToken}return null})()}_getAppCheckToken(){var B=this;return(0,He.Z)(function*(){const oe=B._appCheckProvider.getImmediate({optional:!0});return oe?(yield oe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(B=>B.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(B){return new qi(this,B)}_makeRequest(B,oe,be,w,C=!0){if(this._deleted)return new nr(Lt());{const A=function yt(j,B,oe,be,w,C,A=!0){const Q=Or(j.urlParams),Re=j.url+Q,Mt=Object.assign({},j.headers);return function qe(j,B){B&&(j["X-Firebase-GMPID"]=B)}(Mt,B),function J(j,B){null!==B&&B.length>0&&(j.Authorization="Firebase "+B)}(Mt,oe),function Ne(j,B){j["X-Firebase-Storage-Version"]="webjs/"+(B??"AppManager")}(Mt,C),function ot(j,B){null!==B&&(j["X-Firebase-AppCheck"]=B)}(Mt,be),new er(Re,j.method,Mt,j.body,j.successCodes,j.additionalRetryCodes,j.handler,j.errorHandler,j.timeout,j.progressCallback,w,A)}(B,this._appId,be,w,oe,this._firebaseVersion,C);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}makeRequestWithTokens(B,oe){var be=this;return(0,He.Z)(function*(){const[w,C]=yield Promise.all([be._getAuthToken(),be._getAppCheckToken()]);return be._makeRequest(B,oe,w,C).getPromise()})()}}const Ro="@firebase/storage";function Po(j,B){return Bs(j=(0,_t.m9)(j),B)}function yo(j,{instanceIdentifier:B}){const oe=j.getProvider("app").getImmediate(),be=j.getProvider("auth-internal"),w=j.getProvider("app-check-internal");return new Ys(oe,be,w,B,tt.SDK_VERSION)}!function Qs(){(0,tt._registerComponent)(new Qe.wA("storage",yo,"PUBLIC").setMultipleInstances(!0)),(0,tt.registerVersion)(Ro,"0.11.2",""),(0,tt.registerVersion)(Ro,"0.11.2","esm2017")}();class Rs{constructor(B,oe,be){this._delegate=B,this.task=oe,this.ref=be}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Hs{constructor(B,oe){this._delegate=B,this._ref=oe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Rs(this._delegate.snapshot,this,this._ref)}then(B,oe){return this._delegate.then(be=>{if(B)return B(new Rs(be,this,this._ref))},oe)}on(B,oe,be,w){let C;return oe&&(C="function"==typeof oe?A=>oe(new Rs(A,this,this._ref)):{next:oe.next?A=>oe.next(new Rs(A,this,this._ref)):void 0,complete:oe.complete||void 0,error:oe.error||void 0}),this._delegate.on(B,C,be||void 0,w||void 0)}}class $r{constructor(B,oe){this._delegate=B,this._service=oe}get prefixes(){return this._delegate.prefixes.map(B=>new Pi(B,this._service))}get items(){return this._delegate.items.map(B=>new Pi(B,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Pi{constructor(B,oe){this._delegate=B,this.storage=oe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(B){const oe=function mo(j,B){return ho(j,B)}(this._delegate,B);return new Pi(oe,this.storage)}get root(){return new Pi(this._delegate.root,this.storage)}get parent(){const B=this._delegate.parent;return null==B?null:new Pi(B,this.storage)}put(B,oe){return this._throwIfRoot("put"),new Hs(function po(j,B,oe){return function Tt(j,B,oe){return j._throwIfRoot("uploadBytesResumable"),new es(j,new mr(B),oe)}(j=(0,_t.m9)(j),B,oe)}(this._delegate,B,oe),this)}putString(B,oe=cn.RAW,be){this._throwIfRoot("putString");const w=lr(oe,B),C=Object.assign({},be);return null==C.contentType&&null!=w.contentType&&(C.contentType=w.contentType),new Hs(new es(this._delegate,new mr(w.data,!0),C),this)}listAll(){return function as(j){return function Bn(j){const B={prefixes:[],items:[]};return jn(j,B).then(()=>B)}(j=(0,_t.m9)(j))}(this._delegate).then(B=>new $r(B,this.storage))}list(B){return function kr(j,B){return rr(j=(0,_t.m9)(j),B)}(this._delegate,B||void 0).then(oe=>new $r(oe,this.storage))}getMetadata(){return function Ss(j){return function si(j){j._throwIfRoot("getMetadata");const B=Sr(j.storage,j._location,le());return j.storage.makeRequestWithTokens(B,di)}(j=(0,_t.m9)(j))}(this._delegate)}updateMetadata(B){return function go(j,B){return function Bi(j,B){j._throwIfRoot("updateMetadata");const oe=function fs(j,B,oe,be){const C=Cr(B.fullServerUrl(),j.host,j._protocol),Q=hn(oe,be),Mt=j.maxOperationRetryTime,vn=new Nt(C,"PATCH",_n(j,be),Mt);return vn.headers={"Content-Type":"application/json; charset=utf-8"},vn.body=Q,vn.errorHandler=Gn(B),vn}(j.storage,j._location,B,le());return j.storage.makeRequestWithTokens(oe,di)}(j=(0,_t.m9)(j),B)}(this._delegate,B)}getDownloadURL(){return function $s(j){return jr(j=(0,_t.m9)(j))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function $i(j){return function Ts(j){j._throwIfRoot("deleteObject");const B=function Yr(j,B){const be=Cr(B.fullServerUrl(),j.host,j._protocol),Q=new Nt(be,"DELETE",function A(Re,Mt){},j.maxOperationRetryTime);return Q.successCodes=[200,204],Q.errorHandler=Gn(B),Q}(j.storage,j._location);return j.storage.makeRequestWithTokens(B,di)}(j=(0,_t.m9)(j))}(this._delegate)}_throwIfRoot(B){if(""===this._delegate._location.path)throw Dt(B)}}class Xs{constructor(B,oe){this.app=B,this._delegate=oe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(B){if(vi(B))throw mt("ref() expected a child path but got a URL, use refFromURL instead.");return new Pi(Po(this._delegate,B),this)}refFromURL(B){if(!vi(B))throw mt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{an.makeFromUrl(B,this._delegate.host)}catch{throw mt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pi(Po(this._delegate,B),this)}setMaxUploadRetryTime(B){this._delegate.maxUploadRetryTime=B}setMaxOperationRetryTime(B){this._delegate.maxOperationRetryTime=B}useEmulator(B,oe,be={}){!function Yo(j,B,oe,be={}){!function Zs(j,B,oe,be={}){j.host=`${B}:${oe}`,j._protocol="http";const{mockUserToken:w}=be;w&&(j._overrideAuthToken="string"==typeof w?w:(0,_t.Sg)(w,j.app.options.projectId))}(j,B,oe,be)}(this._delegate,B,oe,be)}}function vi(j){return/^[A-Za-z]+:\/\//.test(j)}function Ni(j,{instanceIdentifier:B}){const oe=j.getProvider("app-compat").getImmediate(),be=j.getProvider("storage").getImmediate({identifier:B});return new Xs(oe,be)}!function Js(j){const B={TaskState:Tn,TaskEvent:Ai,StringFormat:cn,Storage:Xs,Reference:Pi};j.INTERNAL.registerComponent(new Qe.wA("storage-compat",Ni,"PUBLIC").setServiceProps(B).setMultipleInstances(!0)),j.registerVersion("@firebase/storage-compat","0.3.2")}(Et.Z);var fi=L(6217),pi=L(9260);function eo(j){const B=function Ps(j){return new p.y(B=>{const oe=A=>B.next(A);oe(j.snapshot);const C=j.on("state_changed",oe);return j.then(A=>{oe(A),B.complete()},A=>{oe(j.snapshot),(A=>{B.error(A)})(A)}),function(){C()}}).pipe(function Ye(j,B=$.z){return(0,Le.e)((oe,be)=>{let w=null,C=null,A=null;const Q=()=>{if(w){w.unsubscribe(),w=null;const Mt=C;C=null,be.next(Mt)}};function Re(){const Mt=A+j,vn=B.now();if(vn<Mt)return w=this.schedule(void 0,Mt-vn),void be.add(w);Q()}oe.subscribe((0,ke.x)(be,Mt=>{C=Mt,A=B.now(),w||(w=B.schedule(Re,j),be.add(w))},()=>{Q(),be.complete()},void 0,()=>{C=w=null}))})}(0))}(j);return{task:j,then:j.then.bind(j),catch:j.catch.bind(j),pause:j.pause.bind(j),cancel:j.cancel.bind(j),resume:j.resume.bind(j),snapshotChanges:()=>B,percentageChanges:()=>B.pipe((0,je.U)(oe=>oe.bytesTransferred/oe.totalBytes*100))}}function Io(j){return{getDownloadURL:()=>(0,Z.of)(void 0).pipe(de.fc,(0,Ve.w)(()=>j.getDownloadURL()),de.iC),getMetadata:()=>(0,Z.of)(void 0).pipe(de.fc,(0,Ve.w)(()=>j.getMetadata()),de.iC),delete:()=>(0,K.D)(j.delete()),child:B=>Io(j.child(B)),updateMetadata:B=>(0,K.D)(j.updateMetadata(B)),put:(B,oe)=>eo(j.put(B,oe)),putString:(B,oe,be)=>eo(j.putString(B,oe,be)),list:B=>(0,K.D)(j.list(B)),listAll:()=>(0,K.D)(j.listAll())}}const us=new he.OlP("angularfire2.storageBucket"),Ns=new he.OlP("angularfire2.storage.maxUploadRetryTime"),ls=new he.OlP("angularfire2.storage.maxOperationRetryTime"),Wn=new he.OlP("angularfire2.storage.use-emulator");let _s=(()=>{class j{constructor(oe,be,w,C,A,Q,Re,Mt,vn,Xn){const or=(0,xe.on)(oe,A,be);this.storage=(0,xe.cc)(`${or.name}.storage.${w}`,"AngularFireStorage",or.name,()=>{const Fr=A.runOutsideAngular(()=>or.storage(w||void 0)),Jr=vn;return Jr&&Fr.useEmulator(...Jr),Re&&Fr.setMaxUploadRetryTime(Re),Mt&&Fr.setMaxOperationRetryTime(Mt),Fr},[Re,Mt])}ref(oe){return Io(this.storage.ref(oe))}refFromURL(oe){return Io(this.storage.refFromURL(oe))}upload(oe,be,w){return Io(this.storage.ref(oe)).put(be,w)}}return j.\u0275fac=function(oe){return new(oe||j)(he.LFG(xe.Dh),he.LFG(xe.xv,8),he.LFG(us,8),he.LFG(he.Lbi),he.LFG(he.R0b),he.LFG(de.HU),he.LFG(Ns,8),he.LFG(ls,8),he.LFG(Wn,8),he.LFG(fi.nm,8))},j.\u0275prov=he.Yz7({token:j,factory:j.\u0275fac,providedIn:"any"}),j})(),No=(()=>{class j{}return j.\u0275fac=function(oe){return new(oe||j)},j.\u0275mod=he.oAB({type:j}),j.\u0275inj=he.cJS({}),j})(),Hi=(()=>{class j{constructor(){pi.Z.registerVersion("angularfire",de.q4.full,"gcs-compat")}}return j.\u0275fac=function(oe){return new(oe||j)},j.\u0275mod=he.oAB({type:j}),j.\u0275inj=he.cJS({providers:[_s],imports:[No]}),j})()},2011:(tn,st,L)=>{L.d(st,{Dh:()=>je,GT:()=>ke,cc:()=>He,hO:()=>Et,on:()=>de,pX:()=>Le,xv:()=>Ve});var p=L(4650),Z=L(9260),K=L(8405);tn=L.hmd(tn);const $=["ngOnDestroy"],Le=(dt,Ie,Rt,We={})=>new Proxy(dt,{get:(fe,Ue)=>Rt.runOutsideAngular(()=>{var ht;if(dt[Ue])return!(null===(ht=We?.spy)||void 0===ht)&&ht.get&&We.spy.get(Ue,dt[Ue]),dt[Ue];if($.indexOf(Ue)>-1)return()=>{};const vt=Ie.toPromise().then(Ee=>{const Ft=Ee&&Ee[Ue];return"function"==typeof Ft?Ft.bind(Ee):Ft&&Ft.then?Ft.then(xt=>Rt.run(()=>xt)):Rt.run(()=>Ft)});return new Proxy(()=>{},{get:(Ee,Ft)=>vt[Ft],apply:(Ee,Ft,xt)=>vt.then(bt=>{var gn;const zt=bt&&bt(...xt);return!(null===(gn=We?.spy)||void 0===gn)&&gn.apply&&We.spy.apply(Ue,xt,zt),zt})})})}),ke=(dt,Ie)=>{Ie.forEach(Rt=>{Object.getOwnPropertyNames(Rt.prototype||Rt).forEach(We=>{Object.defineProperty(dt.prototype,We,Object.getOwnPropertyDescriptor(Rt.prototype||Rt,We))})})};class Ye{constructor(Ie){return Ie}}const je=new p.OlP("angularfire2.app.options"),Ve=new p.OlP("angularfire2.app.name");function de(dt,Ie,Rt){const fe="object"==typeof Rt&&Rt||{};fe.name=fe.name||"string"==typeof Rt&&Rt||"[DEFAULT]";const ht=Z.Z.apps.filter(vt=>vt&&vt.name===fe.name)[0]||Ie.runOutsideAngular(()=>Z.Z.initializeApp(dt,fe));try{JSON.stringify(dt)!==JSON.stringify(ht.options)&&he("error",`${ht.name} Firebase App already initialized with different options${tn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ye(ht)}const he=(dt,...Ie)=>{(0,p.X6Q)()&&typeof console<"u"&&console[dt](...Ie)},xe={provide:Ye,useFactory:de,deps:[je,p.R0b,[new p.FiY,Ve]]};let Et=(()=>{class dt{constructor(Rt){Z.Z.registerVersion("angularfire",K.q4.full,"core"),Z.Z.registerVersion("angularfire",K.q4.full,"app-compat"),Z.Z.registerVersion("angular",p.q4F.full,Rt.toString())}static initializeApp(Rt,We){return{ngModule:dt,providers:[{provide:je,useValue:Rt},{provide:Ve,useValue:We}]}}}return dt.\u0275fac=function(Rt){return new(Rt||dt)(p.LFG(p.Lbi))},dt.\u0275mod=p.oAB({type:dt}),dt.\u0275inj=p.cJS({providers:[xe]}),dt})();function He(dt,Ie,Rt,We,fe){const[,Ue,ht]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===dt)||[];if(Ue)return function tt(dt,Ie){try{return dt.toString()===Ie.toString()}catch{return dt===Ie}}(fe,ht)||(Qe("error",`${Ie} was already initialized on the ${Rt} Firebase App with different settings.${_t?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:fe,was:ht})),Ue;{const vt=We();return globalThis.\u0275AngularfireInstanceCache.push([dt,vt,fe]),vt}}const _t=!!tn.hot,Qe=(dt,...Ie)=>{(0,p.X6Q)()&&typeof console<"u"&&console[dt](...Ie)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8405:(tn,st,L)=>{L.d(st,{q4:()=>Nu,iC:()=>ha,fc:()=>Pl,HU:()=>Sa,vb:()=>Gs,JM:()=>vh});var p=L(4650),Z=L(259),K=L(5861),$=L(6881),Le=L(2090),ke=L(4859),Ye=L(1877);const je=(b,O)=>O.some(Y=>b instanceof Y);let Ve,de;const Et=new WeakMap,He=new WeakMap,tt=new WeakMap,_t=new WeakMap,Qe=new WeakMap;let Rt={get(b,O,Y){if(b instanceof IDBTransaction){if("done"===O)return He.get(b);if("objectStoreNames"===O)return b.objectStoreNames||tt.get(b);if("store"===O)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return ht(b[O])},set:(b,O,Y)=>(b[O]=Y,!0),has:(b,O)=>b instanceof IDBTransaction&&("done"===O||"store"===O)||O in b};function Ue(b){return"function"==typeof b?function fe(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...O){return b.apply(vt(this),O),ht(Et.get(this))}:function(...O){return ht(b.apply(vt(this),O))}:function(O,...Y){const me=b.call(vt(this),O,...Y);return tt.set(me,O.sort?O.sort():[O]),ht(me)}}(b):(b instanceof IDBTransaction&&function Ie(b){if(He.has(b))return;const O=new Promise((Y,me)=>{const $e=()=>{b.removeEventListener("complete",Je),b.removeEventListener("error",Ct),b.removeEventListener("abort",Ct)},Je=()=>{Y(),$e()},Ct=()=>{me(b.error||new DOMException("AbortError","AbortError")),$e()};b.addEventListener("complete",Je),b.addEventListener("error",Ct),b.addEventListener("abort",Ct)});He.set(b,O)}(b),je(b,function he(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Rt):b)}function ht(b){if(b instanceof IDBRequest)return function dt(b){const O=new Promise((Y,me)=>{const $e=()=>{b.removeEventListener("success",Je),b.removeEventListener("error",Ct)},Je=()=>{Y(ht(b.result)),$e()},Ct=()=>{me(b.error),$e()};b.addEventListener("success",Je),b.addEventListener("error",Ct)});return O.then(Y=>{Y instanceof IDBCursor&&Et.set(Y,b)}).catch(()=>{}),Qe.set(O,b),O}(b);if(_t.has(b))return _t.get(b);const O=Ue(b);return O!==b&&(_t.set(b,O),Qe.set(O,b)),O}const vt=b=>Qe.get(b),xt=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],gn=new Map;function zt(b,O){if(!(b instanceof IDBDatabase)||O in b||"string"!=typeof O)return;if(gn.get(O))return gn.get(O);const Y=O.replace(/FromIndex$/,""),me=O!==Y,$e=bt.includes(Y);if(!(Y in(me?IDBIndex:IDBObjectStore).prototype)||!$e&&!xt.includes(Y))return;const Je=function(){var Ct=(0,K.Z)(function*(Xt,...sn){const On=this.transaction(Xt,$e?"readwrite":"readonly");let dr=On.store;return me&&(dr=dr.index(sn.shift())),(yield Promise.all([dr[Y](...sn),$e&&On.done]))[0]});return function(sn){return Ct.apply(this,arguments)}}();return gn.set(O,Je),Je}!function We(b){Rt=b(Rt)}(b=>({...b,get:(O,Y,me)=>zt(O,Y)||b.get(O,Y,me),has:(O,Y)=>!!zt(O,Y)||b.has(O,Y)}));const wr="@firebase/installations",vr="0.6.4",Fn=1e4,Zt=`w:${vr}`,ge="FIS_v2",ye="https://firebaseinstallations.googleapis.com/v1",Ae=36e5,Lt=new Le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Dt(b){return b instanceof Le.ZR&&b.code.includes("request-failed")}function ln({projectId:b}){return`${ye}/projects/${b}/installations`}function yn(b){return{token:b.token,requestStatus:2,expiresIn:ur(b.expiresIn),creationTime:Date.now()}}function an(b,O){return nr.apply(this,arguments)}function nr(){return(nr=(0,K.Z)(function*(b,O){const me=(yield O.json()).error;return Lt.create("request-failed",{requestName:b,serverCode:me.code,serverMessage:me.message,serverStatus:me.status})})).apply(this,arguments)}function zn({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function hr(b){return pr.apply(this,arguments)}function pr(){return(pr=(0,K.Z)(function*(b){const O=yield b();return O.status>=500&&O.status<600?b():O})).apply(this,arguments)}function ur(b){return Number(b.replace("s","000"))}function $t(){return($t=(0,K.Z)(function*({appConfig:b,heartbeatServiceProvider:O},{fid:Y}){const me=ln(b),$e=zn(b),Je=O.getImmediate({optional:!0});if(Je){const On=yield Je.getHeartbeatsHeader();On&&$e.append("x-firebase-client",On)}const Xt={method:"POST",headers:$e,body:JSON.stringify({fid:Y,authVersion:ge,appId:b.appId,sdkVersion:Zt})},sn=yield hr(()=>fetch(me,Xt));if(sn.ok){const On=yield sn.json();return{fid:On.fid||Y,registrationStatus:2,refreshToken:On.refreshToken,authToken:yn(On.authToken)}}throw yield an("Create Installation",sn)})).apply(this,arguments)}function xn(b){return new Promise(O=>{setTimeout(O,b)})}const Or=/^[cdef][\w-]{21}$/,xr="";function ci(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const Y=function er(b){return function Cr(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Or.test(Y)?Y:xr}catch{return xr}}function An(b){return`${b.appName}!${b.appId}`}const J=new Map;function Ne(b,O){const Y=An(b);yt(Y,O),function kt(b,O){const Y=function Gt(){return!Ht&&"BroadcastChannel"in self&&(Ht=new BroadcastChannel("[Firebase] FID Change"),Ht.onmessage=b=>{yt(b.data.key,b.data.fid)}),Ht}();Y&&Y.postMessage({key:b,fid:O}),function Bt(){0===J.size&&Ht&&(Ht.close(),Ht=null)}()}(Y,O)}function yt(b,O){const Y=J.get(b);if(Y)for(const me of Y)me(O)}let Ht=null;const cn="firebase-installations-database",Wt=1,lr="firebase-installations-store";let bn=null;function Pn(){return bn||(bn=function Ee(b,O,{blocked:Y,upgrade:me,blocking:$e,terminated:Je}={}){const Ct=indexedDB.open(b,O),Xt=ht(Ct);return me&&Ct.addEventListener("upgradeneeded",sn=>{me(ht(Ct.result),sn.oldVersion,sn.newVersion,ht(Ct.transaction))}),Y&&Ct.addEventListener("blocked",()=>Y()),Xt.then(sn=>{Je&&sn.addEventListener("close",()=>Je()),$e&&sn.addEventListener("versionchange",()=>$e())}).catch(()=>{}),Xt}(cn,Wt,{upgrade:(b,O)=>{0===O&&b.createObjectStore(lr)}})),bn}function tr(b,O){return gr.apply(this,arguments)}function gr(){return(gr=(0,K.Z)(function*(b,O){const Y=An(b),$e=(yield Pn()).transaction(lr,"readwrite"),Je=$e.objectStore(lr),Ct=yield Je.get(Y);return yield Je.put(O,Y),yield $e.done,(!Ct||Ct.fid!==O.fid)&&Ne(b,O.fid),O})).apply(this,arguments)}function Tr(b){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,K.Z)(function*(b){const O=An(b),me=(yield Pn()).transaction(lr,"readwrite");yield me.objectStore(lr).delete(O),yield me.done})).apply(this,arguments)}function Ir(b,O){return mr.apply(this,arguments)}function mr(){return(mr=(0,K.Z)(function*(b,O){const Y=An(b),$e=(yield Pn()).transaction(lr,"readwrite"),Je=$e.objectStore(lr),Ct=yield Je.get(Y),Xt=O(Ct);return void 0===Xt?yield Je.delete(Y):yield Je.put(Xt,Y),yield $e.done,Xt&&(!Ct||Ct.fid!==Xt.fid)&&Ne(b,Xt.fid),Xt})).apply(this,arguments)}function Me(b){return De.apply(this,arguments)}function De(){return De=(0,K.Z)(function*(b){let O;const Y=yield Ir(b.appConfig,me=>{const $e=function ie(b){return Se(b||{fid:ci(),registrationStatus:0})}(me),Je=function ce(b,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(Lt.create("app-offline"))};const Y={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},me=function ee(b,O){return Fe.apply(this,arguments)}(b,Y);return{installationEntry:Y,registrationPromise:me}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:pe(b)}:{installationEntry:O}}(b,$e);return O=Je.registrationPromise,Je.installationEntry});return Y.fid===xr?{installationEntry:yield O}:{installationEntry:Y,registrationPromise:O}}),De.apply(this,arguments)}function Fe(){return Fe=(0,K.Z)(function*(b,O){try{const Y=yield function wn(b,O){return $t.apply(this,arguments)}(b,O);return tr(b.appConfig,Y)}catch(Y){throw Dt(Y)&&409===Y.customData.serverCode?yield Tr(b.appConfig):yield tr(b.appConfig,{fid:O.fid,registrationStatus:0}),Y}}),Fe.apply(this,arguments)}function pe(b){return _e.apply(this,arguments)}function _e(){return(_e=(0,K.Z)(function*(b){let O=yield le(b.appConfig);for(;1===O.registrationStatus;)yield xn(100),O=yield le(b.appConfig);if(0===O.registrationStatus){const{installationEntry:Y,registrationPromise:me}=yield Me(b);return me||Y}return O})).apply(this,arguments)}function le(b){return Ir(b,O=>{if(!O)throw Lt.create("installation-not-found");return Se(O)})}function Se(b){return function rt(b){return 1===b.registrationStatus&&b.registrationTime+Fn<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function dn(){return(dn=(0,K.Z)(function*({appConfig:b,heartbeatServiceProvider:O},Y){const me=function hn(b,{fid:O}){return`${ln(b)}/${O}/authTokens:generate`}(b,Y),$e=function Qn(b,{refreshToken:O}){const Y=zn(b);return Y.append("Authorization",function Rr(b){return`${ge} ${b}`}(O)),Y}(b,Y),Je=O.getImmediate({optional:!0});if(Je){const On=yield Je.getHeartbeatsHeader();On&&$e.append("x-firebase-client",On)}const Xt={method:"POST",headers:$e,body:JSON.stringify({installation:{sdkVersion:Zt,appId:b.appId}})},sn=yield hr(()=>fetch(me,Xt));if(sn.ok)return yn(yield sn.json());throw yield an("Generate Auth Token",sn)})).apply(this,arguments)}function ir(b){return ii.apply(this,arguments)}function ii(){return ii=(0,K.Z)(function*(b,O=!1){let Y;const me=yield Ir(b.appConfig,Je=>{if(!Un(Je))throw Lt.create("not-registered");const Ct=Je.authToken;if(!O&&function Dn(b){return 2===b.requestStatus&&!function Ln(b){const O=Date.now();return O<b.creationTime||b.creationTime+b.expiresIn<O+Ae}(b)}(Ct))return Je;if(1===Ct.requestStatus)return Y=function pt(b,O){return it.apply(this,arguments)}(b,O),Je;{if(!navigator.onLine)throw Lt.create("app-offline");const Xt=function Gn(b){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:O})}(Je);return Y=function rn(b,O){return _n.apply(this,arguments)}(b,Xt),Xt}});return Y?yield Y:me.authToken}),ii.apply(this,arguments)}function it(){return(it=(0,K.Z)(function*(b,O){let Y=yield Nt(b.appConfig);for(;1===Y.authToken.requestStatus;)yield xn(100),Y=yield Nt(b.appConfig);const me=Y.authToken;return 0===me.requestStatus?ir(b,O):me})).apply(this,arguments)}function Nt(b){return Ir(b,O=>{if(!Un(O))throw Lt.create("not-registered");return function Sr(b){return 1===b.requestStatus&&b.requestTime+Fn<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function _n(){return _n=(0,K.Z)(function*(b,O){try{const Y=yield function At(b,O){return dn.apply(this,arguments)}(b,O),me=Object.assign(Object.assign({},O),{authToken:Y});return yield tr(b.appConfig,me),Y}catch(Y){if(!Dt(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const me=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield tr(b.appConfig,me)}else yield Tr(b.appConfig);throw Y}}),_n.apply(this,arguments)}function Un(b){return void 0!==b&&2===b.registrationStatus}function Cs(){return(Cs=(0,K.Z)(function*(b){const O=b,{installationEntry:Y,registrationPromise:me}=yield Me(O);return me?me.catch(console.error):ir(O).catch(console.error),Y.fid})).apply(this,arguments)}function fs(){return fs=(0,K.Z)(function*(b,O=!1){const Y=b;return yield function Yr(b){return Qt.apply(this,arguments)}(Y),(yield ir(Y,O)).token}),fs.apply(this,arguments)}function Qt(){return(Qt=(0,K.Z)(function*(b){const{registrationPromise:O}=yield Me(b);O&&(yield O)})).apply(this,arguments)}function Ai(b){return Lt.create("missing-app-config-values",{valueName:b})}const Tn="installations",Mi=b=>{const O=b.getProvider("app").getImmediate(),Y=function os(b){if(!b||!b.options)throw Ai("App Configuration");if(!b.name)throw Ai("App Name");const O=["projectId","apiKey","appId"];for(const Y of O)if(!b.options[Y])throw Ai(Y);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(O);return{app:O,appConfig:Y,heartbeatServiceProvider:(0,$._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},Ki=b=>{const O=b.getProvider("app").getImmediate(),Y=(0,$._getProvider)(O,Tn).getImmediate();return{getId:()=>function ni(b){return Cs.apply(this,arguments)}(Y),getToken:$e=>function co(b){return fs.apply(this,arguments)}(Y,$e)}};(function Ui(){(0,$._registerComponent)(new ke.wA(Tn,Mi,"PUBLIC")),(0,$._registerComponent)(new ke.wA("installations-internal",Ki,"PRIVATE"))})(),(0,$.registerVersion)(wr,vr),(0,$.registerVersion)(wr,vr,"esm2017");const cr="@firebase/remote-config",_i=new Le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fo{constructor(O,Y,me,$e){this.client=O,this.storage=Y,this.storageCache=me,this.logger=$e}isCachedDataFresh(O,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const me=Date.now()-Y,$e=me<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${me}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${$e}.`),$e}fetch(O){var Y=this;return(0,K.Z)(function*(){const[me,$e]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if($e&&Y.isCachedDataFresh(O.cacheMaxAgeMillis,me))return $e;O.eTag=$e&&$e.eTag;const Je=yield Y.client.fetch(O),Ct=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Je.status&&Ct.push(Y.storage.setLastSuccessfulFetchResponse(Je)),yield Promise.all(Ct),Je})()}}function Bs(b=navigator){return b.languages&&b.languages[0]||b.language}class Qi{constructor(O,Y,me,$e,Je,Ct){this.firebaseInstallations=O,this.sdkVersion=Y,this.namespace=me,this.projectId=$e,this.apiKey=Je,this.appId=Ct}fetch(O){var Y=this;return(0,K.Z)(function*(){const[me,$e]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),Ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,Xt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},sn={sdk_version:Y.sdkVersion,app_instance_id:me,app_instance_id_token:$e,app_id:Y.appId,language_code:Bs()},On={method:"POST",headers:Xt,body:JSON.stringify(sn)},dr=fetch(Ct,On),kn=new Promise((zo,Gi)=>{O.signal.addEventListener(()=>{const Ol=new Error("The operation was aborted.");Ol.name="AbortError",Gi(Ol)})});let Vs;try{yield Promise.race([dr,kn]),Vs=yield dr}catch(zo){let Gi="fetch-client-network";throw"AbortError"===zo?.name&&(Gi="fetch-timeout"),_i.create(Gi,{originalErrorMessage:zo?.message})}let Ws=Vs.status;const Fu=Vs.headers.get("ETag")||void 0;let Nl,au;if(200===Vs.status){let zo;try{zo=yield Vs.json()}catch(Gi){throw _i.create("fetch-client-parse",{originalErrorMessage:Gi?.message})}Nl=zo.entries,au=zo.state}if("INSTANCE_STATE_UNSPECIFIED"===au?Ws=500:"NO_CHANGE"===au?Ws=304:("NO_TEMPLATE"===au||"EMPTY_CONFIG"===au)&&(Nl={}),304!==Ws&&200!==Ws)throw _i.create("fetch-status",{httpStatus:Ws});return{status:Ws,eTag:Fu,config:Nl}})()}}class Ro{constructor(O,Y){this.client=O,this.storage=Y}fetch(O){var Y=this;return(0,K.Z)(function*(){const me=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(O,me)})()}attemptFetch(O,{throttleEndTimeMillis:Y,backoffCount:me}){var $e=this;return(0,K.Z)(function*(){yield function Zs(b,O){return new Promise((Y,me)=>{const $e=Math.max(O-Date.now(),0),Je=setTimeout(Y,$e);b.addEventListener(()=>{clearTimeout(Je),me(_i.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,Y);try{const Je=yield $e.client.fetch(O);return yield $e.storage.deleteThrottleMetadata(),Je}catch(Je){if(!function Ys(b){if(!(b instanceof Le.ZR&&b.customData))return!1;const O=Number(b.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Je))throw Je;const Ct={throttleEndTimeMillis:Date.now()+(0,Le.$s)(me),backoffCount:me+1};return yield $e.storage.setThrottleMetadata(Ct),$e.attemptFetch(O,Ct)}})()}}class Zo{constructor(O,Y,me,$e,Je){this.app=O,this._client=Y,this._storageCache=me,this._storage=$e,this._logger=Je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ji(b,O){const Y=b.target.error||void 0;return _i.create(O,{originalErrorMessage:Y&&Y?.message})}const ys="app_namespace_store";class kr{constructor(O,Y,me,$e=function go(){return new Promise((b,O)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=me=>{O(ji(me,"storage-open"))},Y.onsuccess=me=>{b(me.target.result)},Y.onupgradeneeded=me=>{0===me.oldVersion&&me.target.result.createObjectStore(ys,{keyPath:"compositeKey"})}}catch(Y){O(_i.create("storage-open",{originalErrorMessage:Y?.message}))}})}()){this.appId=O,this.appName=Y,this.namespace=me,this.openDbPromise=$e}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var Y=this;return(0,K.Z)(function*(){const me=yield Y.openDbPromise;return new Promise(($e,Je)=>{const Xt=me.transaction([ys],"readonly").objectStore(ys),sn=Y.createCompositeKey(O);try{const On=Xt.get(sn);On.onerror=dr=>{Je(ji(dr,"storage-get"))},On.onsuccess=dr=>{const kn=dr.target.result;$e(kn?kn.value:void 0)}}catch(On){Je(_i.create("storage-get",{originalErrorMessage:On?.message}))}})})()}set(O,Y){var me=this;return(0,K.Z)(function*(){const $e=yield me.openDbPromise;return new Promise((Je,Ct)=>{const sn=$e.transaction([ys],"readwrite").objectStore(ys),On=me.createCompositeKey(O);try{const dr=sn.put({compositeKey:On,value:Y});dr.onerror=kn=>{Ct(ji(kn,"storage-set"))},dr.onsuccess=()=>{Je()}}catch(dr){Ct(_i.create("storage-set",{originalErrorMessage:dr?.message}))}})})()}delete(O){var Y=this;return(0,K.Z)(function*(){const me=yield Y.openDbPromise;return new Promise(($e,Je)=>{const Xt=me.transaction([ys],"readwrite").objectStore(ys),sn=Y.createCompositeKey(O);try{const On=Xt.delete(sn);On.onerror=dr=>{Je(ji(dr,"storage-delete"))},On.onsuccess=()=>{$e()}}catch(On){Je(_i.create("storage-delete",{originalErrorMessage:On?.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class as{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,K.Z)(function*(){const Y=O.storage.getLastFetchStatus(),me=O.storage.getLastSuccessfulFetchTimestampMillis(),$e=O.storage.getActiveConfig(),Je=yield Y;Je&&(O.lastFetchStatus=Je);const Ct=yield me;Ct&&(O.lastSuccessfulFetchTimestampMillis=Ct);const Xt=yield $e;Xt&&(O.activeConfig=Xt)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function mo(){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,K.Z)(function*(){if(!(0,Le.hl)())return!1;try{return yield(0,Le.eu)()}catch{return!1}})).apply(this,arguments)}!function $s(){(0,$._registerComponent)(new ke.wA("remote-config",function b(O,{instanceIdentifier:Y}){const me=O.getProvider("app").getImmediate(),$e=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _i.create("registration-window");if(!(0,Le.hl)())throw _i.create("indexed-db-unavailable");const{projectId:Je,apiKey:Ct,appId:Xt}=me.options;if(!Je)throw _i.create("registration-project-id");if(!Ct)throw _i.create("registration-api-key");if(!Xt)throw _i.create("registration-app-id");const sn=new kr(Xt,me.name,Y=Y||"firebase"),On=new as(sn),dr=new Ye.Yd(cr);dr.logLevel=Ye.in.ERROR;const kn=new Qi($e,$.SDK_VERSION,Y,Je,Ct,Xt),Vs=new Ro(kn,sn),Ws=new fo(Vs,sn,On,dr),Fu=new Zo(me,Ws,On,sn,dr);return function jn(b){const O=(0,Le.m9)(b);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(Fu),Fu},"PUBLIC").setMultipleInstances(!0)),(0,$.registerVersion)(cr,"0.4.4"),(0,$.registerVersion)(cr,"0.4.4","esm2017")}();const Yo=(b,O)=>O.some(Y=>b instanceof Y);let As,Ms;const Rs=new WeakMap,Hs=new WeakMap,$r=new WeakMap,Pi=new WeakMap,Xs=new WeakMap;let Ci={get(b,O,Y){if(b instanceof IDBTransaction){if("done"===O)return Hs.get(b);if("objectStoreNames"===O)return b.objectStoreNames||$r.get(b);if("store"===O)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return fi(b[O])},set:(b,O,Y)=>(b[O]=Y,!0),has:(b,O)=>b instanceof IDBTransaction&&("done"===O||"store"===O)||O in b};function Js(b){return"function"==typeof b?function Ni(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qs(){return Ms||(Ms=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...O){return b.apply(pi(this),O),fi(Rs.get(this))}:function(...O){return fi(b.apply(pi(this),O))}:function(O,...Y){const me=b.call(pi(this),O,...Y);return $r.set(me,O.sort?O.sort():[O]),fi(me)}}(b):(b instanceof IDBTransaction&&function xs(b){if(Hs.has(b))return;const O=new Promise((Y,me)=>{const $e=()=>{b.removeEventListener("complete",Je),b.removeEventListener("error",Ct),b.removeEventListener("abort",Ct)},Je=()=>{Y(),$e()},Ct=()=>{me(b.error||new DOMException("AbortError","AbortError")),$e()};b.addEventListener("complete",Je),b.addEventListener("error",Ct),b.addEventListener("abort",Ct)});Hs.set(b,O)}(b),Yo(b,function yo(){return As||(As=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Ci):b)}function fi(b){if(b instanceof IDBRequest)return function vi(b){const O=new Promise((Y,me)=>{const $e=()=>{b.removeEventListener("success",Je),b.removeEventListener("error",Ct)},Je=()=>{Y(fi(b.result)),$e()},Ct=()=>{me(b.error),$e()};b.addEventListener("success",Je),b.addEventListener("error",Ct)});return O.then(Y=>{Y instanceof IDBCursor&&Rs.set(Y,b)}).catch(()=>{}),Xs.set(O,b),O}(b);if(Pi.has(b))return Pi.get(b);const O=Js(b);return O!==b&&(Pi.set(b,O),Xs.set(O,b)),O}const pi=b=>Xs.get(b);function Ps(b,O,{blocked:Y,upgrade:me,blocking:$e,terminated:Je}={}){const Ct=indexedDB.open(b,O),Xt=fi(Ct);return me&&Ct.addEventListener("upgradeneeded",sn=>{me(fi(Ct.result),sn.oldVersion,sn.newVersion,fi(Ct.transaction))}),Y&&Ct.addEventListener("blocked",()=>Y()),Xt.then(sn=>{Je&&sn.addEventListener("close",()=>Je()),$e&&sn.addEventListener("versionchange",()=>$e())}).catch(()=>{}),Xt}function eo(b,{blocked:O}={}){const Y=indexedDB.deleteDatabase(b);return O&&Y.addEventListener("blocked",()=>O()),fi(Y).then(()=>{})}const Io=["get","getKey","getAll","getAllKeys","count"],us=["put","add","delete","clear"],Ns=new Map;function ls(b,O){if(!(b instanceof IDBDatabase)||O in b||"string"!=typeof O)return;if(Ns.get(O))return Ns.get(O);const Y=O.replace(/FromIndex$/,""),me=O!==Y,$e=us.includes(Y);if(!(Y in(me?IDBIndex:IDBObjectStore).prototype)||!$e&&!Io.includes(Y))return;const Je=function(){var Ct=(0,K.Z)(function*(Xt,...sn){const On=this.transaction(Xt,$e?"readwrite":"readonly");let dr=On.store;return me&&(dr=dr.index(sn.shift())),(yield Promise.all([dr[Y](...sn),$e&&On.done]))[0]});return function(sn){return Ct.apply(this,arguments)}}();return Ns.set(O,Je),Je}!function Ri(b){Ci=b(Ci)}(b=>({...b,get:(O,Y,me)=>ls(O,Y)||b.get(O,Y,me),has:(O,Y)=>!!ls(O,Y)||b.has(O,Y)}));const Wn="/firebase-messaging-sw.js",_s="/firebase-cloud-messaging-push-scope",to="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",No="https://fcmregistrations.googleapis.com/v1",Hi="google.c.a.c_id",j="google.c.a.c_l",B="google.c.a.ts",oe="google.c.a.e";var w=(()=>{return(b=w||(w={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",w;var b})();function C(b){const O=new Uint8Array(b);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function A(b){const Y=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),me=atob(Y),$e=new Uint8Array(me.length);for(let Je=0;Je<me.length;++Je)$e[Je]=me.charCodeAt(Je);return $e}const Q="fcm_token_details_db",Re=5,Mt="fcm_token_object_Store";function Xn(){return Xn=(0,K.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Je=>Je.name).includes(Q))return null;let O=null;return(yield Ps(Q,Re,{upgrade:(me=(0,K.Z)(function*($e,Je,Ct,Xt){var sn;if(Je<2||!$e.objectStoreNames.contains(Mt))return;const On=Xt.objectStore(Mt),dr=yield On.index("fcmSenderId").get(b);if(yield On.clear(),dr)if(2===Je){const kn=dr;if(!kn.auth||!kn.p256dh||!kn.endpoint)return;O={token:kn.fcmToken,createTime:null!==(sn=kn.createTime)&&void 0!==sn?sn:Date.now(),subscriptionOptions:{auth:kn.auth,p256dh:kn.p256dh,endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:"string"==typeof kn.vapidKey?kn.vapidKey:C(kn.vapidKey)}}}else if(3===Je){const kn=dr;O={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:C(kn.auth),p256dh:C(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:C(kn.vapidKey)}}}else if(4===Je){const kn=dr;O={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:C(kn.auth),p256dh:C(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:C(kn.vapidKey)}}}}),function(Je,Ct,Xt,sn){return me.apply(this,arguments)})})).close(),yield eo(Q),yield eo("fcm_vapid_details_db"),yield eo("undefined"),function or(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:O}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}(O)?O:null;var me}),Xn.apply(this,arguments)}const Fr="firebase-messaging-database",Jr=1,gi="firebase-messaging-store";let Kr=null;function Lr(){return Kr||(Kr=Ps(Fr,Jr,{upgrade:(b,O)=>{0===O&&b.createObjectStore(gi)}})),Kr}function oi(b){return ai.apply(this,arguments)}function ai(){return ai=(0,K.Z)(function*(b){const O=Oo(b),me=yield(yield Lr()).transaction(gi).objectStore(gi).get(O);if(me)return me;{const $e=yield function vn(b){return Xn.apply(this,arguments)}(b.appConfig.senderId);if($e)return yield Hr(b,$e),$e}}),ai.apply(this,arguments)}function Hr(b,O){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,K.Z)(function*(b,O){const Y=Oo(b),$e=(yield Lr()).transaction(gi,"readwrite");return yield $e.objectStore(gi).put(O,Y),yield $e.done,O})).apply(this,arguments)}function ks(){return(ks=(0,K.Z)(function*(b){const O=Oo(b),me=(yield Lr()).transaction(gi,"readwrite");yield me.objectStore(gi).delete(O),yield me.done})).apply(this,arguments)}function Oo({appConfig:b}){return b.appId}const Oi=new Le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ia(b,O){return no.apply(this,arguments)}function no(){return(no=(0,K.Z)(function*(b,O){const Y=yield vs(b),me=Ea(O),$e={method:"POST",headers:Y,body:JSON.stringify(me)};let Je;try{Je=yield(yield fetch(_a(b.appConfig),$e)).json()}catch(Ct){throw Oi.create("token-subscribe-failed",{errorInfo:Ct?.toString()})}if(Je.error)throw Oi.create("token-subscribe-failed",{errorInfo:Je.error.message});if(!Je.token)throw Oi.create("token-subscribe-no-token");return Je.token})).apply(this,arguments)}function oa(){return(oa=(0,K.Z)(function*(b,O){const Y=yield vs(b),me=Ea(O.subscriptionOptions),$e={method:"PATCH",headers:Y,body:JSON.stringify(me)};let Je;try{Je=yield(yield fetch(`${_a(b.appConfig)}/${O.token}`,$e)).json()}catch(Ct){throw Oi.create("token-update-failed",{errorInfo:Ct?.toString()})}if(Je.error)throw Oi.create("token-update-failed",{errorInfo:Je.error.message});if(!Je.token)throw Oi.create("token-update-no-token");return Je.token})).apply(this,arguments)}function Qo(b,O){return ko.apply(this,arguments)}function ko(){return(ko=(0,K.Z)(function*(b,O){const me={method:"DELETE",headers:yield vs(b)};try{const Je=yield(yield fetch(`${_a(b.appConfig)}/${O}`,me)).json();if(Je.error)throw Oi.create("token-unsubscribe-failed",{errorInfo:Je.error.message})}catch($e){throw Oi.create("token-unsubscribe-failed",{errorInfo:$e?.toString()})}})).apply(this,arguments)}function _a({projectId:b}){return`${No}/projects/${b}/registrations`}function vs(b){return va.apply(this,arguments)}function va(){return(va=(0,K.Z)(function*({appConfig:b,installations:O}){const Y=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function Ea({p256dh:b,auth:O,endpoint:Y,vapidKey:me}){const $e={web:{endpoint:Y,auth:O,p256dh:b}};return me!==to&&($e.web.applicationPubKey=me),$e}const Ba=6048e5;function fa(){return fa=(0,K.Z)(function*(b){const O=yield function nu(b,O){return ei.apply(this,arguments)}(b.swRegistration,b.vapidKey),Y={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:O.endpoint,auth:C(O.getKey("auth")),p256dh:C(O.getKey("p256dh"))},me=yield oi(b.firebaseDependencies);if(me){if(function Mu(b,O){return O.vapidKey===b.vapidKey&&O.endpoint===b.endpoint&&O.auth===b.auth&&O.p256dh===b.p256dh}(me.subscriptionOptions,Y))return Date.now()>=me.createTime+Ba?function Ti(b,O){return aa.apply(this,arguments)}(b,{token:me.token,createTime:Date.now(),subscriptionOptions:Y}):me.token;try{yield Qo(b.firebaseDependencies,me.token)}catch($e){console.warn($e)}return ua(b.firebaseDependencies,Y)}return ua(b.firebaseDependencies,Y)}),fa.apply(this,arguments)}function _o(){return _o=(0,K.Z)(function*(b){const O=yield oi(b.firebaseDependencies);O&&(yield Qo(b.firebaseDependencies,O.token),yield function Os(b){return ks.apply(this,arguments)}(b.firebaseDependencies));const Y=yield b.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()}),_o.apply(this,arguments)}function aa(){return aa=(0,K.Z)(function*(b,O){try{const Y=yield function sa(b,O){return oa.apply(this,arguments)}(b.firebaseDependencies,O),me=Object.assign(Object.assign({},O),{token:Y,createTime:Date.now()});return yield Hr(b.firebaseDependencies,me),Y}catch(Y){throw yield function ri(b){return _o.apply(this,arguments)}(b),Y}}),aa.apply(this,arguments)}function ua(b,O){return zs.apply(this,arguments)}function zs(){return(zs=(0,K.Z)(function*(b,O){const me={token:yield ia(b,O),createTime:Date.now(),subscriptionOptions:O};return yield Hr(b,me),me.token})).apply(this,arguments)}function ei(){return(ei=(0,K.Z)(function*(b,O){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:A(O)})})).apply(this,arguments)}function la(b){const O={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function vo(b,O){if(!O.notification)return;b.notification={};const Y=O.notification.title;Y&&(b.notification.title=Y);const me=O.notification.body;me&&(b.notification.body=me);const $e=O.notification.image;$e&&(b.notification.image=$e);const Je=O.notification.icon;Je&&(b.notification.icon=Je)}(O,b),function Da(b,O){O.data&&(b.data=O.data)}(O,b),function x(b,O){var Y,me,$e,Je,Ct;if(!(O.fcmOptions||null!==(Y=O.notification)&&void 0!==Y&&Y.click_action))return;b.fcmOptions={};const Xt=null!==($e=null===(me=O.fcmOptions)||void 0===me?void 0:me.link)&&void 0!==$e?$e:null===(Je=O.notification)||void 0===Je?void 0:Je.click_action;Xt&&(b.fcmOptions.link=Xt);const sn=null===(Ct=O.fcmOptions)||void 0===Ct?void 0:Ct.analytics_label;sn&&(b.fcmOptions.analyticsLabel=sn)}(O,b),O}function F(b,O){const Y=[];for(let me=0;me<b.length;me++)Y.push(b.charAt(me)),me<O.length&&Y.push(O.charAt(me));return Y.join("")}function we(b){return Oi.create("missing-app-config-values",{valueName:b})}F("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),F("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ft{constructor(O,Y,me){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $e=function te(b){if(!b||!b.options)throw we("App Configuration Object");if(!b.name)throw we("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=b;for(const me of O)if(!Y[me])throw we(me);return{appName:b.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:$e,installations:Y,analyticsProvider:me}}_delete(){return Promise.resolve()}}function P(b){return m.apply(this,arguments)}function m(){return(m=(0,K.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Wn,{scope:_s}),b.swRegistration.update().catch(()=>{})}catch(O){throw Oi.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}function N(){return(N=(0,K.Z)(function*(b,O){if(!O&&!b.swRegistration&&(yield P(b)),O||!b.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw Oi.create("invalid-sw-registration");b.swRegistration=O}})).apply(this,arguments)}function ne(){return(ne=(0,K.Z)(function*(b,O){O?b.vapidKey=O:b.vapidKey||(b.vapidKey=to)})).apply(this,arguments)}function Te(){return Te=(0,K.Z)(function*(b,O){if(!navigator)throw Oi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Oi.create("permission-blocked");return yield function W(b,O){return ne.apply(this,arguments)}(b,O?.vapidKey),yield function v(b,O){return N.apply(this,arguments)}(b,O?.serviceWorkerRegistration),function wa(b){return fa.apply(this,arguments)}(b)}),Te.apply(this,arguments)}function It(){return(It=(0,K.Z)(function*(b,O,Y){const me=function Yt(b){switch(b){case w.NOTIFICATION_CLICKED:return"notification_open";case w.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(O);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(me,{message_id:Y[Hi],message_name:Y[j],message_time:Y[B],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $n(){return $n=(0,K.Z)(function*(b,O){const Y=O.data;if(!Y.isFirebaseMessaging)return;b.onMessageHandler&&Y.messageType===w.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(la(Y)):b.onMessageHandler.next(la(Y)));const me=Y.data;(function z(b){return"object"==typeof b&&!!b&&Hi in b})(me)&&"1"===me[oe]&&(yield function et(b,O,Y){return It.apply(this,arguments)}(b,Y.messageType,me))}),$n.apply(this,arguments)}const Yn="@firebase/messaging",Kn=b=>{const O=new ft(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function fn(b,O){return $n.apply(this,arguments)}(O,Y)),O},ti=b=>{const O=b.getProvider("messaging").getImmediate();return{getToken:me=>function Ce(b,O){return Te.apply(this,arguments)}(O,me)}};function cs(){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,K.Z)(function*(){try{yield(0,Le.eu)()}catch{return!1}return typeof window<"u"&&(0,Le.hl)()&&(0,Le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qr(){(0,$._registerComponent)(new ke.wA("messaging",Kn,"PUBLIC")),(0,$._registerComponent)(new ke.wA("messaging-internal",ti,"PRIVATE")),(0,$.registerVersion)(Yn,"0.12.4"),(0,$.registerVersion)(Yn,"0.12.4","esm2017")}();const qt="analytics",Sn="firebase_id",Ia="origin",pn=6e4,ze="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",at="https://www.googletagmanager.com/gtag/js",on=new Ye.Yd("@firebase/analytics"),yr=new Le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Eo(b){if(!b.startsWith(at)){const O=yr.create("invalid-gtag-resource",{gtagURL:b});return on.warn(O.message),""}return b}function ns(b){return Promise.all(b.map(O=>O.catch(Y=>Y)))}function Zi(){return(Zi=(0,K.Z)(function*(b,O,Y,me,$e,Je){const Ct=me[$e];try{if(Ct)yield O[Ct];else{const sn=(yield ns(Y)).find(On=>On.measurementId===$e);sn&&(yield O[sn.appId])}}catch(Xt){on.error(Xt)}b("config",$e,Je)})).apply(this,arguments)}function rs(){return(rs=(0,K.Z)(function*(b,O,Y,me,$e){try{let Je=[];if($e&&$e.send_to){let Ct=$e.send_to;Array.isArray(Ct)||(Ct=[Ct]);const Xt=yield ns(Y);for(const sn of Ct){const On=Xt.find(kn=>kn.measurementId===sn),dr=On&&O[On.appId];if(!dr){Je=[];break}Je.push(dr)}}0===Je.length&&(Je=Object.values(O)),yield Promise.all(Je),b("event",me,$e||{})}catch(Je){on.error(Je)}})).apply(this,arguments)}const wi=30,Ar=new class pa{constructor(O={},Y=1e3){this.throttleMetadata=O,this.intervalMillis=Y}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,Y){this.throttleMetadata[O]=Y}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function Ec(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function jt(){return(jt=(0,K.Z)(function*(b){var O;const{appId:Y,apiKey:me}=b,$e={method:"GET",headers:Ec(me)},Je=ze.replace("{app-id}",Y),Ct=yield fetch(Je,$e);if(200!==Ct.status&&304!==Ct.status){let Xt="";try{const sn=yield Ct.json();null!==(O=sn.error)&&void 0!==O&&O.message&&(Xt=sn.error.message)}catch{}throw yr.create("config-fetch-failed",{httpStatus:Ct.status,responseMessage:Xt})}return Ct.json()})).apply(this,arguments)}function Ru(){return(Ru=(0,K.Z)(function*(b,O=Ar,Y){const{appId:me,apiKey:$e,measurementId:Je}=b.options;if(!me)throw yr.create("no-app-id");if(!$e){if(Je)return{measurementId:Je,appId:me};throw yr.create("no-api-key")}const Ct=O.getThrottleMetadata(me)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xt=new ru;return setTimeout((0,K.Z)(function*(){Xt.abort()}),void 0!==Y?Y:pn),Ha({appId:me,apiKey:$e,measurementId:Je},Ct,Xt,O)})).apply(this,arguments)}function Ha(b,O,Y){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,K.Z)(function*(b,{throttleEndTimeMillis:O,backoffCount:Y},me,$e=Ar){var Je;const{appId:Ct,measurementId:Xt}=b;try{yield function ga(b,O){return new Promise((Y,me)=>{const $e=Math.max(O-Date.now(),0),Je=setTimeout(Y,$e);b.addEventListener(()=>{clearTimeout(Je),me(yr.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(me,O)}catch(sn){if(Xt)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xt} provided in the "measurementId" field in the local Firebase config. [${sn?.message}]`),{appId:Ct,measurementId:Xt};throw sn}try{const sn=yield function is(b){return jt.apply(this,arguments)}(b);return $e.deleteThrottleMetadata(Ct),sn}catch(sn){const On=sn;if(!function Id(b){if(!(b instanceof Le.ZR&&b.customData))return!1;const O=Number(b.customData.httpStatus);return 429===O||500===O||503===O||504===O}(On)){if($e.deleteThrottleMetadata(Ct),Xt)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xt} provided in the "measurementId" field in the local Firebase config. [${On?.message}]`),{appId:Ct,measurementId:Xt};throw sn}const dr=503===Number(null===(Je=On?.customData)||void 0===Je?void 0:Je.httpStatus)?(0,Le.$s)(Y,$e.intervalMillis,wi):(0,Le.$s)(Y,$e.intervalMillis),kn={throttleEndTimeMillis:Date.now()+dr,backoffCount:Y+1};return $e.setThrottleMetadata(Ct,kn),on.debug(`Calling attemptFetch again in ${dr} millis`),Ha(b,kn,me,$e)}}),Tl.apply(this,arguments)}class ru{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let ba,y;function Co(){return(Co=(0,K.Z)(function*(b,O,Y,me,$e){if($e&&$e.global)b("event",Y,me);else{const Je=yield O;b("event",Y,Object.assign(Object.assign({},me),{send_to:Je}))}})).apply(this,arguments)}function ae(){return(ae=(0,K.Z)(function*(){if(!(0,Le.hl)())return on.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Le.eu)()}catch(b){return on.warn(yr.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function Pt(){return Pt=(0,K.Z)(function*(b,O,Y,me,$e,Je,Ct){var Xt;const sn=function $a(b){return Ru.apply(this,arguments)}(b);sn.then(Ws=>{Y[Ws.measurementId]=Ws.appId,b.options.measurementId&&Ws.measurementId!==b.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${Ws.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ws=>on.error(Ws)),O.push(sn);const On=function X(){return ae.apply(this,arguments)}().then(Ws=>{if(Ws)return me.getId()}),[dr,kn]=yield Promise.all([sn,On]);(function ja(b){const O=window.document.getElementsByTagName("script");for(const Y of Object.values(O))if(Y.src&&Y.src.includes(at)&&Y.src.includes(b))return Y;return null})(Je)||function mi(b,O){const Y=function Fi(b,O){let Y;return window.trustedTypes&&(Y=window.trustedTypes.createPolicy(b,O)),Y}("firebase-js-sdk-policy",{createScriptURL:Eo}),me=document.createElement("script"),$e=`${at}?l=${b}&id=${O}`;me.src=Y?Y?.createScriptURL($e):$e,me.async=!0,document.head.appendChild(me)}(Je,dr.measurementId),y&&($e("consent","default",y),function R(b){y=b}(void 0)),$e("js",new Date);const Vs=null!==(Xt=Ct?.config)&&void 0!==Xt?Xt:{};return Vs[Ia]="firebase",Vs.update=!0,null!=kn&&(Vs[Sn]=kn),$e("config",dr.measurementId,Vs),ba&&($e("set",ba),function U(b){ba=b}(void 0)),dr.measurementId}),Pt.apply(this,arguments)}class nn{constructor(O){this.app=O}_delete(){return delete mn[this.app.options.appId],Promise.resolve()}}let mn={},zr=[];const Es={};let ma,ui,Si="dataLayer",Xo="gtag",Ca=!1;function wc(b,O,Y){!function Ta(){const b=[];if((0,Le.ru)()&&b.push("This is a browser extension environment."),(0,Le.zI)()||b.push("Cookies are not available."),b.length>0){const O=b.map((me,$e)=>`(${$e+1}) ${me}`).join(" "),Y=yr.create("invalid-analytics-context",{errorInfo:O});on.warn(Y.message)}}();const me=b.options.appId;if(!me)throw yr.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw yr.create("no-api-key");on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mn[me])throw yr.create("already-exists",{id:me});if(!Ca){!function $o(b){let O=[];Array.isArray(window[b])?O=window[b]:window[b]=O}(Si);const{wrappedGtag:Je,gtagCore:Ct}=function bo(b,O,Y,me,$e){let Je=function(...Ct){window[me].push(arguments)};return window[$e]&&"function"==typeof window[$e]&&(Je=window[$e]),window[$e]=function Jn(b,O,Y,me){function Je(){return Je=(0,K.Z)(function*(Ct,...Xt){try{if("event"===Ct){const[sn,On]=Xt;yield function io(b,O,Y,me,$e){return rs.apply(this,arguments)}(b,O,Y,sn,On)}else if("config"===Ct){const[sn,On]=Xt;yield function pu(b,O,Y,me,$e,Je){return Zi.apply(this,arguments)}(b,O,Y,me,sn,On)}else if("consent"===Ct){const[sn]=Xt;b("consent","update",sn)}else if("get"===Ct){const[sn,On,dr]=Xt;b("get",sn,On,dr)}else if("set"===Ct){const[sn]=Xt;b("set",sn)}else b(Ct,...Xt)}catch(sn){on.error(sn)}}),Je.apply(this,arguments)}return function $e(Ct){return Je.apply(this,arguments)}}(Je,b,O,Y),{gtagCore:Je,wrappedGtag:window[$e]}}(mn,zr,Es,Si,Xo);ui=Je,ma=Ct,Ca=!0}return mn[me]=function Xe(b,O,Y,me,$e,Je,Ct){return Pt.apply(this,arguments)}(b,zr,Es,O,ma,Si,Y),new nn(b)}function Dc(){return ya.apply(this,arguments)}function ya(){return(ya=(0,K.Z)(function*(){if((0,Le.ru)()||!(0,Le.zI)()||!(0,Le.hl)())return!1;try{return yield(0,Le.eu)()}catch{return!1}})).apply(this,arguments)}const Cc="@firebase/analytics";!function Rl(){(0,$._registerComponent)(new ke.wA(qt,(O,{options:Y})=>wc(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,$._registerComponent)(new ke.wA("analytics-internal",function b(O){try{const Y=O.getProvider(qt).getImmediate();return{logEvent:(me,$e,Je)=>function Td(b,O,Y,me){b=(0,Le.m9)(b),function Sl(b,O,Y,me,$e){return Co.apply(this,arguments)}(ui,mn[b.app.options.appId],O,Y,me).catch($e=>on.error($e))}(Y,me,$e,Je)}}catch(Y){throw yr.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,$.registerVersion)(Cc,"0.10.0"),(0,$.registerVersion)(Cc,"0.10.0","esm2017")}();var Sc=L(233),Ac=L(4986),mu=L(8505),Pu=L(5363),oo=L(9468);const Nu=new p.GfV("7.6.1"),Pa="__angularfire_symbol__analyticsIsSupportedValue",su="__angularfire_symbol__analyticsIsSupported",xi="__angularfire_symbol__remoteConfigIsSupportedValue",Wa="__angularfire_symbol__remoteConfigIsSupported",Ls="__angularfire_symbol__messagingIsSupportedValue",Di="__angularfire_symbol__messagingIsSupported";function vh(b,O,Y){if(O){if(1===O.length)return O[0];const Je=O.filter(Ct=>Ct.app===Y);if(1===Je.length)return Je[0]}return Y.container.getProvider(b).getImmediate({optional:!0})}globalThis[su]||(globalThis[su]=Dc().then(b=>globalThis[Pa]=b).catch(()=>globalThis[Pa]=!1)),globalThis[Di]||(globalThis[Di]=cs().then(b=>globalThis[Ls]=b).catch(()=>globalThis[Ls]=!1)),globalThis[Wa]||(globalThis[Wa]=mo().then(b=>globalThis[xi]=b).catch(()=>globalThis[xi]=!1));const Gs=(b,O)=>{const Y=O?[O]:(0,Z.C6)(),me=[];return Y.forEach($e=>{$e.container.getProvider(b).instances.forEach(Ct=>{me.includes(Ct)||me.push(Ct)})}),me};function ou(){}class Ka{constructor(O,Y=Sc.N){this.zone=O,this.delegate=Y}now(){return this.delegate.now()}schedule(O,Y,me){const $e=this.zone;return this.delegate.schedule(function(Ct){$e.runGuarded(()=>{O.apply(this,[Ct])})},Y,me)}}class ws{constructor(O){this.zone=O,this.task=null}call(O,Y){const me=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ou,{},ou,ou)),Y.pipe((0,mu.b)({next:me,complete:me,error:me})).subscribe(O).add(me)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sa=(()=>{class b{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new Ka(Zone.current)),this.insideAngular=Y.run(()=>new Ka(Zone.current,Ac.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(Y){return new(Y||b)(p.LFG(p.R0b))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Ho(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Pl(b){return b.pipe((0,Pu.Q)(Ho().outsideAngular))}function ha(b){return Ho(),function nl(b){return function(Y){return(Y=Y.lift(new ws(b.ngZone))).pipe((0,oo.R)(b.outsideAngular),(0,Pu.Q)(b.insideAngular))}}(Ho())(b)}},1389:(tn,st,L)=>{L.d(st,{$:()=>Wn,A:()=>he,D:()=>He,I:()=>sr,J:()=>Mi,L:()=>ms,N:()=>Ir,P:()=>Xe,Q:()=>kr,R:()=>Ga,U:()=>Po,V:()=>mo,W:()=>Bo,X:()=>$i,Y:()=>yo,Z:()=>Qs,_:()=>Xs,a:()=>zi,a0:()=>to,a1:()=>Hi,a2:()=>be,a3:()=>Mt,a4:()=>Xn,a5:()=>Fr,a6:()=>gi,a7:()=>Lr,a8:()=>ai,a9:()=>Xi,aA:()=>Ee,aB:()=>Ou,aC:()=>Tr,aD:()=>mr,aE:()=>xi,aF:()=>Cd,aG:()=>tl,aH:()=>fr,aL:()=>Pr,aO:()=>As,aa:()=>Os,ab:()=>Oo,ac:()=>jo,ad:()=>sa,ae:()=>Qo,af:()=>_a,ai:()=>Ba,aj:()=>fa,ak:()=>ri,an:()=>Ni,ao:()=>vo,aq:()=>ne,ar:()=>Yn,as:()=>xt,at:()=>Se,au:()=>pe,av:()=>We,aw:()=>zo,ax:()=>Gs,ay:()=>rt,az:()=>fe,b:()=>Ei,c:()=>ui,d:()=>wc,e:()=>xa,f:()=>Cc,g:()=>Pu,h:()=>Sc,i:()=>Nn,j:()=>Pa,k:()=>Ad,l:()=>wo,m:()=>Kf,p:()=>je,r:()=>I,s:()=>lt,u:()=>X});var p=L(5861),Z=L(2090),K=L(6881),$=L(7582),Le=L(1877),ke=L(4859);const je={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const He=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},tt=function Et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_t=new Z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dt=new Le.Yd("@firebase/auth");function Rt(D,...d){dt.logLevel<=Le.in.ERROR&&dt.error(`Auth (${K.SDK_VERSION}): ${D}`,...d)}function We(D,...d){throw vt(D,...d)}function fe(D,...d){return vt(D,...d)}function Ue(D,d,g){const T=Object.assign(Object.assign({},tt()),{[d]:g});return new Z.LL("auth","Firebase",T).create(d,{appName:D.name})}function ht(D,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&We(D,"argument-error"),Ue(D,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(D,...d){if("string"!=typeof D){const g=d[0],T=[...d.slice(1)];return T[0]&&(T[0].appName=D.name),D._errorFactory.create(g,...T)}return _t.create(D,...d)}function Ee(D,d,...g){if(!D)throw vt(d,...g)}function Ft(D){const d="INTERNAL ASSERTION FAILED: "+D;throw Rt(d),new Error(d)}function xt(D,d){D||Ft(d)}function bt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function gn(){return"http:"===zt()||"https:"===zt()}function zt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Fn{constructor(d,g){this.shortDelay=d,this.longDelay=g,xt(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,Z.uI)()||(0,Z.b$)()}get(){return function wr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gn()||(0,Z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zt(D,d){xt(D.emulator,"Emulator should always be set here");const{url:g}=D.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class ge{static initialize(d,g,T){this.fetchImpl=d,g&&(this.headersImpl=g),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new Fn(3e4,6e4);function Oe(D,d){return D.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:D.tenantId}):d}function ut(D,d,g,T){return mt.apply(this,arguments)}function mt(){return(mt=(0,p.Z)(function*(D,d,g,T,q={}){return Lt(D,q,(0,p.Z)(function*(){let ue={},Ze={};T&&("GET"===d?Ze=T:ue={body:JSON.stringify(T)});const wt=(0,Z.xO)(Object.assign({key:D.config.apiKey},Ze)).slice(1),en=yield D._getAdditionalHeaders();return en["Content-Type"]="application/json",D.languageCode&&(en["X-Firebase-Locale"]=D.languageCode),ge.fetch()(an(D,D.config.apiHost,g,wt),Object.assign({method:d,headers:en,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function Lt(D,d,g){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,p.Z)(function*(D,d,g){D._canInitEmulator=!1;const T=Object.assign(Object.assign({},ye),d);try{const q=new nr(D),ue=yield Promise.race([g(),q.promise]);q.clearNetworkTimeout();const Ze=yield ue.json();if("needConfirmation"in Ze)throw zn(D,"account-exists-with-different-credential",Ze);if(ue.ok&&!("errorMessage"in Ze))return Ze;{const wt=ue.ok?Ze.errorMessage:Ze.error.message,[en,In]=wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===en)throw zn(D,"credential-already-in-use",Ze);if("EMAIL_EXISTS"===en)throw zn(D,"email-already-in-use",Ze);if("USER_DISABLED"===en)throw zn(D,"user-disabled",Ze);const Hn=T[en]||en.toLowerCase().replace(/[_\s]+/g,"-");if(In)throw Ue(D,Hn,In);We(D,Hn)}}catch(q){if(q instanceof Z.ZR)throw q;We(D,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function ln(D,d,g,T){return yn.apply(this,arguments)}function yn(){return(yn=(0,p.Z)(function*(D,d,g,T,q={}){const ue=yield ut(D,d,g,T,q);return"mfaPendingCredential"in ue&&We(D,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function an(D,d,g,T){const q=`${d}${g}?${T}`;return D.config.emulator?Zt(D.config,q):`${D.config.apiScheme}://${q}`}class nr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,T)=>{this.timer=setTimeout(()=>T(fe(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(D,d,g){const T={appName:D.name};g.email&&(T.email=g.email),g.phoneNumber&&(T.phoneNumber=g.phoneNumber);const q=fe(D,d,T);return q.customData._tokenResponse=g,q}function hr(){return(hr=(0,p.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function ur(){return(ur=(0,p.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function wn(){return(wn=(0,p.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function $t(D){if(D)try{const d=new Date(Number(D));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Or(){return(Or=(0,p.Z)(function*(D,d=!1){const g=(0,Z.m9)(D),T=yield g.getIdToken(d),q=ci(T);Ee(q&&q.exp&&q.auth_time&&q.iat,g.auth,"internal-error");const ue="object"==typeof q.firebase?q.firebase:void 0,Ze=ue?.sign_in_provider;return{claims:q,token:T,authTime:$t(xr(q.auth_time)),issuedAtTime:$t(xr(q.iat)),expirationTime:$t(xr(q.exp)),signInProvider:Ze||null,signInSecondFactor:ue?.sign_in_second_factor||null}})).apply(this,arguments)}function xr(D){return 1e3*Number(D)}function ci(D){const[d,g,T]=D.split(".");if(void 0===d||void 0===g||void 0===T)return Rt("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,Z.tV)(g);return q?JSON.parse(q):(Rt("Failed to decode base64 JWT payload"),null)}catch(q){return Rt("Caught error parsing JWT payload as JSON",q?.toString()),null}}function An(D,d){return J.apply(this,arguments)}function J(){return(J=(0,p.Z)(function*(D,d,g=!1){if(g)return d;try{return yield d}catch(T){throw T instanceof Z.ZR&&function Ne({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(T)&&D.auth.currentUser===D&&(yield D.auth.signOut()),T}})).apply(this,arguments)}class qe{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const q=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const T=this.getInterval(d);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),T)}iteration(){var d=this;return(0,p.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class ot{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=$t(this.lastLoginAt),this.creationTime=$t(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yt(D){return kt.apply(this,arguments)}function kt(){return kt=(0,p.Z)(function*(D){var d;const g=D.auth,T=yield D.getIdToken(),q=yield An(D,function Rr(D,d){return wn.apply(this,arguments)}(g,{idToken:T}));Ee(q?.users.length,g,"internal-error");const ue=q.users[0];D._notifyReloadListener(ue);const Ze=null!==(d=ue.providerUserInfo)&&void 0!==d&&d.length?function cn(D){return D.map(d=>{var{providerId:g}=d,T=(0,$._T)(d,["providerId"]);return{providerId:g,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(ue.providerUserInfo):[],wt=function Bt(D,d){return[...D.filter(T=>!d.some(q=>q.providerId===T.providerId)),...d]}(D.providerData,Ze),Hn=!!D.isAnonymous&&!(D.email&&ue.passwordHash||wt?.length),Mr={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:wt,metadata:new ot(ue.createdAt,ue.lastLoginAt),isAnonymous:Hn};Object.assign(D,Mr)}),kt.apply(this,arguments)}function Gt(){return(Gt=(0,p.Z)(function*(D){const d=(0,Z.m9)(D);yield yt(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function lr(){return(lr=(0,p.Z)(function*(D,d){const g=yield Lt(D,{},(0,p.Z)(function*(){const T=(0,Z.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:q,apiKey:ue}=D.config,Ze=an(D,q,"/v1/token",`key=${ue}`),wt=yield D._getAdditionalHeaders();return wt["Content-Type"]="application/x-www-form-urlencoded",ge.fetch()(Ze,{method:"POST",headers:wt,body:T})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class bn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Ee(d.idToken,"internal-error"),Ee(typeof d.idToken<"u","internal-error"),Ee(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function er(D){const d=ci(D);return Ee(d,"internal-error"),Ee(typeof d.exp<"u","internal-error"),Ee(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var T=this;return(0,p.Z)(function*(){return Ee(!T.accessToken||T.refreshToken,d,"user-token-expired"),g||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(d,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var T=this;return(0,p.Z)(function*(){const{accessToken:q,refreshToken:ue,expiresIn:Ze}=yield function Wt(D,d){return lr.apply(this,arguments)}(d,g);T.updateTokensAndExpiration(q,ue,Number(Ze))})()}updateTokensAndExpiration(d,g,T){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(d,g){const{refreshToken:T,accessToken:q,expirationTime:ue}=g,Ze=new bn;return T&&(Ee("string"==typeof T,"internal-error",{appName:d}),Ze.refreshToken=T),q&&(Ee("string"==typeof q,"internal-error",{appName:d}),Ze.accessToken=q),ue&&(Ee("number"==typeof ue,"internal-error",{appName:d}),Ze.expirationTime=ue),Ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new bn,this.toJSON())}_performRefresh(){return Ft("not implemented")}}function Pn(D,d){Ee("string"==typeof D||typeof D>"u","internal-error",{appName:d})}class tr{constructor(d){var{uid:g,auth:T,stsTokenManager:q}=d,ue=(0,$._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=T,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new ot(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,p.Z)(function*(){const T=yield An(g,g.stsTokenManager.getToken(g.auth,d));return Ee(T,g.auth,"internal-error"),g.accessToken!==T&&(g.accessToken=T,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),T})()}getIdTokenResult(d){return function Cr(D){return Or.apply(this,arguments)}(this,d)}reload(){return function Ht(D){return Gt.apply(this,arguments)}(this)}_assign(d){this!==d&&(Ee(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new tr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var T=this;return(0,p.Z)(function*(){let q=!1;d.idToken&&d.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(d),q=!0),g&&(yield yt(T)),yield T.auth._persistUserIfCurrent(T),q&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var d=this;return(0,p.Z)(function*(){const g=yield d.getIdToken();return yield An(d,function Qn(D,d){return hr.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var T,q,ue,Ze,wt,en,In,Hn;const Mr=null!==(T=g.displayName)&&void 0!==T?T:void 0,Go=null!==(q=g.email)&&void 0!==q?q:void 0,Fo=null!==(ue=g.phoneNumber)&&void 0!==ue?ue:void 0,Vl=null!==(Ze=g.photoURL)&&void 0!==Ze?Ze:void 0,il=null!==(wt=g.tenantId)&&void 0!==wt?wt:void 0,Vu=null!==(en=g._redirectEventId)&&void 0!==en?en:void 0,xc=null!==(In=g.createdAt)&&void 0!==In?In:void 0,sl=null!==(Hn=g.lastLoginAt)&&void 0!==Hn?Hn:void 0,{uid:ol,emailVerified:uu,isAnonymous:Ao,providerData:al,stsTokenManager:_u}=g;Ee(ol&&_u,d,"internal-error");const vu=bn.fromJSON(this.name,_u);Ee("string"==typeof ol,d,"internal-error"),Pn(Mr,d.name),Pn(Go,d.name),Ee("boolean"==typeof uu,d,"internal-error"),Ee("boolean"==typeof Ao,d,"internal-error"),Pn(Fo,d.name),Pn(Vl,d.name),Pn(il,d.name),Pn(Vu,d.name),Pn(xc,d.name),Pn(sl,d.name);const Ul=new tr({uid:ol,auth:d,email:Go,emailVerified:uu,displayName:Mr,isAnonymous:Ao,photoURL:Vl,phoneNumber:Fo,tenantId:il,stsTokenManager:vu,createdAt:xc,lastLoginAt:sl});return al&&Array.isArray(al)&&(Ul.providerData=al.map(Bl=>Object.assign({},Bl))),Vu&&(Ul._redirectEventId=Vu),Ul}static _fromIdTokenResponse(d,g,T=!1){return(0,p.Z)(function*(){const q=new bn;q.updateFromServerResponse(g);const ue=new tr({uid:g.localId,auth:d,stsTokenManager:q,isAnonymous:T});return yield yt(ue),ue})()}}const gr=new Map;function Tr(D){xt(D instanceof Function,"Expected a class definition");let d=gr.get(D);return d?(xt(d instanceof D,"Instance stored in cache mismatched with class"),d):(d=new D,gr.set(D,d),d)}const Ir=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,T){var q=this;return(0,p.Z)(function*(){q.storage[g]=T})()}_get(g){var T=this;return(0,p.Z)(function*(){const q=T.storage[g];return void 0===q?null:q})()}_remove(g){var T=this;return(0,p.Z)(function*(){delete T.storage[g]})()}_addListener(g,T){}_removeListener(g,T){}}return D.type="NONE",D})();function mr(D,d,g){return`firebase:${D}:${d}:${g}`}class Me{constructor(d,g,T){this.persistence=d,this.auth=g,this.userKey=T;const{config:q,name:ue}=this.auth;this.fullUserKey=mr(this.userKey,q.apiKey,ue),this.fullPersistenceKey=mr("persistence",q.apiKey,ue),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,p.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?tr._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,p.Z)(function*(){if(g.persistence===d)return;const T=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,T?g.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,T="authUser"){return(0,p.Z)(function*(){if(!g.length)return new Me(Tr(Ir),d,T);const q=(yield Promise.all(g.map(function(){var In=(0,p.Z)(function*(Hn){if(yield Hn._isAvailable())return Hn});return function(Hn){return In.apply(this,arguments)}}()))).filter(In=>In);let ue=q[0]||Tr(Ir);const Ze=mr(T,d.config.apiKey,d.name);let wt=null;for(const In of g)try{const Hn=yield In._get(Ze);if(Hn){const Mr=tr._fromJSON(d,Hn);In!==ue&&(wt=Mr),ue=In;break}}catch{}const en=q.filter(In=>In._shouldAllowMigration);return ue._shouldAllowMigration&&en.length?(ue=en[0],wt&&(yield ue._set(Ze,wt.toJSON())),yield Promise.all(g.map(function(){var In=(0,p.Z)(function*(Hn){if(Hn!==ue)try{yield Hn._remove(Ze)}catch{}});return function(Hn){return In.apply(this,arguments)}}())),new Me(ue,d,T)):new Me(ue,d,T)})()}}function De(D){const d=D.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Fe(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ie(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(_e(d))return"Blackberry";if(le(d))return"Webos";if(ce(d))return"Safari";if((d.includes("chrome/")||ee(d))&&!d.includes("edge/"))return"Chrome";if(pe(d))return"Android";{const T=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function ie(D=(0,Z.z$)()){return/firefox\//i.test(D)}function ce(D=(0,Z.z$)()){const d=D.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function ee(D=(0,Z.z$)()){return/crios\//i.test(D)}function Fe(D=(0,Z.z$)()){return/iemobile/i.test(D)}function pe(D=(0,Z.z$)()){return/android/i.test(D)}function _e(D=(0,Z.z$)()){return/blackberry/i.test(D)}function le(D=(0,Z.z$)()){return/webos/i.test(D)}function Se(D=(0,Z.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function rt(D=(0,Z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function hn(D=(0,Z.z$)()){return Se(D)||pe(D)||le(D)||_e(D)||/windows phone/i.test(D)||Fe(D)}function ii(D,d=[]){let g;switch(D){case"Browser":g=De((0,Z.z$)());break;case"Worker":g=`${De((0,Z.z$)())}-${D}`;break;default:g=D}const T=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${K.SDK_VERSION}/${T}`}function it(){return(it=(0,p.Z)(function*(D){return(yield ut(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Nt(D,d){return rn.apply(this,arguments)}function rn(){return(rn=(0,p.Z)(function*(D,d){return ut(D,"GET","/v2/recaptchaConfig",Oe(D,d))})).apply(this,arguments)}function _n(D){return void 0!==D&&void 0!==D.getResponse}function Un(D){return void 0!==D&&void 0!==D.enterprise}class Dn{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Gn(D){return new Promise((d,g)=>{const T=document.createElement("script");T.setAttribute("src",D),T.onload=d,T.onerror=q=>{const ue=fe("internal-error");ue.customData=q,g(ue)},T.type="text/javascript",T.charset="UTF-8",function Ln(){var D,d;return null!==(d=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==d?d:document}().appendChild(T)})}function Sr(D){return`__${D}${Math.floor(1e6*Math.random())}`}const co="NO_RECAPTCHA";class fs{constructor(d){this.type="recaptcha-enterprise",this.auth=fr(d)}verify(d="verify",g=!1){var T=this;return(0,p.Z)(function*(){function ue(){return ue=(0,p.Z)(function*(wt){if(!g){if(null==wt.tenantId&&null!=wt._agentRecaptchaConfig)return wt._agentRecaptchaConfig.siteKey;if(null!=wt.tenantId&&void 0!==wt._tenantRecaptchaConfigs[wt.tenantId])return wt._tenantRecaptchaConfigs[wt.tenantId].siteKey}return new Promise(function(){var en=(0,p.Z)(function*(In,Hn){Nt(wt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Mr=>{if(void 0!==Mr.recaptchaKey){const Go=new Dn(Mr);return null==wt.tenantId?wt._agentRecaptchaConfig=Go:wt._tenantRecaptchaConfigs[wt.tenantId]=Go,In(Go.siteKey)}Hn(new Error("recaptcha Enterprise site key undefined"))}).catch(Mr=>{Hn(Mr)})});return function(In,Hn){return en.apply(this,arguments)}}())}),ue.apply(this,arguments)}function Ze(wt,en,In){const Hn=window.grecaptcha;Un(Hn)?Hn.enterprise.ready(()=>{Hn.enterprise.execute(wt,{action:d}).then(Mr=>{en(Mr)}).catch(()=>{en(co)})}):In(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((wt,en)=>{(function q(wt){return ue.apply(this,arguments)})(T.auth).then(In=>{if(!g&&Un(window.grecaptcha))Ze(In,wt,en);else{if(typeof window>"u")return void en(new Error("RecaptchaVerifier is only supported in browser"));Gn("https://www.google.com/recaptcha/enterprise.js?render="+In).then(()=>{Ze(In,wt,en)}).catch(Hn=>{en(Hn)})}}).catch(In=>{en(In)})})})()}}function Yr(D,d,g){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,p.Z)(function*(D,d,g,T=!1){const q=new fs(D);let ue;try{ue=yield q.verify(g)}catch{ue=yield q.verify(g,!0)}const Ze=Object.assign({},d);return Object.assign(Ze,T?{captchaResp:ue}:{captchaResponse:ue}),Object.assign(Ze,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ze,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ze})).apply(this,arguments)}class qn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const T=ue=>new Promise((Ze,wt)=>{try{Ze(d(ue))}catch(en){wt(en)}});T.onAbort=g,this.queue.push(T);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,p.Z)(function*(){if(g.auth.currentUser===d)return;const T=[];try{for(const q of g.queue)yield q(d),q.onAbort&&T.push(q.onAbort)}catch(q){T.reverse();for(const ue of T)try{ue()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:q?.message})}})()}}class Wr{constructor(d,g,T,q){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=T,this.config=q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wi(this),this.idTokenSubscription=new Wi(this),this.beforeStateQueue=new qn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=q.sdkClientVersion}_initializeWithPersistence(d,g){var T=this;return g&&(this._popupRedirectResolver=Tr(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var q,ue;if(!T._deleted&&(T.persistenceManager=yield Me.create(T,d),!T._deleted)){if(null!==(q=T._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(g),T.lastNotifiedUid=(null===(ue=T.currentUser)||void 0===ue?void 0:ue.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,p.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUser(d){var g=this;return(0,p.Z)(function*(){var T;const q=yield g.assertedPersistence.getCurrentUser();let ue=q,Ze=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const wt=null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId,en=ue?._redirectEventId,In=yield g.tryRedirectSignIn(d);(!wt||wt===en)&&In?.user&&(ue=In.user,Ze=!0)}if(!ue)return g.directlySetCurrentUser(null);if(!ue._redirectEventId){if(Ze)try{yield g.beforeStateQueue.runMiddleware(ue)}catch(wt){ue=q,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(wt))}return ue?g.reloadAndSetCurrentUserOrClear(ue):g.directlySetCurrentUser(null)}return Ee(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ue._redirectEventId?g.directlySetCurrentUser(ue):g.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(d){var g=this;return(0,p.Z)(function*(){let T=null;try{T=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,p.Z)(function*(){try{yield yt(d)}catch(T){if("auth/network-request-failed"!==T?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function vr(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var d=this;return(0,p.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,p.Z)(function*(){const T=d?(0,Z.m9)(d):null;return T&&Ee(T.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(T&&T._clone(g))})()}_updateCurrentUser(d,g=!1){var T=this;return(0,p.Z)(function*(){if(!T._deleted)return d&&Ee(T.tenantId===d.tenantId,T,"tenant-id-mismatch"),g||(yield T.beforeStateQueue.runMiddleware(d)),T.queue((0,p.Z)(function*(){yield T.directlySetCurrentUser(d),T.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,p.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(Tr(d))}))}initializeRecaptchaConfig(){var d=this;return(0,p.Z)(function*(){const g=yield Nt(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new Dn(g);null==d.tenantId?d._agentRecaptchaConfig=T:d._tenantRecaptchaConfigs[d.tenantId]=T,T.emailPasswordEnabled&&new fs(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new Z.LL("auth","Firebase",d())}onAuthStateChanged(d,g,T){return this.registerStateListener(this.authStateSubscription,d,g,T)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,T){return this.registerStateListener(this.idTokenSubscription,d,g,T)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var T=this;return(0,p.Z)(function*(){const q=yield T.getOrInitRedirectPersistenceManager(g);return null===d?q.removeCurrentUser():q.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const T=d&&Tr(d)||g._popupRedirectResolver;Ee(T,g,"argument-error"),g.redirectPersistenceManager=yield Me.create(g,[Tr(T._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,p.Z)(function*(){var T,q;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(T=g._currentUser)||void 0===T?void 0:T._redirectEventId)===d?g._currentUser:(null===(q=g.redirectUser)||void 0===q?void 0:q._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,p.Z)(function*(){if(d===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,T,q){if(this._deleted)return()=>{};const ue="function"==typeof g?g:g.next.bind(g),Ze=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(Ze,this,"internal-error"),Ze.then(()=>ue(this.currentUser)),"function"==typeof g?d.addObserver(g,T,q):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=ii(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,p.Z)(function*(){var g;const T={"X-Client-Version":d.clientVersion};d.app.options.appId&&(T["X-Firebase-gmpid"]=d.app.options.appId);const q=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();q&&(T["X-Firebase-Client"]=q);const ue=yield d._getAppCheckToken();return ue&&(T["X-Firebase-AppCheck"]=ue),T})()}_getAppCheckToken(){var d=this;return(0,p.Z)(function*(){var g;const T=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return T?.error&&function Ie(D,...d){dt.logLevel<=Le.in.WARN&&dt.warn(`Auth (${K.SDK_VERSION}): ${D}`,...d)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function fr(D){return(0,Z.m9)(D)}class Wi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Z.ne)(g=>this.observer=g)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sr(D,d,g){const T=fr(D);Ee(T._canInitEmulator,T,"emulator-config-failed"),Ee(/^https?:\/\//.test(d),T,"invalid-emulator-scheme");const q=!!g?.disableWarnings,ue=os(d),{host:Ze,port:wt}=function Ai(D){const d=os(D),g=/(\/\/)?([^?#/]+)/.exec(D.substr(d.length));if(!g)return{host:"",port:null};const T=g[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(T);if(q){const ue=q[1];return{host:ue,port:Tn(T.substr(ue.length+1))}}{const[ue,Ze]=T.split(":");return{host:ue,port:Tn(Ze)}}}(d);T.config.emulator={url:`${ue}//${Ze}${null===wt?"":`:${wt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Ze,port:wt,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function Vi(){function D(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function os(D){const d=D.indexOf(":");return d<0?"":D.substr(0,d+1)}function Tn(D){if(!D)return null;const d=Number(D);return isNaN(d)?null:d}class Mi{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return Ft("not implemented")}_getIdTokenResponse(d){return Ft("not implemented")}_linkToIdToken(d,g){return Ft("not implemented")}_getReauthenticationResolver(d){return Ft("not implemented")}}function Ki(D,d){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,p.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:resetPassword",Oe(D,d))})).apply(this,arguments)}function cr(D,d){return qs.apply(this,arguments)}function qs(){return(qs=(0,p.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function hi(){return(hi=(0,p.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:update",Oe(D,d))})).apply(this,arguments)}function ps(D,d){return _i.apply(this,arguments)}function _i(){return(_i=(0,p.Z)(function*(D,d){return ln(D,"POST","/v1/accounts:signInWithPassword",Oe(D,d))})).apply(this,arguments)}function Br(D,d){return es.apply(this,arguments)}function es(){return(es=(0,p.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:sendOobCode",Oe(D,d))})).apply(this,arguments)}function Ge(){return(Ge=(0,p.Z)(function*(D,d){return Br(D,d)})).apply(this,arguments)}function Be(D,d){return nt.apply(this,arguments)}function nt(){return(nt=(0,p.Z)(function*(D,d){return Br(D,d)})).apply(this,arguments)}function Tt(D,d){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,p.Z)(function*(D,d){return Br(D,d)})).apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(D,d){return Br(D,d)})).apply(this,arguments)}function rr(){return(rr=(0,p.Z)(function*(D,d){return ln(D,"POST","/v1/accounts:signInWithEmailLink",Oe(D,d))})).apply(this,arguments)}function Bi(){return(Bi=(0,p.Z)(function*(D,d){return ln(D,"POST","/v1/accounts:signInWithEmailLink",Oe(D,d))})).apply(this,arguments)}class jr extends Mi{constructor(d,g,T,q=null){super("password",T),this._email=d,this._password=g,this._tenantId=q}static _fromEmailAndPassword(d,g){return new jr(d,g,"password")}static _fromEmailAndCode(d,g,T=null){return new jr(d,g,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,p.Z)(function*(){var T;switch(g.signInMethod){case"password":const q={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=d._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ue=yield Yr(d,q,"signInWithPassword");return ps(d,ue)}return ps(d,q).catch(function(){var ue=(0,p.Z)(function*(Ze){if("auth/missing-recaptcha-token"===Ze.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const wt=yield Yr(d,q,"signInWithPassword");return ps(d,wt)}return Promise.reject(Ze)});return function(Ze){return ue.apply(this,arguments)}}());case"emailLink":return function Vn(D,d){return rr.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:We(d,"internal-error")}})()}_linkToIdToken(d,g){var T=this;return(0,p.Z)(function*(){switch(T.signInMethod){case"password":return cr(d,{idToken:g,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function si(D,d){return Bi.apply(this,arguments)}(d,{idToken:g,email:T._email,oobCode:T._password});default:We(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Ts(D,d){return ho.apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(D,d){return ln(D,"POST","/v1/accounts:signInWithIdp",Oe(D,d))})).apply(this,arguments)}class ms extends Mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new ms(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):We("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:q}=g,ue=(0,$._T)(g,["providerId","signInMethod"]);if(!T||!q)return null;const Ze=new ms(T,q);return Ze.idToken=ue.idToken||void 0,Ze.accessToken=ue.accessToken||void 0,Ze.secret=ue.secret,Ze.nonce=ue.nonce,Ze.pendingToken=ue.pendingToken||null,Ze}_getIdTokenResponse(d){return Ts(d,this.buildRequest())}_linkToIdToken(d,g){const T=this.buildRequest();return T.idToken=g,Ts(d,T)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,Ts(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,Z.xO)(g)}return d}}function Bs(){return(Bs=(0,p.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:sendVerificationCode",Oe(D,d))})).apply(this,arguments)}function Zs(){return(Zs=(0,p.Z)(function*(D,d){return ln(D,"POST","/v1/accounts:signInWithPhoneNumber",Oe(D,d))})).apply(this,arguments)}function Ro(){return(Ro=(0,p.Z)(function*(D,d){const g=yield ln(D,"POST","/v1/accounts:signInWithPhoneNumber",Oe(D,d));if(g.temporaryProof)throw zn(D,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const js={USER_NOT_FOUND:"user-not-found"};function Zo(){return(Zo=(0,p.Z)(function*(D,d){return ln(D,"POST","/v1/accounts:signInWithPhoneNumber",Oe(D,Object.assign(Object.assign({},d),{operation:"REAUTH"})),js)})).apply(this,arguments)}class ji extends Mi{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new ji({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new ji({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function Qi(D,d){return Zs.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function Ys(D,d){return Ro.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function xo(D,d){return Zo.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:T,verificationCode:q}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:T,code:q}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:T,phoneNumber:q,temporaryProof:ue}=d;return T||g||q||ue?new ji({verificationId:g,verificationCode:T,phoneNumber:q,temporaryProof:ue}):null}}class Ss{constructor(d){var g,T,q,ue,Ze,wt;const en=(0,Z.zd)((0,Z.pd)(d)),In=null!==(g=en.apiKey)&&void 0!==g?g:null,Hn=null!==(T=en.oobCode)&&void 0!==T?T:null,Mr=function ys(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=en.mode)&&void 0!==q?q:null);Ee(In&&Hn&&Mr,"argument-error"),this.apiKey=In,this.operation=Mr,this.code=Hn,this.continueUrl=null!==(ue=en.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(Ze=en.languageCode)&&void 0!==Ze?Ze:null,this.tenantId=null!==(wt=en.tenantId)&&void 0!==wt?wt:null}static parseLink(d){const g=function po(D){const d=(0,Z.zd)((0,Z.pd)(D)).link,g=d?(0,Z.zd)((0,Z.pd)(d)).deep_link_id:null,T=(0,Z.zd)((0,Z.pd)(D)).deep_link_id;return(T?(0,Z.zd)((0,Z.pd)(T)).link:null)||T||g||d||D}(d);try{return new Ss(g)}catch{return null}}}let kr=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(g,T){return jr._fromEmailAndPassword(g,T)}static credentialWithLink(g,T){const q=Ss.parseLink(T);return Ee(q,"argument-error"),jr._fromEmailAndCode(g,q.code,q.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class as{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class $s extends as{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class $i extends $s{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return Ee("providerId"in g&&"signInMethod"in g,"argument-error"),ms._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Ee(d.idToken||d.accessToken,"argument-error"),ms._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return $i.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return $i.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:T,oauthTokenSecret:q,pendingToken:ue,nonce:Ze,providerId:wt}=d;if(!T&&!q&&!g&&!ue||!wt)return null;try{return new $i(wt)._credential({idToken:g,accessToken:T,nonce:Ze,pendingToken:ue})}catch{return null}}}let Po=(()=>{class D extends $s{constructor(){super("facebook.com")}static credential(g){return ms._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return D.credential(g.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),mo=(()=>{class D extends $s{constructor(){super("google.com"),this.addScope("profile")}static credential(g,T){return ms._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:T})}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:T,oauthAccessToken:q}=g;if(!T&&!q)return null;try{return D.credential(T,q)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Bo=(()=>{class D extends $s{constructor(){super("github.com")}static credential(g){return ms._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return D.credential(g.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class As extends Mi{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return Ts(d,this.buildRequest())}_linkToIdToken(d,g){const T=this.buildRequest();return T.idToken=g,Ts(d,T)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,Ts(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:q,pendingToken:ue}=g;return T&&q&&ue&&T===q?new As(T,ue):null}static _create(d,g){return new As(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yo extends as{constructor(d){Ee(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return yo.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return yo.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=As.fromJSON(d);return Ee(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:T}=d;if(!g||!T)return null;try{return As._create(T,g)}catch{return null}}}let Qs=(()=>{class D extends $s{constructor(){super("twitter.com")}static credential(g,T){return ms._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:T})}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:T,oauthTokenSecret:q}=g;if(!T||!q)return null;try{return D.credential(T,q)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Rs(D,d){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,p.Z)(function*(D,d){return ln(D,"POST","/v1/accounts:signUp",Oe(D,d))})).apply(this,arguments)}class $r{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,T,q=!1){return(0,p.Z)(function*(){const ue=yield tr._fromIdTokenResponse(d,T,q),Ze=Pi(T);return new $r({user:ue,providerId:Ze,_tokenResponse:T,operationType:g})})()}static _forOperation(d,g,T){return(0,p.Z)(function*(){yield d._updateTokensIfNecessary(T,!0);const q=Pi(T);return new $r({user:d,providerId:q,_tokenResponse:T,operationType:g})})()}}function Pi(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Xs(D){return vi.apply(this,arguments)}function vi(){return(vi=(0,p.Z)(function*(D){var d;const g=fr(D);if(yield g._initializationPromise,null!==(d=g.currentUser)&&void 0!==d&&d.isAnonymous)return new $r({user:g.currentUser,providerId:null,operationType:"signIn"});const T=yield Rs(g,{returnSecureToken:!0}),q=yield $r._fromIdTokenResponse(g,"signIn",T,!0);return yield g._updateCurrentUser(q.user),q})).apply(this,arguments)}class xs extends Z.ZR{constructor(d,g,T,q){var ue;super(g.code,g.message),this.operationType=T,this.user=q,Object.setPrototypeOf(this,xs.prototype),this.customData={appName:d.name,tenantId:null!==(ue=d.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:g.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(d,g,T,q){return new xs(d,g,T,q)}}function Ci(D,d,g,T){return("reauthenticate"===d?g._getReauthenticationResolver(D):g._getIdTokenResponse(D)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?xs._fromErrorAndOperation(D,ue,d,T):ue})}function Ri(D){return new Set(D.map(({providerId:d})=>d).filter(d=>!!d))}function Ni(D,d){return Js.apply(this,arguments)}function Js(){return Js=(0,p.Z)(function*(D,d){const g=(0,Z.m9)(D);yield Ps(!0,g,d);const{providerUserInfo:T}=yield function pr(D,d){return ur.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),q=Ri(T||[]);return g.providerData=g.providerData.filter(ue=>q.has(ue.providerId)),q.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Js.apply(this,arguments)}function fi(D,d){return pi.apply(this,arguments)}function pi(){return(pi=(0,p.Z)(function*(D,d,g=!1){const T=yield An(D,d._linkToIdToken(D.auth,yield D.getIdToken()),g);return $r._forOperation(D,"link",T)})).apply(this,arguments)}function Ps(D,d,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,p.Z)(function*(D,d,g){yield yt(d);const q=!1===D?"provider-already-linked":"no-such-provider";Ee(Ri(d.providerData).has(g)===D,d.auth,q)})).apply(this,arguments)}function Io(D,d){return us.apply(this,arguments)}function us(){return(us=(0,p.Z)(function*(D,d,g=!1){const{auth:T}=D,q="reauthenticate";try{const ue=yield An(D,Ci(T,q,d,D),g);Ee(ue.idToken,T,"internal-error");const Ze=ci(ue.idToken);Ee(Ze,T,"internal-error");const{sub:wt}=Ze;return Ee(D.uid===wt,T,"user-mismatch"),$r._forOperation(D,q,ue)}catch(ue){throw"auth/user-not-found"===ue?.code&&We(T,"user-mismatch"),ue}})).apply(this,arguments)}function Ns(D,d){return ls.apply(this,arguments)}function ls(){return(ls=(0,p.Z)(function*(D,d,g=!1){const T="signIn",q=yield Ci(D,T,d),ue=yield $r._fromIdTokenResponse(D,T,q);return g||(yield D._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function Wn(D,d){return _s.apply(this,arguments)}function _s(){return(_s=(0,p.Z)(function*(D,d){return Ns(fr(D),d)})).apply(this,arguments)}function to(D,d){return No.apply(this,arguments)}function No(){return(No=(0,p.Z)(function*(D,d){const g=(0,Z.m9)(D);return yield Ps(!1,g,d.providerId),fi(g,d)})).apply(this,arguments)}function Hi(D,d){return j.apply(this,arguments)}function j(){return(j=(0,p.Z)(function*(D,d){return Io((0,Z.m9)(D),d)})).apply(this,arguments)}function oe(){return(oe=(0,p.Z)(function*(D,d){return ln(D,"POST","/v1/accounts:signInWithCustomToken",Oe(D,d))})).apply(this,arguments)}function be(D,d){return w.apply(this,arguments)}function w(){return w=(0,p.Z)(function*(D,d){const g=fr(D),T=yield function B(D,d){return oe.apply(this,arguments)}(g,{token:d,returnSecureToken:!0}),q=yield $r._fromIdTokenResponse(g,"signIn",T);return yield g._updateCurrentUser(q.user),q}),w.apply(this,arguments)}class C{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?A._fromServerResponse(d,g):"totpInfo"in g?Q._fromServerResponse(d,g):We(d,"internal-error")}}class A extends C{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new A(g)}}class Q extends C{constructor(d){super("totp",d)}static _fromServerResponse(d,g){return new Q(g)}}function Re(D,d,g){var T;Ee((null===(T=g.url)||void 0===T?void 0:T.length)>0,D,"invalid-continue-uri"),Ee(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ee(g.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(Ee(g.android.packageName.length>0,D,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function Mt(D,d,g){return vn.apply(this,arguments)}function vn(){return vn=(0,p.Z)(function*(D,d,g){var T;const q=fr(D),ue={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=q._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Ze=yield Yr(q,ue,"getOobCode",!0);g&&Re(q,Ze,g),yield Be(q,Ze)}else g&&Re(q,ue,g),yield Be(q,ue).catch(function(){var Ze=(0,p.Z)(function*(wt){if("auth/missing-recaptcha-token"!==wt.code)return Promise.reject(wt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const en=yield Yr(q,ue,"getOobCode",!0);g&&Re(q,en,g),yield Be(q,en)}});return function(wt){return Ze.apply(this,arguments)}}())}),vn.apply(this,arguments)}function Xn(D,d,g){return or.apply(this,arguments)}function or(){return(or=(0,p.Z)(function*(D,d,g){yield Ki((0,Z.m9)(D),{oobCode:d,newPassword:g})})).apply(this,arguments)}function Fr(D,d){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,p.Z)(function*(D,d){yield function di(D,d){return hi.apply(this,arguments)}((0,Z.m9)(D),{oobCode:d})}),Jr.apply(this,arguments)}function gi(D,d){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,p.Z)(function*(D,d){const g=(0,Z.m9)(D),T=yield Ki(g,{oobCode:d}),q=T.requestType;switch(Ee(q,g,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(T.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(T.mfaInfo,g,"internal-error");default:Ee(T.email,g,"internal-error")}let ue=null;return T.mfaInfo&&(ue=C._fromServerResponse(fr(g),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:ue},operation:q}})).apply(this,arguments)}function Lr(D,d){return oi.apply(this,arguments)}function oi(){return(oi=(0,p.Z)(function*(D,d){const{data:g}=yield gi((0,Z.m9)(D),d);return g.email})).apply(this,arguments)}function ai(D,d,g){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,p.Z)(function*(D,d,g){var T;const q=fr(D),ue={returnSecureToken:!0,email:d,password:g,clientType:"CLIENT_TYPE_WEB"};let Ze;if(null!==(T=q._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const In=yield Yr(q,ue,"signUpPassword");Ze=Rs(q,In)}else Ze=Rs(q,ue).catch(function(){var In=(0,p.Z)(function*(Hn){if("auth/missing-recaptcha-token"===Hn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Mr=yield Yr(q,ue,"signUpPassword");return Rs(q,Mr)}return Promise.reject(Hn)});return function(Hn){return In.apply(this,arguments)}}());const wt=yield Ze.catch(In=>Promise.reject(In)),en=yield $r._fromIdTokenResponse(q,"signIn",wt);return yield q._updateCurrentUser(en.user),en}),Hr.apply(this,arguments)}function Xi(D,d,g){return Wn((0,Z.m9)(D),kr.credential(d,g))}function Os(D,d,g){return ks.apply(this,arguments)}function ks(){return ks=(0,p.Z)(function*(D,d,g){var T;const q=fr(D),ue={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Ze(wt,en){Ee(en.handleCodeInApp,q,"argument-error"),en&&Re(q,wt,en)}if(null!==(T=q._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const wt=yield Yr(q,ue,"getOobCode",!0);Ze(wt,g),yield Tt(q,wt)}else Ze(ue,g),yield Tt(q,ue).catch(function(){var wt=(0,p.Z)(function*(en){if("auth/missing-recaptcha-token"!==en.code)return Promise.reject(en);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const In=yield Yr(q,ue,"getOobCode",!0);Ze(In,g),yield Tt(q,In)}});return function(en){return wt.apply(this,arguments)}}())}),ks.apply(this,arguments)}function Oo(D,d){return"EMAIL_SIGNIN"===Ss.parseLink(d)?.operation}function jo(D,d,g){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,p.Z)(function*(D,d,g){const T=(0,Z.m9)(D),q=kr.credentialWithLink(d,g||bt());return Ee(q._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Wn(T,q)})).apply(this,arguments)}function no(){return(no=(0,p.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:createAuthUri",Oe(D,d))})).apply(this,arguments)}function sa(D,d){return oa.apply(this,arguments)}function oa(){return oa=(0,p.Z)(function*(D,d){const T={identifier:d,continueUri:gn()?bt():"http://localhost"},{signinMethods:q}=yield function ia(D,d){return no.apply(this,arguments)}((0,Z.m9)(D),T);return q||[]}),oa.apply(this,arguments)}function Qo(D,d){return ko.apply(this,arguments)}function ko(){return ko=(0,p.Z)(function*(D,d){const g=(0,Z.m9)(D),q={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};d&&Re(g.auth,q,d);const{email:ue}=yield function qi(D,d){return Ge.apply(this,arguments)}(g.auth,q);ue!==D.email&&(yield D.reload())}),ko.apply(this,arguments)}function _a(D,d,g){return vs.apply(this,arguments)}function vs(){return vs=(0,p.Z)(function*(D,d,g){const T=(0,Z.m9)(D),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:d};g&&Re(T.auth,ue,g);const{email:Ze}=yield function Bn(D,d){return jn.apply(this,arguments)}(T.auth,ue);Ze!==D.email&&(yield D.reload())}),vs.apply(this,arguments)}function Ea(){return(Ea=(0,p.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ba(D,d){return wa.apply(this,arguments)}function wa(){return wa=(0,p.Z)(function*(D,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const T=(0,Z.m9)(D),ue={idToken:yield T.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},Ze=yield An(T,function va(D,d){return Ea.apply(this,arguments)}(T.auth,ue));T.displayName=Ze.displayName||null,T.photoURL=Ze.photoUrl||null;const wt=T.providerData.find(({providerId:en})=>"password"===en);wt&&(wt.displayName=T.displayName,wt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Ze)}),wa.apply(this,arguments)}function fa(D,d){return _o((0,Z.m9)(D),d,null)}function ri(D,d){return _o((0,Z.m9)(D),null,d)}function _o(D,d,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,p.Z)(function*(D,d,g){const{auth:T}=D,ue={idToken:yield D.getIdToken(),returnSecureToken:!0};d&&(ue.email=d),g&&(ue.password=g);const Ze=yield An(D,cr(T,ue));yield D._updateTokensIfNecessary(Ze,!0)})).apply(this,arguments)}class ua{constructor(d,g,T={}){this.isNewUser=d,this.providerId=g,this.profile=T}}class zs extends ua{constructor(d,g,T,q){super(d,g,T),this.username=q}}class nu extends ua{constructor(d,g){super(d,"facebook.com",g)}}class ei extends zs{constructor(d,g){super(d,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Mu extends ua{constructor(d,g){super(d,"google.com",g)}}class la extends zs{constructor(d,g,T){super(d,"twitter.com",g,T)}}function vo(D){const{user:d,_tokenResponse:g}=D;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function aa(D){var d,g;if(!D)return null;const{providerId:T}=D,q=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},ue=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!T&&D?.idToken){const Ze=null===(g=null===(d=ci(D.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ze)return new ua(ue,"anonymous"!==Ze&&"custom"!==Ze?Ze:null)}if(!T)return null;switch(T){case"facebook.com":return new nu(ue,q);case"github.com":return new ei(ue,q);case"google.com":return new Mu(ue,q);case"twitter.com":return new la(ue,q,D.screenName||null);case"custom":case"anonymous":return new ua(ue,null);default:return new ua(ue,T,q)}}(g)}class N{constructor(d,g,T){this.type=d,this.credential=g,this.auth=T}static _fromIdtoken(d,g){return new N("enroll",d,g)}static _fromMfaPendingCredential(d){return new N("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,T;if(d?.multiFactorSession){if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.pendingCredential)return N._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(T=d.multiFactorSession)&&void 0!==T&&T.idToken)return N._fromIdtoken(d.multiFactorSession.idToken)}return null}}class W{constructor(d,g,T){this.session=d,this.hints=g,this.signInResolver=T}static _fromError(d,g){const T=fr(d),q=g.customData._serverResponse,ue=(q.mfaInfo||[]).map(wt=>C._fromServerResponse(T,wt));Ee(q.mfaPendingCredential,T,"internal-error");const Ze=N._fromMfaPendingCredential(q.mfaPendingCredential);return new W(Ze,ue,function(){var wt=(0,p.Z)(function*(en){const In=yield en._process(T,Ze);delete q.mfaInfo,delete q.mfaPendingCredential;const Hn=Object.assign(Object.assign({},q),{idToken:In.idToken,refreshToken:In.refreshToken});switch(g.operationType){case"signIn":const Mr=yield $r._fromIdTokenResponse(T,g.operationType,Hn);return yield T._updateCurrentUser(Mr.user),Mr;case"reauthenticate":return Ee(g.user,T,"internal-error"),$r._forOperation(g.user,g.operationType,Hn);default:We(T,"internal-error")}});return function(en){return wt.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,p.Z)(function*(){return g.signInResolver(d)})()}}function ne(D,d){var g;const T=(0,Z.m9)(D),q=d;return Ee(d.customData.operationType,T,"argument-error"),Ee(null===(g=q.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,T,"argument-error"),W._fromError(T,q)}class fn{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(T=>C._fromServerResponse(d.auth,T)))})}static _fromUser(d){return new fn(d)}getSession(){var d=this;return(0,p.Z)(function*(){return N._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,g){var T=this;return(0,p.Z)(function*(){const q=d,ue=yield T.getSession(),Ze=yield An(T.user,q._process(T.user.auth,ue,g));return yield T.user._updateTokensIfNecessary(Ze),T.user.reload()})()}unenroll(d){var g=this;return(0,p.Z)(function*(){const T="string"==typeof d?d:d.uid,q=yield g.user.getIdToken();try{const ue=yield An(g.user,function Yt(D,d){return ut(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Oe(D,d))}(g.user.auth,{idToken:q,mfaEnrollmentId:T}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ze})=>Ze!==T),yield g.user._updateTokensIfNecessary(ue),yield g.user.reload()}catch(ue){throw ue}})()}}const $n=new WeakMap;function Yn(D){const d=(0,Z.m9)(D);return $n.has(d)||$n.set(d,fn._fromUser(d)),$n.get(d)}const Rn="__sak";class Kn{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Rn,"1"),this.storage.removeItem(Rn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ei=(()=>{class D extends Kn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,T)=>this.onStorageEvent(g,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ti(){const D=(0,Z.z$)();return ce(D)||Se(D)}()&&function ir(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const T of Object.keys(this.listeners)){const q=this.storage.getItem(T),ue=this.localCache[T];q!==ue&&g(T,ue,q)}}onStorageEvent(g,T=!1){if(!g.key)return void this.forAllChangedKeys((wt,en,In)=>{this.notifyListeners(wt,In)});const q=g.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const wt=this.storage.getItem(q);if(g.newValue!==wt)null!==g.newValue?this.storage.setItem(q,g.newValue):this.storage.removeItem(q);else if(this.localCache[q]===g.newValue&&!T)return}const ue=()=>{const wt=this.storage.getItem(q);!T&&this.localCache[q]===wt||this.notifyListeners(q,wt)},Ze=this.storage.getItem(q);!function dn(){return(0,Z.w1)()&&10===document.documentMode}()||Ze===g.newValue||g.newValue===g.oldValue?ue():setTimeout(ue,10)}notifyListeners(g,T){this.localCache[g]=T;const q=this.listeners[g];if(q)for(const ue of Array.from(q))ue(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,T,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:T,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,T){var q=()=>super._set,ue=this;return(0,p.Z)(function*(){yield q().call(ue,g,T),ue.localCache[g]=JSON.stringify(T)})()}_get(g){var T=()=>super._get,q=this;return(0,p.Z)(function*(){const ue=yield T().call(q,g);return q.localCache[g]=JSON.stringify(ue),ue})()}_remove(g){var T=()=>super._remove,q=this;return(0,p.Z)(function*(){yield T().call(q,g),delete q.localCache[g]})()}}return D.type="LOCAL",D})(),zi=(()=>{class D extends Kn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,T){}_removeListener(g,T){}}return D.type="SESSION",D})();let Ut=(()=>{class D{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const T=this.receivers.find(ue=>ue.isListeningto(g));if(T)return T;const q=new D(g);return this.receivers.push(q),q}isListeningto(g){return this.eventTarget===g}handleEvent(g){var T=this;return(0,p.Z)(function*(){const q=g,{eventId:ue,eventType:Ze,data:wt}=q.data,en=T.handlersMap[Ze];if(!en?.size)return;q.ports[0].postMessage({status:"ack",eventId:ue,eventType:Ze});const In=Array.from(en).map(function(){var Mr=(0,p.Z)(function*(Go){return Go(q.origin,wt)});return function(Go){return Mr.apply(this,arguments)}}()),Hn=yield function Fs(D){return Promise.all(D.map(function(){var d=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(T){return{fulfilled:!1,reason:T}}});return function(g){return d.apply(this,arguments)}}()))}(In);q.ports[0].postMessage({status:"done",eventId:ue,eventType:Ze,response:Hn})})()}_subscribe(g,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(T)}_unsubscribe(g,T){this.handlersMap[g]&&T&&this.handlersMap[g].delete(T),(!T||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Pr(D="",d=10){let g="";for(let T=0;T<d;T++)g+=Math.floor(10*Math.random());return D+g}class ts{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,T=50){var q=this;return(0,p.Z)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let Ze,wt;return new Promise((en,In)=>{const Hn=Pr("",20);ue.port1.start();const Mr=setTimeout(()=>{In(new Error("unsupported_event"))},T);wt={messageChannel:ue,onMessage(Go){const Fo=Go;if(Fo.data.eventId===Hn)switch(Fo.data.status){case"ack":clearTimeout(Mr),Ze=setTimeout(()=>{In(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ze),en(Fo.data.response);break;default:clearTimeout(Mr),clearTimeout(Ze),In(new Error("invalid_response"))}}},q.handlers.add(wt),ue.port1.addEventListener("message",wt.onMessage),q.target.postMessage({eventType:d,eventId:Hn,data:g},[ue.port2])}).finally(()=>{wt&&q.removeMessageHandler(wt)})})()}}function ki(){return window}function Sn(){return typeof ki().WorkerGlobalScope<"u"&&"function"==typeof ki().importScripts}function pn(){return(pn=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const on="firebaseLocalStorageDb",Vr=1,yr="firebaseLocalStorage",Eo="fbase_key";class ns{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Fi(D,d){return D.transaction([yr],d?"readwrite":"readonly").objectStore(yr)}function $o(){const D=indexedDB.open(on,Vr);return new Promise((d,g)=>{D.addEventListener("error",()=>{g(D.error)}),D.addEventListener("upgradeneeded",()=>{const T=D.result;try{T.createObjectStore(yr,{keyPath:Eo})}catch(q){g(q)}}),D.addEventListener("success",(0,p.Z)(function*(){const T=D.result;T.objectStoreNames.contains(yr)?d(T):(T.close(),yield function mi(){const D=indexedDB.deleteDatabase(on);return new ns(D).toPromise()}(),d(yield $o()))}))})}function pu(D,d,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,p.Z)(function*(D,d,g){const T=Fi(D,!0).put({[Eo]:d,value:g});return new ns(T).toPromise()})).apply(this,arguments)}function rs(){return(rs=(0,p.Z)(function*(D,d){const g=Fi(D,!1).get(d),T=yield new ns(g).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Jn(D,d){const g=Fi(D,!0).delete(d);return new ns(g).toPromise()}const Nn=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield $o()),g.db})()}_withRetries(g){var T=this;return(0,p.Z)(function*(){let q=0;for(;;)try{const ue=yield T._openDb();return yield g(ue)}catch(ue){if(q++>3)throw ue;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return Sn()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=Ut._getInstance(function at(){return Sn()?self:null}()),g.receiver._subscribe("keyChanged",function(){var T=(0,p.Z)(function*(q,ue){return{keyProcessed:(yield g._poll()).includes(ue.key)}});return function(q,ue){return T.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var T=(0,p.Z)(function*(q,ue){return["keyChanged"]});return function(q,ue){return T.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var T,q;if(g.activeServiceWorker=yield function Ia(){return pn.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ts(g.activeServiceWorker);const ue=yield g.sender._send("ping",{},800);ue&&null!==(T=ue[0])&&void 0!==T&&T.fulfilled&&null!==(q=ue[0])&&void 0!==q&&q.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var T=this;return(0,p.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function ze(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:g},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield $o();return yield pu(g,Rn,"1"),yield Jn(g,Rn),!0}catch{}return!1})()}_withPendingWrite(g){var T=this;return(0,p.Z)(function*(){T.pendingWrites++;try{yield g()}finally{T.pendingWrites--}})()}_set(g,T){var q=this;return(0,p.Z)(function*(){return q._withPendingWrite((0,p.Z)(function*(){return yield q._withRetries(ue=>pu(ue,g,T)),q.localCache[g]=T,q.notifyServiceWorker(g)}))})()}_get(g){var T=this;return(0,p.Z)(function*(){const q=yield T._withRetries(ue=>function io(D,d){return rs.apply(this,arguments)}(ue,g));return T.localCache[g]=q,q})()}_remove(g){var T=this;return(0,p.Z)(function*(){return T._withPendingWrite((0,p.Z)(function*(){return yield T._withRetries(q=>Jn(q,g)),delete T.localCache[g],T.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const T=yield g._withRetries(Ze=>{const wt=Fi(Ze,!1).getAll();return new ns(wt).toPromise()});if(!T)return[];if(0!==g.pendingWrites)return[];const q=[],ue=new Set;for(const{fbase_key:Ze,value:wt}of T)ue.add(Ze),JSON.stringify(g.localCache[Ze])!==JSON.stringify(wt)&&(g.notifyListeners(Ze,wt),q.push(Ze));for(const Ze of Object.keys(g.localCache))g.localCache[Ze]&&!ue.has(Ze)&&(g.notifyListeners(Ze,null),q.push(Ze));return q})()}notifyListeners(g,T){this.localCache[g]=T;const q=this.listeners[g];if(q)for(const ue of Array.from(q))ue(T)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})(),$a=1e12;class Ru{constructor(d){this.auth=d,this.counter=$a,this._widgets=new Map}render(d,g){const T=this.counter;return this._widgets.set(T,new Ha(d,this.auth.name,g||{})),this.counter++,T}reset(d){var g;const T=d||$a;null===(g=this._widgets.get(T))||void 0===g||g.delete(),this._widgets.delete(T)}getResponse(d){var g;return(null===(g=this._widgets.get(d||$a))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,p.Z)(function*(){var T;return null===(T=g._widgets.get(d||$a))||void 0===T||T.execute(),""})()}}class Ha{constructor(d,g,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof d?document.getElementById(d):d;Ee(q,"argument-error",{appName:g}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Tl(D){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<D;T++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ga=Sr("rcb"),Id=new Fn(3e4,6e4);class ba{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=ki().grecaptcha)||void 0===d||!d.render)}load(d,g=""){return Ee(function Sl(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(g),d,"argument-error"),this.shouldResolveImmediately(g)&&_n(ki().grecaptcha)?Promise.resolve(ki().grecaptcha):new Promise((T,q)=>{const ue=ki().setTimeout(()=>{q(fe(d,"network-request-failed"))},Id.get());ki()[ga]=()=>{ki().clearTimeout(ue),delete ki()[ga];const wt=ki().grecaptcha;if(!wt||!_n(wt))return void q(fe(d,"internal-error"));const en=wt.render;wt.render=(In,Hn)=>{const Mr=en(In,Hn);return this.counter++,Mr},this.hostLanguage=g,T(wt)},Gn(`https://www.google.com/recaptcha/api.js??${(0,Z.xO)({onload:ga,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ue),q(fe(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var g;return!(null===(g=ki().grecaptcha)||void 0===g||!g.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Co{load(d){return(0,p.Z)(function*(){return new Ru(d)})()}clearedOneInstance(){}}const ss="recaptcha",za={theme:"light",type:"image"};class Ga{constructor(d,g=Object.assign({},za),T){this.parameters=g,this.type=ss,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(T),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof d?document.getElementById(d):d;Ee(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Co:new ba,this.validateStartingState()}verify(){var d=this;return(0,p.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),T=d.getAssertedRecaptcha();return T.getResponse(g)||new Promise(ue=>{const Ze=wt=>{wt&&(d.tokenChangeListeners.delete(Ze),ue(wt))};d.tokenChangeListeners.add(Ze),d.isInvisible&&T.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(T=>T(g)),"function"==typeof d)d(g);else if("string"==typeof d){const T=ki()[d];"function"==typeof T&&T(g)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,p.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const T=document.createElement("div");g.appendChild(T),g=T}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,p.Z)(function*(){Ee(gn()&&!Sn(),d.auth,"internal-error"),yield function ca(){let D=null;return new Promise(d=>{"complete"!==document.readyState?(D=()=>d(),window.addEventListener("load",D)):d()}).catch(d=>{throw D&&window.removeEventListener("load",D),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function pt(D){return it.apply(this,arguments)}(d.auth);Ee(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class so{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=ji._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function lt(D,d,g){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,p.Z)(function*(D,d,g){const T=fr(D),q=yield R(T,d,(0,Z.m9)(g));return new so(q,ue=>Wn(T,ue))})).apply(this,arguments)}function wo(D,d,g){return E.apply(this,arguments)}function E(){return(E=(0,p.Z)(function*(D,d,g){const T=(0,Z.m9)(D);yield Ps(!1,T,"phone");const q=yield R(T.auth,d,(0,Z.m9)(g));return new so(q,ue=>to(T,ue))})).apply(this,arguments)}function I(D,d,g){return y.apply(this,arguments)}function y(){return(y=(0,p.Z)(function*(D,d,g){const T=(0,Z.m9)(D),q=yield R(T.auth,d,(0,Z.m9)(g));return new so(q,ue=>Hi(T,ue))})).apply(this,arguments)}function R(D,d,g){return U.apply(this,arguments)}function U(){return U=(0,p.Z)(function*(D,d,g){var T;const q=yield g.verify();try{let ue;if(Ee("string"==typeof q,D,"argument-error"),Ee(g.type===ss,D,"argument-error"),ue="string"==typeof d?{phoneNumber:d}:d,"session"in ue){const Ze=ue.session;if("phoneNumber"in ue)return Ee("enroll"===Ze.type,D,"internal-error"),(yield function Ce(D,d){return ut(D,"POST","/v2/accounts/mfaEnrollment:start",Oe(D,d))}(D,{idToken:Ze.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{Ee("signin"===Ze.type,D,"internal-error");const wt=(null===(T=ue.multiFactorHint)||void 0===T?void 0:T.uid)||ue.multiFactorUid;return Ee(wt,D,"missing-multi-factor-info"),(yield function pa(D,d){return ut(D,"POST","/v2/accounts/mfaSignIn:start",Oe(D,d))}(D,{mfaPendingCredential:Ze.credential,mfaEnrollmentId:wt,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ze}=yield function fo(D,d){return Bs.apply(this,arguments)}(D,{phoneNumber:ue.phoneNumber,recaptchaToken:q});return Ze}}finally{g._reset()}}),U.apply(this,arguments)}function X(D,d){return ae.apply(this,arguments)}function ae(){return(ae=(0,p.Z)(function*(D,d){yield fi((0,Z.m9)(D),d)})).apply(this,arguments)}let Xe=(()=>{class D{constructor(g){this.providerId=D.PROVIDER_ID,this.auth=fr(g)}verifyPhoneNumber(g,T){return R(this.auth,g,(0,Z.m9)(T))}static credential(g,T){return ji._fromVerification(g,T)}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:T,temporaryProof:q}=g;return T&&q?ji._fromTokenResponse(T,q):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Pt(D,d){return d?Tr(d):(Ee(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class nn extends Mi{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Ts(d,this._buildIdpRequest())}_linkToIdToken(d,g){return Ts(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return Ts(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function mn(D){return Ns(D.auth,new nn(D),D.bypassAuthState)}function zr(D){const{auth:d,user:g}=D;return Ee(g,d,"internal-error"),Io(g,new nn(D),D.bypassAuthState)}function Es(D){return Si.apply(this,arguments)}function Si(){return(Si=(0,p.Z)(function*(D){const{auth:d,user:g}=D;return Ee(g,d,"internal-error"),fi(g,new nn(D),D.bypassAuthState)})).apply(this,arguments)}class Xo{constructor(d,g,T,q,ue=!1){this.auth=d,this.resolver=T,this.user=q,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,p.Z)(function*(T,q){d.pendingPromise={resolve:T,reject:q};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ue){d.reject(ue)}});return function(T,q){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,p.Z)(function*(){const{urlResponse:T,sessionId:q,postBody:ue,tenantId:Ze,error:wt,type:en}=d;if(wt)return void g.reject(wt);const In={auth:g.auth,requestUri:T,sessionId:q,tenantId:Ze||void 0,postBody:ue||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(en)(In))}catch(Hn){g.reject(Hn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return mn;case"linkViaPopup":case"linkViaRedirect":return Es;case"reauthViaPopup":case"reauthViaRedirect":return zr;default:We(this.auth,"internal-error")}}resolve(d){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ma=new Fn(2e3,1e4);function ui(D,d,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,p.Z)(function*(D,d,g){const T=fr(D);ht(D,d,as);const q=Pt(T,g);return new Al(T,"signInViaPopup",d,q).executeNotNull()})).apply(this,arguments)}function xa(D,d,g){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,p.Z)(function*(D,d,g){const T=(0,Z.m9)(D);ht(T.auth,d,as);const q=Pt(T.auth,g);return new Al(T.auth,"reauthViaPopup",d,q,T).executeNotNull()})).apply(this,arguments)}function wc(D,d,g){return gu.apply(this,arguments)}function gu(){return(gu=(0,p.Z)(function*(D,d,g){const T=(0,Z.m9)(D);ht(T.auth,d,as);const q=Pt(T.auth,g);return new Al(T.auth,"linkViaPopup",d,q,T).executeNotNull()})).apply(this,arguments)}let Al=(()=>{class D extends Xo{constructor(g,T,q,ue,Ze){super(g,T,ue,Ze),this.provider=q,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const T=yield g.execute();return Ee(T,g.auth,"internal-error"),T})()}onExecution(){var g=this;return(0,p.Z)(function*(){xt(1===g.filter.length,"Popup operations only handle one event");const T=Pr();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],T),g.authWindow.associatedEvent=T,g.resolver._originValidation(g.auth).catch(q=>{g.reject(q)}),g.resolver._isIframeWebStorageSupported(g.auth,q=>{q||g.reject(fe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const g=()=>{var T,q;this.pollId=null!==(q=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(fe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,ma.get())};g()}}return D.currentPopupAction=null,D})();const Dc="pendingRedirect",ya=new Map;class Ml extends Xo{constructor(d,g,T=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,T),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,p.Z)(function*(){let T=ya.get(g.auth._key());if(!T){try{const ue=(yield function bd(D,d){return xu.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;T=()=>Promise.resolve(ue)}catch(q){T=()=>Promise.reject(q)}ya.set(g.auth._key(),T)}return g.bypassAuthState||ya.set(g.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,T=this;return(0,p.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(T,d);if("unknown"!==d.type){if(d.eventId){const q=yield T.auth._redirectUserForId(d.eventId);if(q)return T.user=q,g().call(T,d);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function xu(){return(xu=(0,p.Z)(function*(D,d){const g=bc(d),T=Td(D);if(!(yield T._isAvailable()))return!1;const q="true"===(yield T._get(g));return yield T._remove(g),q})).apply(this,arguments)}function Ic(D,d){return iu.apply(this,arguments)}function iu(){return(iu=(0,p.Z)(function*(D,d){return Td(D)._set(bc(d),"true")})).apply(this,arguments)}function tl(){ya.clear()}function Cd(D,d){ya.set(D._key(),d)}function Td(D){return Tr(D._redirectPersistence)}function bc(D){return mr(Dc,D.config.apiKey,D.name)}function Cc(D,d,g){return function Tc(D,d,g){return Rl.apply(this,arguments)}(D,d,g)}function Rl(){return(Rl=(0,p.Z)(function*(D,d,g){const T=fr(D);ht(D,d,as),yield T._initializationPromise;const q=Pt(T,g);return yield Ic(q,T),q._openRedirect(T,d,"signInViaRedirect")})).apply(this,arguments)}function Sc(D,d,g){return function Ac(D,d,g){return mu.apply(this,arguments)}(D,d,g)}function mu(){return(mu=(0,p.Z)(function*(D,d,g){const T=(0,Z.m9)(D);ht(T.auth,d,as),yield T.auth._initializationPromise;const q=Pt(T.auth,g);yield Ic(q,T.auth);const ue=yield Ls(T);return q._openRedirect(T.auth,d,"reauthViaRedirect",ue)})).apply(this,arguments)}function Pu(D,d,g){return function oo(D,d,g){return Nu.apply(this,arguments)}(D,d,g)}function Nu(){return(Nu=(0,p.Z)(function*(D,d,g){const T=(0,Z.m9)(D);ht(T.auth,d,as),yield T.auth._initializationPromise;const q=Pt(T.auth,g);yield Ps(!1,T,d.providerId),yield Ic(q,T.auth);const ue=yield Ls(T);return q._openRedirect(T.auth,d,"linkViaRedirect",ue)})).apply(this,arguments)}function Pa(D,d){return su.apply(this,arguments)}function su(){return(su=(0,p.Z)(function*(D,d){return yield fr(D)._initializationPromise,xi(D,d,!1)})).apply(this,arguments)}function xi(D,d){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,p.Z)(function*(D,d,g=!1){const T=fr(D),q=Pt(T,d),Ze=yield new Ml(T,q,g).execute();return Ze&&!g&&(delete Ze.user._redirectEventId,yield T._persistUserIfCurrent(Ze.user),yield T._setRedirectUser(null,d)),Ze})).apply(this,arguments)}function Ls(D){return Di.apply(this,arguments)}function Di(){return(Di=(0,p.Z)(function*(D){const d=Pr(`${D.uid}:::`);return D._redirectEventId=d,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),d})).apply(this,arguments)}class Ou{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(d,T)&&(g=!0,this.sendToConsumer(d,T),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function vh(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sd(D);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var T;if(d.error&&!Sd(d)){const q=(null===(T=d.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";g.onError(fe(this.auth,q))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const T=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&T}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(To(d))}saveEventToCache(d){this.cachedEventUids.add(To(d)),this.lastProcessedEventTime=Date.now()}}function To(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(d=>d).join("-")}function Sd({type:D,error:d}){return"unknown"===D&&"auth/no-auth-event"===d?.code}function Gs(D){return ou.apply(this,arguments)}function ou(){return(ou=(0,p.Z)(function*(D,d={}){return ut(D,"GET","/v1/projects",d)})).apply(this,arguments)}const Ka=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ws=/^https?/;function Ho(){return(Ho=(0,p.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:d}=yield Gs(D);for(const g of d)try{if(ku(g))return}catch{}We(D,"unauthorized-domain")})).apply(this,arguments)}function ku(D){const d=bt(),{protocol:g,hostname:T}=new URL(d);if(D.startsWith("chrome-extension://")){const Ze=new URL(D);return""===Ze.hostname&&""===T?"chrome-extension:"===g&&D.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&Ze.hostname===T}if(!ws.test(g))return!1;if(Ka.test(D))return T===D;const q=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(T)}const da=new Fn(3e4,6e4);function Pl(){const D=ki().___jsl;if(D?.H)for(const d of Object.keys(D.H))if(D.H[d].r=D.H[d].r||[],D.H[d].L=D.H[d].L||[],D.H[d].r=[...D.H[d].L],D.CP)for(let g=0;g<D.CP.length;g++)D.CP[g]=null}let ha=null;const qa=new Fn(5e3,15e3),Aa="__/auth/iframe",b="emulator/auth/iframe",O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function me(D){const d=D.config;Ee(d.authDomain,D,"auth-domain-config-required");const g=d.emulator?Zt(d,b):`https://${D.config.authDomain}/${Aa}`,T={apiKey:d.apiKey,appName:D.name,v:K.SDK_VERSION},q=Y.get(D.config.apiHost);q&&(T.eid=q);const ue=D._getFrameworks();return ue.length&&(T.fw=ue.join(",")),`${g}?${(0,Z.xO)(T).slice(1)}`}function Je(){return Je=(0,p.Z)(function*(D){const d=yield function nl(D){return ha=ha||function So(D){return new Promise((d,g)=>{var T,q,ue;function Ze(){Pl(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Pl(),g(fe(D,"network-request-failed"))},timeout:da.get()})}if(null!==(q=null===(T=ki().gapi)||void 0===T?void 0:T.iframes)&&void 0!==q&&q.Iframe)d(gapi.iframes.getContext());else{if(null===(ue=ki().gapi)||void 0===ue||!ue.load){const wt=Sr("iframefcb");return ki()[wt]=()=>{gapi.load?Ze():g(fe(D,"network-request-failed"))},Gn(`https://apis.google.com/js/api.js?onload=${wt}`).catch(en=>g(en))}Ze()}}).catch(d=>{throw ha=null,d})}(D),ha}(D),g=ki().gapi;return Ee(g,D,"internal-error"),d.open({where:document.body,url:me(D),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O,dontclear:!0},T=>new Promise(function(){var q=(0,p.Z)(function*(ue,Ze){yield T.restyle({setHideOnLeave:!1});const wt=fe(D,"network-request-failed"),en=ki().setTimeout(()=>{Ze(wt)},qa.get());function In(){ki().clearTimeout(en),ue(T)}T.ping(In).then(In,()=>{Ze(wt)})});return function(ue,Ze){return q.apply(this,arguments)}}()))}),Je.apply(this,arguments)}const Ct={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xt=500,sn=600,On="_blank",dr="http://localhost";class kn{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fu="__/auth/handler",Nl="emulator/auth/handler",au=encodeURIComponent("fac");function zo(D,d,g,T,q,ue){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,p.Z)(function*(D,d,g,T,q,ue){Ee(D.config.authDomain,D,"auth-domain-config-required"),Ee(D.config.apiKey,D,"invalid-api-key");const Ze={apiKey:D.config.apiKey,appName:D.name,authType:g,redirectUrl:T,v:K.SDK_VERSION,eventId:q};if(d instanceof as){d.setDefaultLanguage(D.languageCode),Ze.providerId=d.providerId||"",(0,Z.xb)(d.getCustomParameters())||(Ze.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Hn,Mr]of Object.entries(ue||{}))Ze[Hn]=Mr}if(d instanceof $s){const Hn=d.getScopes().filter(Mr=>""!==Mr);Hn.length>0&&(Ze.scopes=Hn.join(","))}D.tenantId&&(Ze.tid=D.tenantId);const wt=Ze;for(const Hn of Object.keys(wt))void 0===wt[Hn]&&delete wt[Hn];const en=yield D._getAppCheckToken(),In=en?`#${au}=${encodeURIComponent(en)}`:"";return`${function Ol({config:D}){return D.emulator?Zt(D,Nl):`https://${D.authDomain}/${Fu}`}(D)}?${(0,Z.xO)(wt).slice(1)}${In}`})).apply(this,arguments)}const Yi="webStorageSupport",Ad=class yu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zi,this._completeRedirectFn=xi,this._overrideRedirectResult=Cd}_openPopup(d,g,T,q){var ue=this;return(0,p.Z)(function*(){var Ze;xt(null===(Ze=ue.eventManagers[d._key()])||void 0===Ze?void 0:Ze.manager,"_initialize() not called before _openPopup()");const wt=yield zo(d,g,T,bt(),q);return function Vs(D,d,g,T=Xt,q=sn){const ue=Math.max((window.screen.availHeight-q)/2,0).toString(),Ze=Math.max((window.screen.availWidth-T)/2,0).toString();let wt="";const en=Object.assign(Object.assign({},Ct),{width:T.toString(),height:q.toString(),top:ue,left:Ze}),In=(0,Z.z$)().toLowerCase();g&&(wt=ee(In)?On:g),ie(In)&&(d=d||dr,en.scrollbars="yes");const Hn=Object.entries(en).reduce((Go,[Fo,Vl])=>`${Go}${Fo}=${Vl},`,"");if(function At(D=(0,Z.z$)()){var d;return Se(D)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(In)&&"_self"!==wt)return function Ws(D,d){const g=document.createElement("a");g.href=D,g.target=d;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(T)}(d||"",wt),new kn(null);const Mr=window.open(d||"",wt,Hn);Ee(Mr,D,"popup-blocked");try{Mr.focus()}catch{}return new kn(Mr)}(d,wt,Pr())})()}_openRedirect(d,g,T,q){var ue=this;return(0,p.Z)(function*(){return yield ue._originValidation(d),function qt(D){ki().location.href=D}(yield zo(d,g,T,bt(),q)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:q,promise:ue}=this.eventManagers[g];return q?Promise.resolve(q):(xt(ue,"If manager is not set, promise should be"),ue)}const T=this.initAndGetManager(d);return this.eventManagers[g]={promise:T},T.catch(()=>{delete this.eventManagers[g]}),T}initAndGetManager(d){var g=this;return(0,p.Z)(function*(){const T=yield function $e(D){return Je.apply(this,arguments)}(d),q=new Ou(d);return T.register("authEvent",ue=>(Ee(ue?.authEvent,d,"invalid-auth-event"),{status:q.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:q},g.iframes[d._key()]=T,q})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(Yi,{type:Yi},q=>{var ue;const Ze=null===(ue=q?.[0])||void 0===ue?void 0:ue[Yi];void 0!==Ze&&g(!!Ze),We(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Sa(D){return Ho.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return hn()||ce()||Se()}};class Mc{constructor(d){this.factorId=d}_process(d,g,T){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,T);case"signin":return this._finalizeSignIn(d,g.credential);default:return Ft("unexpected MultiFactorSessionType")}}}class Za extends Mc{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Za(d)}_finalizeEnroll(d,g,T){return function Te(D,d){return ut(D,"POST","/v2/accounts/mfaEnrollment:finalize",Oe(D,d))}(d,{idToken:g,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function Ar(D,d){return ut(D,"POST","/v2/accounts/mfaSignIn:finalize",Oe(D,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kf=(()=>{class D{constructor(){}static assertion(g){return Za._fromCredential(g)}}return D.FACTOR_ID="phone",D})();var rl="@firebase/auth";class Lu{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(T=>{d(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Z.Pz)("authIdTokenMaxAge"),function Md(D){(0,K._registerComponent)(new ke.wA("auth",(d,{options:g})=>{const T=d.getProvider("app").getImmediate(),q=d.getProvider("heartbeat"),ue=d.getProvider("app-check-internal"),{apiKey:Ze,authDomain:wt}=T.options;Ee(Ze&&!Ze.includes(":"),"invalid-api-key",{appName:T.name});const en={apiKey:Ze,authDomain:wt,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ii(D)},In=new Wr(T,q,ue,en);return function bi(D,d){const g=d?.persistence||[],T=(Array.isArray(g)?g:[g]).map(Tr);d?.errorMap&&D._updateErrorMap(d.errorMap),D._initializeWithPersistence(T,d?.popupRedirectResolver)}(In,g),In},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,T)=>{d.getProvider("auth-internal").initialize()})),(0,K._registerComponent)(new ke.wA("auth-internal",d=>{const g=fr(d.getProvider("auth").getImmediate());return new Lu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,K.registerVersion)(rl,"0.23.2",function Ll(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,K.registerVersion)(rl,"0.23.2","esm2017")}("Browser")},2090:(tn,st,L)=>{L.d(st,{$s:()=>Tr,BH:()=>Ue,G6:()=>Zt,L:()=>Ve,LL:()=>mt,Pz:()=>fe,Sg:()=>ht,UG:()=>Ft,US:()=>ke,ZB:()=>xe,ZR:()=>ut,aH:()=>We,b$:()=>gn,eu:()=>ye,hl:()=>ge,jU:()=>xt,m9:()=>mr,ne:()=>An,pd:()=>ci,r3:()=>pr,ru:()=>bt,tV:()=>de,uI:()=>Ee,vZ:()=>$t,w1:()=>wr,xO:()=>Or,xb:()=>Rr,z$:()=>vt,zI:()=>Ae,zd:()=>xr});const $=function(Me){const De=[];let ie=0;for(let ce=0;ce<Me.length;ce++){let ee=Me.charCodeAt(ce);ee<128?De[ie++]=ee:ee<2048?(De[ie++]=ee>>6|192,De[ie++]=63&ee|128):55296==(64512&ee)&&ce+1<Me.length&&56320==(64512&Me.charCodeAt(ce+1))?(ee=65536+((1023&ee)<<10)+(1023&Me.charCodeAt(++ce)),De[ie++]=ee>>18|240,De[ie++]=ee>>12&63|128,De[ie++]=ee>>6&63|128,De[ie++]=63&ee|128):(De[ie++]=ee>>12|224,De[ie++]=ee>>6&63|128,De[ie++]=63&ee|128)}return De},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Me,De){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let ee=0;ee<Me.length;ee+=3){const Fe=Me[ee],pe=ee+1<Me.length,_e=pe?Me[ee+1]:0,le=ee+2<Me.length,Se=le?Me[ee+2]:0;let dn=(15&_e)<<2|Se>>6,hn=63&Se;le||(hn=64,pe||(dn=64)),ce.push(ie[Fe>>2],ie[(3&Fe)<<4|_e>>4],ie[dn],ie[hn])}return ce.join("")},encodeString(Me,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(Me):this.encodeByteArray($(Me),De)},decodeString(Me,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(Me):function(Me){const De=[];let ie=0,ce=0;for(;ie<Me.length;){const ee=Me[ie++];if(ee<128)De[ce++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Fe=Me[ie++];De[ce++]=String.fromCharCode((31&ee)<<6|63&Fe)}else if(ee>239&&ee<365){const le=((7&ee)<<18|(63&Me[ie++])<<12|(63&Me[ie++])<<6|63&Me[ie++])-65536;De[ce++]=String.fromCharCode(55296+(le>>10)),De[ce++]=String.fromCharCode(56320+(1023&le))}else{const Fe=Me[ie++],pe=Me[ie++];De[ce++]=String.fromCharCode((15&ee)<<12|(63&Fe)<<6|63&pe)}}return De.join("")}(this.decodeStringToByteArray(Me,De))},decodeStringToByteArray(Me,De){this.init_();const ie=De?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let ee=0;ee<Me.length;){const Fe=ie[Me.charAt(ee++)],_e=ee<Me.length?ie[Me.charAt(ee)]:0;++ee;const Se=ee<Me.length?ie[Me.charAt(ee)]:64;++ee;const At=ee<Me.length?ie[Me.charAt(ee)]:64;if(++ee,null==Fe||null==_e||null==Se||null==At)throw new Ye;ce.push(Fe<<2|_e>>4),64!==Se&&(ce.push(_e<<4&240|Se>>2),64!==At&&ce.push(Se<<6&192|At))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}};class Ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(Me){return function(Me){const De=$(Me);return ke.encodeByteArray(De,!0)}(Me).replace(/\./g,"")},de=function(Me){try{return ke.decodeString(Me,!0)}catch(De){console.error("base64Decode failed: ",De)}return null};function xe(Me,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===Me&&(Me={});break;case Array:Me=[];break;default:return De}for(const ie in De)!De.hasOwnProperty(ie)||!Et(ie)||(Me[ie]=xe(Me[ie],De[ie]));return Me}function Et(Me){return"__proto__"!==Me}const dt=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Me=process.env.__FIREBASE_DEFAULTS__;return Me?JSON.parse(Me):void 0})()||(()=>{if(typeof document>"u")return;let Me;try{Me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const De=Me&&de(Me[1]);return De&&JSON.parse(De)})()}catch(Me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Me}`)}},We=()=>{var Me;return null===(Me=dt())||void 0===Me?void 0:Me.config},fe=Me=>{var De;return null===(De=dt())||void 0===De?void 0:De[`_${Me}`]};class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((De,ie)=>{this.resolve=De,this.reject=ie})}wrapCallback(De){return(ie,ce)=>{ie?this.reject(ie):this.resolve(ce),"function"==typeof De&&(this.promise.catch(()=>{}),1===De.length?De(ie):De(ie,ce))}}}function ht(Me,De){if(Me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=De||"demo-project",ee=Me.iat||0,Fe=Me.sub||Me.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pe=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:ee,exp:ee+3600,auth_time:ee,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},Me);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(pe)),""].join(".")}function vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function Ft(){var Me;const De=null===(Me=dt())||void 0===Me?void 0:Me.forceEnvironment;if("node"===De)return!0;if("browser"===De)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function xt(){return"object"==typeof self&&self.self===self}function bt(){const Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id}function gn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function wr(){const Me=vt();return Me.indexOf("MSIE ")>=0||Me.indexOf("Trident/")>=0}function Zt(){return!Ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ge(){try{return"object"==typeof indexedDB}catch{return!1}}function ye(){return new Promise((Me,De)=>{try{let ie=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(ce);ee.onsuccess=()=>{ee.result.close(),ie||self.indexedDB.deleteDatabase(ce),Me(!0)},ee.onupgradeneeded=()=>{ie=!1},ee.onerror=()=>{var Fe;De((null===(Fe=ee.error)||void 0===Fe?void 0:Fe.message)||"")}}catch(ie){De(ie)}})}function Ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ut extends Error{constructor(De,ie,ce){super(ie),this.code=De,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt.prototype.create)}}class mt{constructor(De,ie,ce){this.service=De,this.serviceName=ie,this.errors=ce}create(De,...ie){const ce=ie[0]||{},ee=`${this.service}/${De}`,Fe=this.errors[De],pe=Fe?function Lt(Me,De){return Me.replace(Dt,(ie,ce)=>{const ee=De[ce];return null!=ee?String(ee):`<${ce}?>`})}(Fe,ce):"Error";return new ut(ee,`${this.serviceName}: ${pe} (${ee}).`,ce)}}const Dt=/\{\$([^}]+)}/g;function pr(Me,De){return Object.prototype.hasOwnProperty.call(Me,De)}function Rr(Me){for(const De in Me)if(Object.prototype.hasOwnProperty.call(Me,De))return!1;return!0}function $t(Me,De){if(Me===De)return!0;const ie=Object.keys(Me),ce=Object.keys(De);for(const ee of ie){if(!ce.includes(ee))return!1;const Fe=Me[ee],pe=De[ee];if(xn(Fe)&&xn(pe)){if(!$t(Fe,pe))return!1}else if(Fe!==pe)return!1}for(const ee of ce)if(!ie.includes(ee))return!1;return!0}function xn(Me){return null!==Me&&"object"==typeof Me}function Or(Me){const De=[];for(const[ie,ce]of Object.entries(Me))Array.isArray(ce)?ce.forEach(ee=>{De.push(encodeURIComponent(ie)+"="+encodeURIComponent(ee))}):De.push(encodeURIComponent(ie)+"="+encodeURIComponent(ce));return De.length?"&"+De.join("&"):""}function xr(Me){const De={};return Me.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[ee,Fe]=ce.split("=");De[decodeURIComponent(ee)]=decodeURIComponent(Fe)}}),De}function ci(Me){const De=Me.indexOf("?");if(!De)return"";const ie=Me.indexOf("#",De);return Me.substring(De,ie>0?ie:void 0)}function An(Me,De){const ie=new J(Me,De);return ie.subscribe.bind(ie)}class J{constructor(De,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{De(this)}).catch(ce=>{this.error(ce)})}next(De){this.forEachObserver(ie=>{ie.next(De)})}error(De){this.forEachObserver(ie=>{ie.error(De)}),this.close(De)}complete(){this.forEachObserver(De=>{De.complete()}),this.close()}subscribe(De,ie,ce){let ee;if(void 0===De&&void 0===ie&&void 0===ce)throw new Error("Missing Observer.");ee=function qe(Me,De){if("object"!=typeof Me||null===Me)return!1;for(const ie of De)if(ie in Me&&"function"==typeof Me[ie])return!0;return!1}(De,["next","error","complete"])?De:{next:De,error:ie,complete:ce},void 0===ee.next&&(ee.next=ot),void 0===ee.error&&(ee.error=ot),void 0===ee.complete&&(ee.complete=ot);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Fe}unsubscribeOne(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(De){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,De)}sendOne(De,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[De])try{ie(this.observers[De])}catch(ce){typeof console<"u"&&console.error&&console.error(ce)}})}close(De){this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ot(){}const bn=1e3,Pn=2,tr=144e5,gr=.5;function Tr(Me,De=bn,ie=Pn){const ce=De*Math.pow(ie,Me),ee=Math.round(gr*ce*(Math.random()-.5)*2);return Math.min(tr,ce+ee)}function mr(Me){return Me&&Me._delegate?Me._delegate:Me}},821:(tn,st,L)=>{L.d(st,{O:()=>de});var p=L(1389),ke=(L(2090),L(6881),L(1877),L(4859),L(4650)),Ye=L(1205),je=L(1762),Ve=L(2507);let de=(()=>{var he;class xe{constructor(He,tt,_t,Qe){this.ngZone=He,this.afAuth=tt,this.firestore=_t,this.router=Qe,this.afAuth.authState.subscribe(dt=>{dt?this.firestore.collection("users").ref.where("email","==",dt.email).onSnapshot(Ie=>{Ie.forEach(Rt=>{this.currentUser=Rt.data(),localStorage.setItem("user",JSON.stringify(this.currentUser)),JSON.parse(localStorage.getItem("user"))})}):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(He,tt){return this.afAuth.signInWithEmailAndPassword(He,tt).then(_t=>{this.firestore.collection("users").ref.where("email","==",_t.user?.email).onSnapshot(Qe=>{Qe.forEach(dt=>{console.log("userRef",dt.data()),this.currentUser=dt.data(),this.SetUserData(this.currentUser),"admin"!==this.currentUser.role?window.alert("YAA!!"):window.alert("YAHOO!!")})})}).catch(_t=>{window.alert(_t.message)})}SignUp(He,tt){return this.afAuth.createUserWithEmailAndPassword(He,tt).then(_t=>{let Qe={email:_t.user?.email,displayName:_t.user?.displayName,emailVerified:_t.user?.emailVerified,photoURL:_t.user?.photoURL,uid:_t.user?.uid,role:"user"};this.firestore.collection("users").add(Qe).then(dt=>{dt.get().then(Ie=>{console.log(Ie.data()),this.currentUser=Ie.data(),this.SetUserData(this.currentUser)}).catch(Ie=>{console.log(Ie)})})}).catch(_t=>{window.alert(_t.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(He=>He.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(He){return this.afAuth.sendPasswordResetEmail(He).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(tt=>{window.alert(tt.message)})}get isLoggedIn(){const He=JSON.parse(localStorage.getItem("user"));return null!=He&&!1!==He.emailVerified}get getRole(){let He=[];return He=JSON.parse(localStorage.getItem("user")),He.role||""}get getPhotoURL(){let He=[];return He=JSON.parse(localStorage.getItem("user")),He.photoURL}GoogleAuth(){return this.AuthLogin(new p.V).then(He=>{He&&this.router.navigate(["dashboard"])})}AuthLogin(He){return this.afAuth.signInWithPopup(He).then(tt=>{this.firestore.collection("users").ref.where("email","==",tt.user?.email).onSnapshot(_t=>{if(_t.size>0)_t.forEach(Qe=>{this.ngZone.run(()=>{this.router.navigate(["dashboard"])})});else{let Qe={email:tt.user?.email,displayName:tt.user?.displayName,emailVerified:tt.user?.emailVerified,photoURL:tt.user?.photoURL,uid:tt.user?.uid,role:"user"};this.firestore.collection("users").add(Qe).then(dt=>{dt.get().then(Ie=>{console.log(Ie.data()),this.currentUser=Ie.data(),this.SetUserData(this.currentUser)})})}})}).catch(tt=>{window.alert(tt)})}SetUserData(He){return this.firestore.doc(`users/${He.uid}`).set({uid:He.uid,email:He.email,displayName:He.displayName,photoURL:He.photoURL,emailVerified:He.emailVerified,role:He.role},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["sign-in"])})}}return(he=xe).\u0275fac=function(He){return new(He||he)(ke.LFG(ke.R0b),ke.LFG(Ye.zQ),ke.LFG(je.ST),ke.LFG(Ve.F0))},he.\u0275prov=ke.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),xe})()},4592:(tn,st,L)=>{var p=L(1481),Z=L(433),K=L(2507),$=L(4650);const ke=[{path:"dashboard",component:(()=>{var P;class m{}return(P=m).\u0275fac=function(N){return new(N||P)},P.\u0275cmp=$.Xpm({type:P,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(N,W){1&N&&($.TgZ(0,"p"),$._uU(1,"dashboard works!"),$.qZA())}}),m})()},{path:"login",loadChildren:()=>L.e(110).then(L.bind(L,1110)).then(P=>P.LoginModule)},{path:"signup",loadChildren:()=>L.e(515).then(L.bind(L,4515)).then(P=>P.SignupModule)},{path:"profile",loadChildren:()=>L.e(311).then(L.bind(L,9311)).then(P=>P.ProfileModule)},{path:"users",loadChildren:()=>Promise.all([L.e(719),L.e(453)]).then(L.bind(L,8453)).then(P=>P.UsersModule)},{path:"settings",loadChildren:()=>Promise.all([L.e(592),L.e(187)]).then(L.bind(L,187)).then(P=>P.SettingsModule)},{path:"district",loadChildren:()=>Promise.all([L.e(719),L.e(592),L.e(258)]).then(L.bind(L,4258)).then(P=>P.DistrictModule)},{path:"department",loadChildren:()=>Promise.all([L.e(719),L.e(592),L.e(505)]).then(L.bind(L,2505)).then(P=>P.DepartmentModule)},{path:"designation",loadChildren:()=>Promise.all([L.e(719),L.e(592),L.e(960)]).then(L.bind(L,4960)).then(P=>P.DesignationModule)},{path:"office",loadChildren:()=>Promise.all([L.e(719),L.e(592),L.e(303)]).then(L.bind(L,7303)).then(P=>P.OfficeModule)},{path:"idcard/:distID",loadChildren:()=>Promise.all([L.e(719),L.e(592),L.e(938)]).then(L.bind(L,938)).then(P=>P.IdDepartmentModule)},{path:"idcard",loadChildren:()=>Promise.all([L.e(719),L.e(592),L.e(842)]).then(L.bind(L,3842)).then(P=>P.IdDistrictModule)},{path:"idcard/:distID/:deptID",loadChildren:()=>Promise.all([L.e(719),L.e(592),L.e(43)]).then(L.bind(L,9043)).then(P=>P.IdOfficeModule)},{path:"idcard/:distID/:deptID/:officeID",loadChildren:()=>Promise.all([L.e(719),L.e(592),L.e(679)]).then(L.bind(L,4679)).then(P=>P.IdcardModule)},{path:"approval",loadChildren:()=>Promise.all([L.e(719),L.e(592),L.e(637)]).then(L.bind(L,9637)).then(P=>P.IdApprovalModule)},{path:"print",loadChildren:()=>Promise.all([L.e(719),L.e(592),L.e(161)]).then(L.bind(L,1161)).then(P=>P.IdPrintModule)}];let Ye=(()=>{var P;class m{}return(P=m).\u0275fac=function(N){return new(N||P)},P.\u0275mod=$.oAB({type:P}),P.\u0275inj=$.cJS({imports:[K.Bz.forRoot(ke),K.Bz]}),m})();var je=L(1607),Ve=L(821),de=L(6895);function he(P,m){if(1&P){const v=$.EpF();$.TgZ(0,"div")(1,"ul",2)(2,"li",3)(3,"a",4),$._UZ(4,"img",5),$.qZA(),$.TgZ(5,"ul",6)(6,"li")(7,"a",7),$._uU(8,"Profile"),$.qZA()(),$._UZ(9,"li",8),$.TgZ(10,"li")(11,"a",9),$.NdJ("click",function(){$.CHM(v);const W=$.oxw();return $.KtG(W.firebaseService.SignOut())}),$._uU(12,"Logout"),$.qZA()()()()()()}if(2&P){const v=$.oxw();$.xp6(4),$.Q6J("src",v.firebaseService.getPhotoURL,$.LSH)}}function xe(P,m){if(1&P){const v=$.EpF();$.TgZ(0,"ul",2)(1,"li",3)(2,"a",10),$._uU(3,"Login"),$.qZA(),$.TgZ(4,"ul",11)(5,"li")(6,"div",12)(7,"div",13),$._uU(8," Login via "),$.TgZ(9,"div",14)(10,"a",15),$.NdJ("click",function(){$.CHM(v);const W=$.oxw();return $.KtG(W.firebaseService.GoogleAuth())}),$._UZ(11,"i",16),$._uU(12," Google"),$.qZA()(),$._uU(13," or "),$.TgZ(14,"form",17)(15,"div",18)(16,"label",19),$._uU(17,"Email address"),$.qZA(),$._UZ(18,"input",20),$.qZA(),$.TgZ(19,"div",18)(20,"label",21),$._uU(21,"Password"),$.qZA(),$._UZ(22,"input",22),$.TgZ(23,"div",23)(24,"a",24),$._uU(25,"Forget the password ?"),$.qZA()()(),$.TgZ(26,"div",18)(27,"button",25),$._uU(28,"Sign in"),$.qZA()(),$.TgZ(29,"div",26)(30,"label"),$._UZ(31,"input",27),$._uU(32," keep me logged-in "),$.qZA()()()(),$.TgZ(33,"div",28),$._uU(34," New here ? "),$.TgZ(35,"a",29)(36,"b"),$._uU(37,"Join Us"),$.qZA()()()()()()()()}}let Et=(()=>{var P;class m{constructor(N,W){this.firebaseService=N,this.router=W}ngOnInit(){}}return(P=m).\u0275fac=function(N){return new(N||P)($.Y36(Ve.O),$.Y36(K.F0))},P.\u0275cmp=$.Xpm({type:P,selectors:[["app-nav-bar-profile"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["auth0Loaded",""],[1,"nav","navbar-nav","navbar-right"],[1,"dropdown","nav-item","dropstart"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","nav-link"],["id","profileImg",1,"rounded-circle",3,"src"],[1,"dropdown-menu"],["routerLink","/profile",1,"dropdown-item"],[1,"divider","dropdown-divider"],["href","#",1,"dropdown-item",3,"click"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["id","login-dp",1,"dropdown-menu"],[1,"row"],[1,"col-md-12"],[1,"social-buttons"],["href","#",1,"btn","btn-outline-success",3,"click"],[1,"fa","fa-facebook"],["role","form","method","post","action","login","accept-charset","UTF-8","id","login-nav",1,"form"],[1,"form-group"],["for","exampleInputEmail2",1,"sr-only"],["type","email","id","exampleInputEmail2","placeholder","Email address","required","",1,"form-control"],["for","exampleInputPassword2",1,"sr-only"],["type","password","id","exampleInputPassword2","placeholder","Password","required","",1,"form-control"],[1,"help-block","text-right"],["href",""],["type","submit",1,"btn","btn-primary","btn-block"],[1,"checkbox"],["type","checkbox"],[1,"bottom","text-center"],["href","#"]],template:function(N,W){if(1&N&&($.YNc(0,he,13,1,"div",0),$.YNc(1,xe,38,0,"ng-template",null,1,$.W1O)),2&N){const ne=$.MAs(2);$.Q6J("ngIf",W.firebaseService.isLoggedIn)("ngIfElse",ne)}},dependencies:[de.O5,K.rH,Z._Y,Z.JL,Z.F],styles:["#login-dp[_ngcontent-%COMP%]{min-width:250px;padding:14px 14px 0;overflow:hidden;background-color:#fff}#login-dp[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{font-size:12px}#login-dp[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{background-color:#fffc;border-top:1px solid #ddd;clear:both;padding:14px}#login-dp[_ngcontent-%COMP%]   .social-buttons[_ngcontent-%COMP%]{margin:12px;text-align:center}#login-dp[_ngcontent-%COMP%]   .social-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:49%}#login-dp[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:10px}#profileImg[_ngcontent-%COMP%]{width:30px;height:30px}@media (max-width: 768px){#login-dp[_ngcontent-%COMP%]{background-color:inherit;color:#fff}#login-dp[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{background-color:inherit;border-top:0 none}}"]}),m})();function He(P,m){1&P&&($.TgZ(0,"div")(1,"a",13),$._uU(2," Master "),$.qZA(),$.TgZ(3,"ul",14)(4,"li")(5,"a",15),$._uU(6,"District"),$.qZA()(),$.TgZ(7,"li")(8,"a",16),$._uU(9,"Department"),$.qZA()(),$.TgZ(10,"li")(11,"a",17),$._uU(12,"Office"),$.qZA()(),$.TgZ(13,"li")(14,"a",18),$._uU(15,"Designation"),$.qZA()(),$.TgZ(16,"li"),$._UZ(17,"hr",19),$.qZA(),$.TgZ(18,"li")(19,"a",20),$._uU(20,"Settings"),$.qZA()(),$.TgZ(21,"li"),$._UZ(22,"hr",19),$.qZA(),$.TgZ(23,"li")(24,"a",21),$._uU(25,"Users"),$.qZA()()()())}function tt(P,m){if(1&P&&($.TgZ(0,"li",11),$.YNc(1,He,26,0,"div",12),$.qZA()),2&P){const v=$.oxw();$.xp6(1),$.Q6J("ngIf","admin"==v.firebaseService.getRole)}}function _t(P,m){1&P&&($.TgZ(0,"li"),$._UZ(1,"hr",19),$.qZA())}function Qe(P,m){1&P&&($.TgZ(0,"a",26),$._uU(1,"Approve"),$.qZA())}function dt(P,m){if(1&P&&($.TgZ(0,"div")(1,"a",22),$._uU(2," IDCard "),$.qZA(),$.TgZ(3,"ul",14)(4,"li")(5,"a",23),$._uU(6,"Entry"),$.qZA()(),$.YNc(7,_t,2,0,"li",12),$.TgZ(8,"li"),$.YNc(9,Qe,2,0,"a",24),$.qZA(),$.TgZ(10,"li"),$._UZ(11,"hr",19),$.qZA(),$.TgZ(12,"li")(13,"a",25),$._uU(14,"Print"),$.qZA()()()()),2&P){const v=$.oxw(2);$.xp6(7),$.Q6J("ngIf","admin"==v.firebaseService.getRole),$.xp6(2),$.Q6J("ngIf","admin"==v.firebaseService.getRole)}}function Ie(P,m){if(1&P&&($.TgZ(0,"li",11),$.YNc(1,dt,15,2,"div",12),$.qZA()),2&P){const v=$.oxw();$.xp6(1),$.Q6J("ngIf","admin"==v.firebaseService.getRole||"editor"==v.firebaseService.getRole)}}let Rt=(()=>{var P;class m{constructor(N){this.firebaseService=N}ngOnInit(){}}return(P=m).\u0275fac=function(N){return new(N||P)($.Y36(Ve.O))},P.\u0275cmp=$.Xpm({type:P,selectors:[["app-nav-bar"]],decls:15,vars:2,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],[1,"fa","fa-home"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],[4,"ngIf"],["routerLink","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["routerLink","/district",1,"dropdown-item"],["routerLink","/department",1,"dropdown-item"],["routerLink","/office",1,"dropdown-item"],["routerLink","/designation",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/settings",1,"dropdown-item"],["routerLink","/users",1,"dropdown-item"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["routerLink","/idcard",1,"dropdown-item"],["class","dropdown-item","routerLink","/approval",4,"ngIf"],["routerLink","/print",1,"dropdown-item"],["routerLink","/approval",1,"dropdown-item"]],template:function(N,W){1&N&&($.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),$._uU(3,"ID CARD"),$.qZA(),$.TgZ(4,"button",3),$._UZ(5,"span",4),$.qZA(),$.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),$._UZ(10,"i",9),$._uU(11," Dashboard"),$.qZA()(),$.YNc(12,tt,2,1,"li",10),$.YNc(13,Ie,2,1,"li",10),$.qZA()(),$._UZ(14,"app-nav-bar-profile"),$.qZA()()),2&N&&($.xp6(12),$.Q6J("ngIf",W.firebaseService.isLoggedIn),$.xp6(1),$.Q6J("ngIf",W.firebaseService.isLoggedIn))},dependencies:[de.O5,K.rH,Et]}),m})(),We=(()=>{var P;class m{constructor(){this.title="DCKlbIDCard",(0,je.Dc)("bs5")}}return(P=m).\u0275fac=function(N){return new(N||P)},P.\u0275cmp=$.Xpm({type:P,selectors:[["app-root"]],decls:4,vars:0,consts:[["id","main-wrapper","data-layout","vertical","data-navbarbg","skin5","data-sidebartype","full","data-sidebar-position","absolute","data-header-position","absolute","data-boxed-layout","full"],[1,"page-wrapper"]],template:function(N,W){1&N&&($.TgZ(0,"div",0),$._UZ(1,"app-nav-bar"),$.TgZ(2,"div",1),$._UZ(3,"router-outlet"),$.qZA()())},dependencies:[K.lC,Rt]}),m})();var fe=L(7340);function ht(P){return new $.vHH(3e3,!1)}function er(){return typeof window<"u"&&typeof window.document<"u"}function An(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function J(P){switch(P.length){case 0:return new fe.ZN;case 1:return P[0];default:return new fe.ZE(P)}}function Ne(P,m,v,N,W=new Map,ne=new Map){const Ce=[],Te=[];let et=-1,It=null;if(N.forEach(Yt=>{const fn=Yt.get("offset"),$n=fn==et,Yn=$n&&It||new Map;Yt.forEach((Rn,Kn)=>{let ti=Kn,qr=Rn;if("offset"!==Kn)switch(ti=m.normalizePropertyName(ti,Ce),qr){case fe.k1:qr=W.get(Kn);break;case fe.l3:qr=ne.get(Kn);break;default:qr=m.normalizeStyleValue(Kn,ti,qr,Ce)}Yn.set(ti,qr)}),$n||Te.push(Yn),It=Yn,et=fn}),Ce.length)throw function zn(P){return new $.vHH(3502,!1)}();return Te}function qe(P,m,v,N){switch(m){case"start":P.onStart(()=>N(v&&ot(v,"start",P)));break;case"done":P.onDone(()=>N(v&&ot(v,"done",P)));break;case"destroy":P.onDestroy(()=>N(v&&ot(v,"destroy",P)))}}function ot(P,m,v){const ne=yt(P.element,P.triggerName,P.fromState,P.toState,m||P.phaseName,v.totalTime??P.totalTime,!!v.disabled),Ce=P._data;return null!=Ce&&(ne._data=Ce),ne}function yt(P,m,v,N,W="",ne=0,Ce){return{element:P,triggerName:m,fromState:v,toState:N,phaseName:W,totalTime:ne,disabled:!!Ce}}function kt(P,m,v){let N=P.get(m);return N||P.set(m,N=v),N}function Ht(P){const m=P.indexOf(":");return[P.substring(1,m),P.slice(m+1)]}let Gt=(P,m)=>!1,Bt=(P,m,v)=>[],cn=null;function Wt(P){const m=P.parentNode||P.host;return m===cn?null:m}(An()||typeof Element<"u")&&(er()?(cn=(()=>document.documentElement)(),Gt=(P,m)=>{for(;m;){if(m===P)return!0;m=Wt(m)}return!1}):Gt=(P,m)=>P.contains(m),Bt=(P,m,v)=>{if(v)return Array.from(P.querySelectorAll(m));const N=P.querySelector(m);return N?[N]:[]});let Pn=null,tr=!1;const Ir=Gt,mr=Bt;let De=(()=>{class P{validateStyleProperty(v){return function gr(P){Pn||(Pn=function Dr(){return typeof document<"u"?document.body:null}()||{},tr=!!Pn.style&&"WebkitAppearance"in Pn.style);let m=!0;return Pn.style&&!function bn(P){return"ebkit"==P.substring(1,6)}(P)&&(m=P in Pn.style,!m&&tr&&(m="Webkit"+P.charAt(0).toUpperCase()+P.slice(1)in Pn.style)),m}(v)}matchesElement(v,N){return!1}containsElement(v,N){return Ir(v,N)}getParentElement(v){return Wt(v)}query(v,N,W){return mr(v,N,W)}computeStyle(v,N,W){return W||""}animate(v,N,W,ne,Ce,Te=[],et){return new fe.ZN(W,ne)}}return P.\u0275fac=function(v){return new(v||P)},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})(),ie=(()=>{class P{}return P.NOOP=new De,P})();const ce=1e3,pe="ng-enter",_e="ng-leave",le="ng-trigger",Se=".ng-trigger",rt="ng-animating",At=".ng-animating";function dn(P){if("number"==typeof P)return P;const m=P.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:hn(parseFloat(m[1]),m[2])}function hn(P,m){return"s"===m?P*ce:P}function ir(P,m,v){return P.hasOwnProperty("duration")?P:function ii(P,m,v){let W,ne=0,Ce="";if("string"==typeof P){const Te=P.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Te)return m.push(ht()),{duration:0,delay:0,easing:""};W=hn(parseFloat(Te[1]),Te[2]);const et=Te[3];null!=et&&(ne=hn(parseFloat(et),Te[4]));const It=Te[5];It&&(Ce=It)}else W=P;if(!v){let Te=!1,et=m.length;W<0&&(m.push(function vt(){return new $.vHH(3100,!1)}()),Te=!0),ne<0&&(m.push(function Ee(){return new $.vHH(3101,!1)}()),Te=!0),Te&&m.splice(et,0,ht())}return{duration:W,delay:ne,easing:Ce}}(P,m,v)}function pt(P,m={}){return Object.keys(P).forEach(v=>{m[v]=P[v]}),m}function it(P){const m=new Map;return Object.keys(P).forEach(v=>{m.set(v,P[v])}),m}function _n(P,m=new Map,v){if(v)for(let[N,W]of v)m.set(N,W);for(let[N,W]of P)m.set(N,W);return m}function Un(P,m,v){return v?m+":"+v+";":""}function Dn(P){let m="";for(let v=0;v<P.style.length;v++){const N=P.style.item(v);m+=Un(0,N,P.style.getPropertyValue(N))}for(const v in P.style)P.style.hasOwnProperty(v)&&!v.startsWith("_")&&(m+=Un(0,Wr(v),P.style[v]));P.setAttribute("style",m)}function Ln(P,m,v){P.style&&(m.forEach((N,W)=>{const ne=qn(W);v&&!v.has(W)&&v.set(W,P.style[ne]),P.style[ne]=N}),An()&&Dn(P))}function Gn(P,m){P.style&&(m.forEach((v,N)=>{const W=qn(N);P.style[W]=""}),An()&&Dn(P))}function Sr(P){return Array.isArray(P)?1==P.length?P[0]:(0,fe.vP)(P):P}const Cs=new RegExp("{{\\s*(.+?)\\s*}}","g");function co(P){let m=[];if("string"==typeof P){let v;for(;v=Cs.exec(P);)m.push(v[1]);Cs.lastIndex=0}return m}function fs(P,m,v){const N=P.toString(),W=N.replace(Cs,(ne,Ce)=>{let Te=m[Ce];return null==Te&&(v.push(function xt(P){return new $.vHH(3003,!1)}()),Te=""),Te.toString()});return W==N?P:W}function Yr(P){const m=[];let v=P.next();for(;!v.done;)m.push(v.value),v=P.next();return m}const Qt=/-+([a-z0-9])/g;function qn(P){return P.replace(Qt,(...m)=>m[1].toUpperCase())}function Wr(P){return P.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function br(P,m,v){switch(m.type){case 7:return P.visitTrigger(m,v);case 0:return P.visitState(m,v);case 1:return P.visitTransition(m,v);case 2:return P.visitSequence(m,v);case 3:return P.visitGroup(m,v);case 4:return P.visitAnimate(m,v);case 5:return P.visitKeyframes(m,v);case 6:return P.visitStyle(m,v);case 8:return P.visitReference(m,v);case 9:return P.visitAnimateChild(m,v);case 10:return P.visitAnimateRef(m,v);case 11:return P.visitQuery(m,v);case 12:return P.visitStagger(m,v);default:throw function bt(P){return new $.vHH(3004,!1)}()}}function bi(P,m){return window.getComputedStyle(P)[m]}const Ui="*";function cr(P,m){const v=[];return"string"==typeof P?P.split(/\s*,\s*/).forEach(N=>function qs(P,m,v){if(":"==P[0]){const et=function di(P,m){switch(P){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,N)=>parseFloat(N)>parseFloat(v);case":decrement":return(v,N)=>parseFloat(N)<parseFloat(v);default:return m.push(function ln(P){return new $.vHH(3016,!1)}()),"* => *"}}(P,v);if("function"==typeof et)return void m.push(et);P=et}const N=P.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==N||N.length<4)return v.push(function Dt(P){return new $.vHH(3015,!1)}()),m;const W=N[1],ne=N[2],Ce=N[3];m.push(_i(W,Ce));"<"==ne[0]&&!(W==Ui&&Ce==Ui)&&m.push(_i(Ce,W))}(N,v,m)):v.push(P),v}const hi=new Set(["true","1"]),ps=new Set(["false","0"]);function _i(P,m){const v=hi.has(P)||ps.has(P),N=hi.has(m)||ps.has(m);return(W,ne)=>{let Ce=P==Ui||P==W,Te=m==Ui||m==ne;return!Ce&&v&&"boolean"==typeof W&&(Ce=W?hi.has(P):ps.has(P)),!Te&&N&&"boolean"==typeof ne&&(Te=ne?hi.has(m):ps.has(m)),Ce&&Te}}const es=new RegExp("s*:selfs*,?","g");function qi(P,m,v,N){return new Be(P).build(m,v,N)}class Be{constructor(m){this._driver=m}build(m,v,N){const W=new Ot(v);return this._resetContextStyleTimingState(W),br(this,Sr(m),W)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,v){let N=v.queryCount=0,W=v.depCount=0;const ne=[],Ce=[];return"@"==m.name.charAt(0)&&v.errors.push(function zt(){return new $.vHH(3006,!1)}()),m.definitions.forEach(Te=>{if(this._resetContextStyleTimingState(v),0==Te.type){const et=Te,It=et.name;It.toString().split(/\s*,\s*/).forEach(Yt=>{et.name=Yt,ne.push(this.visitState(et,v))}),et.name=It}else if(1==Te.type){const et=this.visitTransition(Te,v);N+=et.queryCount,W+=et.depCount,Ce.push(et)}else v.errors.push(function wr(){return new $.vHH(3007,!1)}())}),{type:7,name:m.name,states:ne,transitions:Ce,queryCount:N,depCount:W,options:null}}visitState(m,v){const N=this.visitStyle(m.styles,v),W=m.options&&m.options.params||null;if(N.containsDynamicStyles){const ne=new Set,Ce=W||{};N.styles.forEach(Te=>{Te instanceof Map&&Te.forEach(et=>{co(et).forEach(It=>{Ce.hasOwnProperty(It)||ne.add(It)})})}),ne.size&&(Yr(ne.values()),v.errors.push(function vr(P,m){return new $.vHH(3008,!1)}()))}return{type:0,name:m.name,style:N,options:W?{params:W}:null}}visitTransition(m,v){v.queryCount=0,v.depCount=0;const N=br(this,Sr(m.animation),v);return{type:1,matchers:cr(m.expr,v.errors),animation:N,queryCount:v.queryCount,depCount:v.depCount,options:Vn(m.options)}}visitSequence(m,v){return{type:2,steps:m.steps.map(N=>br(this,N,v)),options:Vn(m.options)}}visitGroup(m,v){const N=v.currentTime;let W=0;const ne=m.steps.map(Ce=>{v.currentTime=N;const Te=br(this,Ce,v);return W=Math.max(W,v.currentTime),Te});return v.currentTime=W,{type:3,steps:ne,options:Vn(m.options)}}visitAnimate(m,v){const N=function jn(P,m){if(P.hasOwnProperty("duration"))return P;if("number"==typeof P)return rr(ir(P,m).duration,0,"");const v=P;if(v.split(/\s+/).some(ne=>"{"==ne.charAt(0)&&"{"==ne.charAt(1))){const ne=rr(0,0,"");return ne.dynamic=!0,ne.strValue=v,ne}const W=ir(v,m);return rr(W.duration,W.delay,W.easing)}(m.timings,v.errors);v.currentAnimateTimings=N;let W,ne=m.styles?m.styles:(0,fe.oB)({});if(5==ne.type)W=this.visitKeyframes(ne,v);else{let Ce=m.styles,Te=!1;if(!Ce){Te=!0;const It={};N.easing&&(It.easing=N.easing),Ce=(0,fe.oB)(It)}v.currentTime+=N.duration+N.delay;const et=this.visitStyle(Ce,v);et.isEmptyStep=Te,W=et}return v.currentAnimateTimings=null,{type:4,timings:N,style:W,options:null}}visitStyle(m,v){const N=this._makeStyleAst(m,v);return this._validateStyleAst(N,v),N}_makeStyleAst(m,v){const N=[],W=Array.isArray(m.styles)?m.styles:[m.styles];for(let Te of W)"string"==typeof Te?Te===fe.l3?N.push(Te):v.errors.push(new $.vHH(3002,!1)):N.push(it(Te));let ne=!1,Ce=null;return N.forEach(Te=>{if(Te instanceof Map&&(Te.has("easing")&&(Ce=Te.get("easing"),Te.delete("easing")),!ne))for(let et of Te.values())if(et.toString().indexOf("{{")>=0){ne=!0;break}}),{type:6,styles:N,easing:Ce,offset:m.offset,containsDynamicStyles:ne,options:null}}_validateStyleAst(m,v){const N=v.currentAnimateTimings;let W=v.currentTime,ne=v.currentTime;N&&ne>0&&(ne-=N.duration+N.delay),m.styles.forEach(Ce=>{"string"!=typeof Ce&&Ce.forEach((Te,et)=>{const It=v.collectedStyles.get(v.currentQuerySelector),Yt=It.get(et);let fn=!0;Yt&&(ne!=W&&ne>=Yt.startTime&&W<=Yt.endTime&&(v.errors.push(function ge(P,m,v,N,W){return new $.vHH(3010,!1)}()),fn=!1),ne=Yt.startTime),fn&&It.set(et,{startTime:ne,endTime:W}),v.options&&function ni(P,m,v){const N=m.params||{},W=co(P);W.length&&W.forEach(ne=>{N.hasOwnProperty(ne)||v.push(function Ft(P){return new $.vHH(3001,!1)}())})}(Te,v.options,v.errors)})})}visitKeyframes(m,v){const N={type:5,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function ye(){return new $.vHH(3011,!1)}()),N;let ne=0;const Ce=[];let Te=!1,et=!1,It=0;const Yt=m.steps.map(qr=>{const cs=this._makeStyleAst(qr,v);let Zr=null!=cs.offset?cs.offset:function Bn(P){if("string"==typeof P)return null;let m=null;if(Array.isArray(P))P.forEach(v=>{if(v instanceof Map&&v.has("offset")){const N=v;m=parseFloat(N.get("offset")),N.delete("offset")}});else if(P instanceof Map&&P.has("offset")){const v=P;m=parseFloat(v.get("offset")),v.delete("offset")}return m}(cs.styles),Ei=0;return null!=Zr&&(ne++,Ei=cs.offset=Zr),et=et||Ei<0||Ei>1,Te=Te||Ei<It,It=Ei,Ce.push(Ei),cs});et&&v.errors.push(function Ae(){return new $.vHH(3012,!1)}()),Te&&v.errors.push(function Oe(){return new $.vHH(3200,!1)}());const fn=m.steps.length;let $n=0;ne>0&&ne<fn?v.errors.push(function ut(){return new $.vHH(3202,!1)}()):0==ne&&($n=1/(fn-1));const Yn=fn-1,Rn=v.currentTime,Kn=v.currentAnimateTimings,ti=Kn.duration;return Yt.forEach((qr,cs)=>{const Zr=$n>0?cs==Yn?1:$n*cs:Ce[cs],Ei=Zr*ti;v.currentTime=Rn+Kn.delay+Ei,Kn.duration=Ei,this._validateStyleAst(qr,v),qr.offset=Zr,N.styles.push(qr)}),N}visitReference(m,v){return{type:8,animation:br(this,Sr(m.animation),v),options:Vn(m.options)}}visitAnimateChild(m,v){return v.depCount++,{type:9,options:Vn(m.options)}}visitAnimateRef(m,v){return{type:10,animation:this.visitReference(m.animation,v),options:Vn(m.options)}}visitQuery(m,v){const N=v.currentQuerySelector,W=m.options||{};v.queryCount++,v.currentQuery=m;const[ne,Ce]=function nt(P){const m=!!P.split(/\s*,\s*/).find(v=>":self"==v);return m&&(P=P.replace(es,"")),P=P.replace(/@\*/g,Se).replace(/@\w+/g,v=>Se+"-"+v.slice(1)).replace(/:animating/g,At),[P,m]}(m.selector);v.currentQuerySelector=N.length?N+" "+ne:ne,kt(v.collectedStyles,v.currentQuerySelector,new Map);const Te=br(this,Sr(m.animation),v);return v.currentQuery=null,v.currentQuerySelector=N,{type:11,selector:ne,limit:W.limit||0,optional:!!W.optional,includeSelf:Ce,animation:Te,originalSelector:m.selector,options:Vn(m.options)}}visitStagger(m,v){v.currentQuery||v.errors.push(function mt(){return new $.vHH(3013,!1)}());const N="full"===m.timings?{duration:0,delay:0,easing:"full"}:ir(m.timings,v.errors,!0);return{type:12,animation:br(this,Sr(m.animation),v),timings:N,options:null}}}class Ot{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vn(P){return P?(P=pt(P)).params&&(P.params=function Tt(P){return P?pt(P):null}(P.params)):P={},P}function rr(P,m,v){return{duration:P,delay:m,easing:v}}function si(P,m,v,N,W,ne,Ce=null,Te=!1){return{type:1,element:P,keyframes:m,preStyleProps:v,postStyleProps:N,duration:W,delay:ne,totalTime:W+ne,easing:Ce,subTimeline:Te}}class Bi{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,v){let N=this._map.get(m);N||this._map.set(m,N=[]),N.push(...v)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const ho=new RegExp(":enter","g"),ms=new RegExp(":leave","g");function fo(P,m,v,N,W,ne=new Map,Ce=new Map,Te,et,It=[]){return(new Bs).buildKeyframes(P,m,v,N,W,ne,Ce,Te,et,It)}class Bs{buildKeyframes(m,v,N,W,ne,Ce,Te,et,It,Yt=[]){It=It||new Bi;const fn=new Zs(m,v,It,W,ne,Yt,[]);fn.options=et;const $n=et.delay?dn(et.delay):0;fn.currentTimeline.delayNextStep($n),fn.currentTimeline.setStyles([Ce],null,fn.errors,et),br(this,N,fn);const Yn=fn.timelines.filter(Rn=>Rn.containsAnimation());if(Yn.length&&Te.size){let Rn;for(let Kn=Yn.length-1;Kn>=0;Kn--){const ti=Yn[Kn];if(ti.element===v){Rn=ti;break}}Rn&&!Rn.allowOnlyTimelineStyles()&&Rn.setStyles([Te],null,fn.errors,et)}return Yn.length?Yn.map(Rn=>Rn.buildKeyframes()):[si(v,[],[],[],0,$n,"",!1)]}visitTrigger(m,v){}visitState(m,v){}visitTransition(m,v){}visitAnimateChild(m,v){const N=v.subInstructions.get(v.element);if(N){const W=v.createSubContext(m.options),ne=v.currentTimeline.currentTime,Ce=this._visitSubInstructions(N,W,W.options);ne!=Ce&&v.transformIntoNewTimeline(Ce)}v.previousNode=m}visitAnimateRef(m,v){const N=v.createSubContext(m.options);N.transformIntoNewTimeline(),this._applyAnimationRefDelays([m.options,m.animation.options],v,N),this.visitReference(m.animation,N),v.transformIntoNewTimeline(N.currentTimeline.currentTime),v.previousNode=m}_applyAnimationRefDelays(m,v,N){for(const W of m){const ne=W?.delay;if(ne){const Ce="number"==typeof ne?ne:dn(fs(ne,W?.params??{},v.errors));N.delayNextStep(Ce)}}}_visitSubInstructions(m,v,N){let ne=v.currentTimeline.currentTime;const Ce=null!=N.duration?dn(N.duration):null,Te=null!=N.delay?dn(N.delay):null;return 0!==Ce&&m.forEach(et=>{const It=v.appendInstructionToTimeline(et,Ce,Te);ne=Math.max(ne,It.duration+It.delay)}),ne}visitReference(m,v){v.updateOptions(m.options,!0),br(this,m.animation,v),v.previousNode=m}visitSequence(m,v){const N=v.subContextCount;let W=v;const ne=m.options;if(ne&&(ne.params||ne.delay)&&(W=v.createSubContext(ne),W.transformIntoNewTimeline(),null!=ne.delay)){6==W.previousNode.type&&(W.currentTimeline.snapshotCurrentStyles(),W.previousNode=Qi);const Ce=dn(ne.delay);W.delayNextStep(Ce)}m.steps.length&&(m.steps.forEach(Ce=>br(this,Ce,W)),W.currentTimeline.applyStylesToKeyframe(),W.subContextCount>N&&W.transformIntoNewTimeline()),v.previousNode=m}visitGroup(m,v){const N=[];let W=v.currentTimeline.currentTime;const ne=m.options&&m.options.delay?dn(m.options.delay):0;m.steps.forEach(Ce=>{const Te=v.createSubContext(m.options);ne&&Te.delayNextStep(ne),br(this,Ce,Te),W=Math.max(W,Te.currentTimeline.currentTime),N.push(Te.currentTimeline)}),N.forEach(Ce=>v.currentTimeline.mergeTimelineCollectedStyles(Ce)),v.transformIntoNewTimeline(W),v.previousNode=m}_visitTiming(m,v){if(m.dynamic){const N=m.strValue;return ir(v.params?fs(N,v.params,v.errors):N,v.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,v){const N=v.currentAnimateTimings=this._visitTiming(m.timings,v),W=v.currentTimeline;N.delay&&(v.incrementTime(N.delay),W.snapshotCurrentStyles());const ne=m.style;5==ne.type?this.visitKeyframes(ne,v):(v.incrementTime(N.duration),this.visitStyle(ne,v),W.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=m}visitStyle(m,v){const N=v.currentTimeline,W=v.currentAnimateTimings;!W&&N.hasCurrentStyleProperties()&&N.forwardFrame();const ne=W&&W.easing||m.easing;m.isEmptyStep?N.applyEmptyStep(ne):N.setStyles(m.styles,ne,v.errors,v.options),v.previousNode=m}visitKeyframes(m,v){const N=v.currentAnimateTimings,W=v.currentTimeline.duration,ne=N.duration,Te=v.createSubContext().currentTimeline;Te.easing=N.easing,m.styles.forEach(et=>{Te.forwardTime((et.offset||0)*ne),Te.setStyles(et.styles,et.easing,v.errors,v.options),Te.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(Te),v.transformIntoNewTimeline(W+ne),v.previousNode=m}visitQuery(m,v){const N=v.currentTimeline.currentTime,W=m.options||{},ne=W.delay?dn(W.delay):0;ne&&(6===v.previousNode.type||0==N&&v.currentTimeline.hasCurrentStyleProperties())&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=Qi);let Ce=N;const Te=v.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!W.optional,v.errors);v.currentQueryTotal=Te.length;let et=null;Te.forEach((It,Yt)=>{v.currentQueryIndex=Yt;const fn=v.createSubContext(m.options,It);ne&&fn.delayNextStep(ne),It===v.element&&(et=fn.currentTimeline),br(this,m.animation,fn),fn.currentTimeline.applyStylesToKeyframe(),Ce=Math.max(Ce,fn.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(Ce),et&&(v.currentTimeline.mergeTimelineCollectedStyles(et),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=m}visitStagger(m,v){const N=v.parentContext,W=v.currentTimeline,ne=m.timings,Ce=Math.abs(ne.duration),Te=Ce*(v.currentQueryTotal-1);let et=Ce*v.currentQueryIndex;switch(ne.duration<0?"reverse":ne.easing){case"reverse":et=Te-et;break;case"full":et=N.currentStaggerTime}const Yt=v.currentTimeline;et&&Yt.delayNextStep(et);const fn=Yt.currentTime;br(this,m.animation,v),v.previousNode=m,N.currentStaggerTime=W.currentTime-fn+(W.startTime-N.currentTimeline.startTime)}}const Qi={};class Zs{constructor(m,v,N,W,ne,Ce,Te,et){this._driver=m,this.element=v,this.subInstructions=N,this._enterClassName=W,this._leaveClassName=ne,this.errors=Ce,this.timelines=Te,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=et||new Ys(this._driver,v,0),Te.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,v){if(!m)return;const N=m;let W=this.options;null!=N.duration&&(W.duration=dn(N.duration)),null!=N.delay&&(W.delay=dn(N.delay));const ne=N.params;if(ne){let Ce=W.params;Ce||(Ce=this.options.params={}),Object.keys(ne).forEach(Te=>{(!v||!Ce.hasOwnProperty(Te))&&(Ce[Te]=fs(ne[Te],Ce,this.errors))})}}_copyOptions(){const m={};if(this.options){const v=this.options.params;if(v){const N=m.params={};Object.keys(v).forEach(W=>{N[W]=v[W]})}}return m}createSubContext(m=null,v,N){const W=v||this.element,ne=new Zs(this._driver,W,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(W,N||0));return ne.previousNode=this.previousNode,ne.currentAnimateTimings=this.currentAnimateTimings,ne.options=this._copyOptions(),ne.updateOptions(m),ne.currentQueryIndex=this.currentQueryIndex,ne.currentQueryTotal=this.currentQueryTotal,ne.parentContext=this,this.subContextCount++,ne}transformIntoNewTimeline(m){return this.previousNode=Qi,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,v,N){const W={duration:v??m.duration,delay:this.currentTimeline.currentTime+(N??0)+m.delay,easing:""},ne=new Ro(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,W,m.stretchStartingKeyframe);return this.timelines.push(ne),W}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,v,N,W,ne,Ce){let Te=[];if(W&&Te.push(this.element),m.length>0){m=(m=m.replace(ho,"."+this._enterClassName)).replace(ms,"."+this._leaveClassName);let It=this._driver.query(this.element,m,1!=N);0!==N&&(It=N<0?It.slice(It.length+N,It.length):It.slice(0,N)),Te.push(...It)}return!ne&&0==Te.length&&Ce.push(function Lt(P){return new $.vHH(3014,!1)}()),Te}}class Ys{constructor(m,v,N,W){this._driver=m,this.element=v,this.startTime=N,this._elementTimelineStylesLookup=W,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const v=1===this._keyframes.size&&this._pendingStyles.size;this.duration||v?(this.forwardTime(this.currentTime+m),v&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,v){return this.applyStylesToKeyframe(),new Ys(this._driver,m,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,v){this._localTimelineStyles.set(m,v),this._globalTimelineStyles.set(m,v),this._styleSummary.set(m,{time:this.currentTime,value:v})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[v,N]of this._globalTimelineStyles)this._backFill.set(v,N||fe.l3),this._currentKeyframe.set(v,fe.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,v,N,W){v&&this._previousKeyframe.set("easing",v);const ne=W&&W.params||{},Ce=function xo(P,m){const v=new Map;let N;return P.forEach(W=>{if("*"===W){N=N||m.keys();for(let ne of N)v.set(ne,fe.l3)}else _n(W,v)}),v}(m,this._globalTimelineStyles);for(let[Te,et]of Ce){const It=fs(et,ne,N);this._pendingStyles.set(Te,It),this._localTimelineStyles.has(Te)||this._backFill.set(Te,this._globalTimelineStyles.get(Te)??fe.l3),this._updateStyle(Te,It)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,v)=>{this._currentKeyframe.set(v,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,v)=>{this._currentKeyframe.has(v)||this._currentKeyframe.set(v,m)}))}snapshotCurrentStyles(){for(let[m,v]of this._localTimelineStyles)this._pendingStyles.set(m,v),this._updateStyle(m,v)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let v in this._currentKeyframe)m.push(v);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((v,N)=>{const W=this._styleSummary.get(N);(!W||v.time>W.time)&&this._updateStyle(N,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,v=new Set,N=1===this._keyframes.size&&0===this.duration;let W=[];this._keyframes.forEach((Te,et)=>{const It=_n(Te,new Map,this._backFill);It.forEach((Yt,fn)=>{Yt===fe.k1?m.add(fn):Yt===fe.l3&&v.add(fn)}),N||It.set("offset",et/this.duration),W.push(It)});const ne=m.size?Yr(m.values()):[],Ce=v.size?Yr(v.values()):[];if(N){const Te=W[0],et=new Map(Te);Te.set("offset",0),et.set("offset",1),W=[Te,et]}return si(this.element,W,ne,Ce,this.duration,this.startTime,this.easing,!1)}}class Ro extends Ys{constructor(m,v,N,W,ne,Ce,Te=!1){super(m,v,Ce.delay),this.keyframes=N,this.preStyleProps=W,this.postStyleProps=ne,this._stretchStartingKeyframe=Te,this.timings={duration:Ce.duration,delay:Ce.delay,easing:Ce.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:v,duration:N,easing:W}=this.timings;if(this._stretchStartingKeyframe&&v){const ne=[],Ce=N+v,Te=v/Ce,et=_n(m[0]);et.set("offset",0),ne.push(et);const It=_n(m[0]);It.set("offset",js(Te)),ne.push(It);const Yt=m.length-1;for(let fn=1;fn<=Yt;fn++){let $n=_n(m[fn]);const Yn=$n.get("offset");$n.set("offset",js((v+Yn*N)/Ce)),ne.push($n)}N=Ce,v=0,W="",m=ne}return si(this.element,m,this.preStyleProps,this.postStyleProps,N,v,W,!0)}}function js(P,m=3){const v=Math.pow(10,m-1);return Math.round(P*v)/v}class ji{}const po=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ss extends ji{normalizePropertyName(m,v){return qn(m)}normalizeStyleValue(m,v,N,W){let ne="";const Ce=N.toString().trim();if(po.has(v)&&0!==N&&"0"!==N)if("number"==typeof N)ne="px";else{const Te=N.match(/^[+-]?[\d\.]+([a-z]*)$/);Te&&0==Te[1].length&&W.push(function gn(P,m){return new $.vHH(3005,!1)}())}return Ce+ne}}function go(P,m,v,N,W,ne,Ce,Te,et,It,Yt,fn,$n){return{type:0,element:P,triggerName:m,isRemovalTransition:W,fromState:v,fromStyles:ne,toState:N,toStyles:Ce,timelines:Te,queriedElements:et,preStyleProps:It,postStyleProps:Yt,totalTime:fn,errors:$n}}const kr={};class as{constructor(m,v,N){this._triggerName=m,this.ast=v,this._stateStyles=N}match(m,v,N,W){return function $i(P,m,v,N,W){return P.some(ne=>ne(m,v,N,W))}(this.ast.matchers,m,v,N,W)}buildStyles(m,v,N){let W=this._stateStyles.get("*");return void 0!==m&&(W=this._stateStyles.get(m?.toString())||W),W?W.buildStyles(v,N):new Map}build(m,v,N,W,ne,Ce,Te,et,It,Yt){const fn=[],$n=this.ast.options&&this.ast.options.params||kr,Rn=this.buildStyles(N,Te&&Te.params||kr,fn),Kn=et&&et.params||kr,ti=this.buildStyles(W,Kn,fn),qr=new Set,cs=new Map,Zr=new Map,Ei="void"===W,ro={params:Po(Kn,$n),delay:this.ast.options?.delay},zi=Yt?[]:fo(m,v,this.ast.animation,ne,Ce,Rn,ti,ro,It,fn);let Fs=0;if(zi.forEach(Pr=>{Fs=Math.max(Pr.duration+Pr.delay,Fs)}),fn.length)return go(v,this._triggerName,N,W,Ei,Rn,ti,[],[],cs,Zr,Fs,fn);zi.forEach(Pr=>{const ts=Pr.element,ki=kt(cs,ts,new Set);Pr.preStyleProps.forEach(Sn=>ki.add(Sn));const qt=kt(Zr,ts,new Set);Pr.postStyleProps.forEach(Sn=>qt.add(Sn)),ts!==v&&qr.add(ts)});const Ut=Yr(qr.values());return go(v,this._triggerName,N,W,Ei,Rn,ti,zi,Ut,cs,Zr,Fs)}}function Po(P,m){const v=pt(m);for(const N in P)P.hasOwnProperty(N)&&null!=P[N]&&(v[N]=P[N]);return v}class mo{constructor(m,v,N){this.styles=m,this.defaultParams=v,this.normalizer=N}buildStyles(m,v){const N=new Map,W=pt(this.defaultParams);return Object.keys(m).forEach(ne=>{const Ce=m[ne];null!==Ce&&(W[ne]=Ce)}),this.styles.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((Ce,Te)=>{Ce&&(Ce=fs(Ce,W,v));const et=this.normalizer.normalizePropertyName(Te,v);Ce=this.normalizer.normalizeStyleValue(Te,et,Ce,v),N.set(Te,Ce)})}),N}}class Yo{constructor(m,v,N){this.name=m,this.ast=v,this._normalizer=N,this.transitionFactories=[],this.states=new Map,v.states.forEach(W=>{this.states.set(W.name,new mo(W.style,W.options&&W.options.params||{},N))}),Ms(this.states,"true","1"),Ms(this.states,"false","0"),v.transitions.forEach(W=>{this.transitionFactories.push(new as(m,W,this.states))}),this.fallbackTransition=function As(P,m,v){return new as(P,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ce,Te)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,v,N,W){return this.transitionFactories.find(Ce=>Ce.match(m,v,N,W))||null}matchStyles(m,v,N){return this.fallbackTransition.buildStyles(m,v,N)}}function Ms(P,m,v){P.has(m)?P.has(v)||P.set(v,P.get(m)):P.has(v)&&P.set(m,P.get(v))}const yo=new Bi;class Qs{constructor(m,v,N){this.bodyNode=m,this._driver=v,this._normalizer=N,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,v){const N=[],W=[],ne=qi(this._driver,v,N,W);if(N.length)throw function Qn(P){return new $.vHH(3503,!1)}();this._animations.set(m,ne)}_buildPlayer(m,v,N){const W=m.element,ne=Ne(0,this._normalizer,0,m.keyframes,v,N);return this._driver.animate(W,ne,m.duration,m.delay,m.easing,[],!0)}create(m,v,N={}){const W=[],ne=this._animations.get(m);let Ce;const Te=new Map;if(ne?(Ce=fo(this._driver,v,ne,pe,_e,new Map,new Map,N,yo,W),Ce.forEach(Yt=>{const fn=kt(Te,Yt.element,new Map);Yt.postStyleProps.forEach($n=>fn.set($n,null))})):(W.push(function hr(){return new $.vHH(3300,!1)}()),Ce=[]),W.length)throw function pr(P){return new $.vHH(3504,!1)}();Te.forEach((Yt,fn)=>{Yt.forEach(($n,Yn)=>{Yt.set(Yn,this._driver.computeStyle(fn,Yn,fe.l3))})});const It=J(Ce.map(Yt=>{const fn=Te.get(Yt.element);return this._buildPlayer(Yt,new Map,fn)}));return this._playersById.set(m,It),It.onDestroy(()=>this.destroy(m)),this.players.push(It),It}destroy(m){const v=this._getPlayer(m);v.destroy(),this._playersById.delete(m);const N=this.players.indexOf(v);N>=0&&this.players.splice(N,1)}_getPlayer(m){const v=this._playersById.get(m);if(!v)throw function ur(P){return new $.vHH(3301,!1)}();return v}listen(m,v,N,W){const ne=yt(v,"","","");return qe(this._getPlayer(m),N,ne,W),()=>{}}command(m,v,N,W){if("register"==N)return void this.register(m,W[0]);if("create"==N)return void this.create(m,v,W[0]||{});const ne=this._getPlayer(m);switch(N){case"play":ne.play();break;case"pause":ne.pause();break;case"reset":ne.reset();break;case"restart":ne.restart();break;case"finish":ne.finish();break;case"init":ne.init();break;case"setPosition":ne.setPosition(parseFloat(W[0]));break;case"destroy":this.destroy(m)}}}const Rs="ng-animate-queued",$r="ng-animate-disabled",xs=[],Ci={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ri={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ni="__ng_removed";class Js{get params(){return this.options.params}constructor(m,v=""){this.namespaceId=v;const N=m&&m.hasOwnProperty("value");if(this.value=function Ns(P){return P??null}(N?m.value:m),N){const ne=pt(m);delete ne.value,this.options=ne}else this.options={};this.options.params||(this.options.params={})}absorbOptions(m){const v=m.params;if(v){const N=this.options.params;Object.keys(v).forEach(W=>{null==N[W]&&(N[W]=v[W])})}}}const fi="void",pi=new Js(fi);class Ps{constructor(m,v,N){this.id=m,this.hostElement=v,this._engine=N,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,Hi(v,this._hostClassName)}listen(m,v,N,W){if(!this._triggers.has(v))throw function Rr(P,m){return new $.vHH(3302,!1)}();if(null==N||0==N.length)throw function wn(P){return new $.vHH(3303,!1)}();if(!function Wn(P){return"start"==P||"done"==P}(N))throw function $t(P,m){return new $.vHH(3400,!1)}();const ne=kt(this._elementListeners,m,[]),Ce={name:v,phase:N,callback:W};ne.push(Ce);const Te=kt(this._engine.statesByElement,m,new Map);return Te.has(v)||(Hi(m,le),Hi(m,le+"-"+v),Te.set(v,pi)),()=>{this._engine.afterFlush(()=>{const et=ne.indexOf(Ce);et>=0&&ne.splice(et,1),this._triggers.has(v)||Te.delete(v)})}}register(m,v){return!this._triggers.has(m)&&(this._triggers.set(m,v),!0)}_getTrigger(m){const v=this._triggers.get(m);if(!v)throw function xn(P){return new $.vHH(3401,!1)}();return v}trigger(m,v,N,W=!0){const ne=this._getTrigger(v),Ce=new Io(this.id,v,m);let Te=this._engine.statesByElement.get(m);Te||(Hi(m,le),Hi(m,le+"-"+v),this._engine.statesByElement.set(m,Te=new Map));let et=Te.get(v);const It=new Js(N,this.id);if(!(N&&N.hasOwnProperty("value"))&&et&&It.absorbOptions(et.options),Te.set(v,It),et||(et=pi),It.value!==fi&&et.value===It.value){if(!function w(P,m){const v=Object.keys(P),N=Object.keys(m);if(v.length!=N.length)return!1;for(let W=0;W<v.length;W++){const ne=v[W];if(!m.hasOwnProperty(ne)||P[ne]!==m[ne])return!1}return!0}(et.params,It.params)){const Kn=[],ti=ne.matchStyles(et.value,et.params,Kn),qr=ne.matchStyles(It.value,It.params,Kn);Kn.length?this._engine.reportError(Kn):this._engine.afterFlush(()=>{Gn(m,ti),Ln(m,qr)})}return}const $n=kt(this._engine.playersByElement,m,[]);$n.forEach(Kn=>{Kn.namespaceId==this.id&&Kn.triggerName==v&&Kn.queued&&Kn.destroy()});let Yn=ne.matchTransition(et.value,It.value,m,It.params),Rn=!1;if(!Yn){if(!W)return;Yn=ne.fallbackTransition,Rn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:v,transition:Yn,fromState:et,toState:It,player:Ce,isFallbackTransition:Rn}),Rn||(Hi(m,Rs),Ce.onStart(()=>{j(m,Rs)})),Ce.onDone(()=>{let Kn=this.players.indexOf(Ce);Kn>=0&&this.players.splice(Kn,1);const ti=this._engine.playersByElement.get(m);if(ti){let qr=ti.indexOf(Ce);qr>=0&&ti.splice(qr,1)}}),this.players.push(Ce),$n.push(Ce),Ce}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(v=>v.delete(m)),this._elementListeners.forEach((v,N)=>{this._elementListeners.set(N,v.filter(W=>W.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const v=this._engine.playersByElement.get(m);v&&(v.forEach(N=>N.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,v){const N=this._engine.driver.query(m,Se,!0);N.forEach(W=>{if(W[Ni])return;const ne=this._engine.fetchNamespacesByElement(W);ne.size?ne.forEach(Ce=>Ce.triggerLeaveAnimation(W,v,!1,!0)):this.clearElementCache(W)}),this._engine.afterFlushAnimationsDone(()=>N.forEach(W=>this.clearElementCache(W)))}triggerLeaveAnimation(m,v,N,W){const ne=this._engine.statesByElement.get(m),Ce=new Map;if(ne){const Te=[];if(ne.forEach((et,It)=>{if(Ce.set(It,et.value),this._triggers.has(It)){const Yt=this.trigger(m,It,fi,W);Yt&&Te.push(Yt)}}),Te.length)return this._engine.markElementAsRemoved(this.id,m,!0,v,Ce),N&&J(Te).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const v=this._elementListeners.get(m),N=this._engine.statesByElement.get(m);if(v&&N){const W=new Set;v.forEach(ne=>{const Ce=ne.name;if(W.has(Ce))return;W.add(Ce);const et=this._triggers.get(Ce).fallbackTransition,It=N.get(Ce)||pi,Yt=new Js(fi),fn=new Io(this.id,Ce,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:Ce,transition:et,fromState:It,toState:Yt,player:fn,isFallbackTransition:!0})})}}removeNode(m,v){const N=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,v),this.triggerLeaveAnimation(m,v,!0))return;let W=!1;if(N.totalAnimations){const ne=N.players.length?N.playersByQueriedElement.get(m):[];if(ne&&ne.length)W=!0;else{let Ce=m;for(;Ce=Ce.parentNode;)if(N.statesByElement.get(Ce)){W=!0;break}}}if(this.prepareLeaveAnimationListeners(m),W)N.markElementAsRemoved(this.id,m,!1,v);else{const ne=m[Ni];(!ne||ne===Ci)&&(N.afterFlush(()=>this.clearElementCache(m)),N.destroyInnerAnimations(m),N._onRemovalComplete(m,v))}}insertNode(m,v){Hi(m,this._hostClassName)}drainQueuedTransitions(m){const v=[];return this._queue.forEach(N=>{const W=N.player;if(W.destroyed)return;const ne=N.element,Ce=this._elementListeners.get(ne);Ce&&Ce.forEach(Te=>{if(Te.name==N.triggerName){const et=yt(ne,N.triggerName,N.fromState.value,N.toState.value);et._data=m,qe(N.player,Te.phase,et,Te.callback)}}),W.markedForDestroy?this._engine.afterFlush(()=>{W.destroy()}):v.push(N)}),this._queue=[],v.sort((N,W)=>{const ne=N.transition.ast.depCount,Ce=W.transition.ast.depCount;return 0==ne||0==Ce?ne-Ce:this._engine.driver.containsElement(N.element,W.element)?1:-1})}destroy(m){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let v=!1;return this._elementListeners.has(m)&&(v=!0),v=!!this._queue.find(N=>N.element===m)||v,v}}class eo{_onRemovalComplete(m,v){this.onRemovalComplete(m,v)}constructor(m,v,N){this.bodyNode=m,this.driver=v,this._normalizer=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(W,ne)=>{}}get queuedPlayers(){const m=[];return this._namespaceList.forEach(v=>{v.players.forEach(N=>{N.queued&&m.push(N)})}),m}createNamespace(m,v){const N=new Ps(m,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(N,v):(this.newHostElements.set(v,N),this.collectEnterElement(v)),this._namespaceLookup[m]=N}_balanceNamespaceList(m,v){const N=this._namespaceList,W=this.namespacesByHostElement;if(N.length-1>=0){let Ce=!1,Te=this.driver.getParentElement(v);for(;Te;){const et=W.get(Te);if(et){const It=N.indexOf(et);N.splice(It+1,0,m),Ce=!0;break}Te=this.driver.getParentElement(Te)}Ce||N.unshift(m)}else N.push(m);return W.set(v,m),m}register(m,v){let N=this._namespaceLookup[m];return N||(N=this.createNamespace(m,v)),N}registerTrigger(m,v,N){let W=this._namespaceLookup[m];W&&W.register(v,N)&&this.totalAnimations++}destroy(m,v){if(!m)return;const N=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(N.hostElement),delete this._namespaceLookup[m];const W=this._namespaceList.indexOf(N);W>=0&&this._namespaceList.splice(W,1)}),this.afterFlushAnimationsDone(()=>N.destroy(v))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const v=new Set,N=this.statesByElement.get(m);if(N)for(let W of N.values())if(W.namespaceId){const ne=this._fetchNamespace(W.namespaceId);ne&&v.add(ne)}return v}trigger(m,v,N,W){if(ls(v)){const ne=this._fetchNamespace(m);if(ne)return ne.trigger(v,N,W),!0}return!1}insertNode(m,v,N,W){if(!ls(v))return;const ne=v[Ni];if(ne&&ne.setForRemoval){ne.setForRemoval=!1,ne.setForMove=!0;const Ce=this.collectedLeaveElements.indexOf(v);Ce>=0&&this.collectedLeaveElements.splice(Ce,1)}if(m){const Ce=this._fetchNamespace(m);Ce&&Ce.insertNode(v,N)}W&&this.collectEnterElement(v)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,v){v?this.disabledNodes.has(m)||(this.disabledNodes.add(m),Hi(m,$r)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),j(m,$r))}removeNode(m,v,N,W){if(ls(v)){const ne=m?this._fetchNamespace(m):null;if(ne?ne.removeNode(v,W):this.markElementAsRemoved(m,v,!1,W),N){const Ce=this.namespacesByHostElement.get(v);Ce&&Ce.id!==m&&Ce.removeNode(v,W)}}else this._onRemovalComplete(v,W)}markElementAsRemoved(m,v,N,W,ne){this.collectedLeaveElements.push(v),v[Ni]={namespaceId:m,setForRemoval:W,hasAnimation:N,removedBeforeQueried:!1,previousTriggersValues:ne}}listen(m,v,N,W,ne){return ls(v)?this._fetchNamespace(m).listen(v,N,W,ne):()=>{}}_buildInstruction(m,v,N,W,ne){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,N,W,m.fromState.options,m.toState.options,v,ne)}destroyInnerAnimations(m){let v=this.driver.query(m,Se,!0);v.forEach(N=>this.destroyActiveAnimationsForElement(N)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(m,At,!0),v.forEach(N=>this.finishActiveQueriedAnimationOnElement(N)))}destroyActiveAnimationsForElement(m){const v=this.playersByElement.get(m);v&&v.forEach(N=>{N.queued?N.markedForDestroy=!0:N.destroy()})}finishActiveQueriedAnimationOnElement(m){const v=this.playersByQueriedElement.get(m);v&&v.forEach(N=>N.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return J(this.players).onDone(()=>m());m()})}processLeaveNode(m){const v=m[Ni];if(v&&v.setForRemoval){if(m[Ni]=Ci,v.namespaceId){this.destroyInnerAnimations(m);const N=this._fetchNamespace(v.namespaceId);N&&N.clearElementCache(m)}this._onRemovalComplete(m,v.setForRemoval)}m.classList?.contains($r)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(N=>{this.markElementAsDisabled(N,!1)})}flush(m=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((N,W)=>this._balanceNamespaceList(N,W)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let N=0;N<this.collectedEnterElements.length;N++)Hi(this.collectedEnterElements[N],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const N=[];try{v=this._flushAnimations(N,m)}finally{for(let W=0;W<N.length;W++)N[W]()}}else for(let N=0;N<this.collectedLeaveElements.length;N++)this.processLeaveNode(this.collectedLeaveElements[N]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(N=>N()),this._flushFns=[],this._whenQuietFns.length){const N=this._whenQuietFns;this._whenQuietFns=[],v.length?J(v).onDone(()=>{N.forEach(W=>W())}):N.forEach(W=>W())}}reportError(m){throw function Cr(P){return new $.vHH(3402,!1)}()}_flushAnimations(m,v){const N=new Bi,W=[],ne=new Map,Ce=[],Te=new Map,et=new Map,It=new Map,Yt=new Set;this.disabledNodes.forEach(ze=>{Yt.add(ze);const at=this.driver.query(ze,".ng-animate-queued",!0);for(let on=0;on<at.length;on++)Yt.add(at[on])});const fn=this.bodyNode,$n=Array.from(this.statesByElement.keys()),Yn=No($n,this.collectedEnterElements),Rn=new Map;let Kn=0;Yn.forEach((ze,at)=>{const on=pe+Kn++;Rn.set(at,on),ze.forEach(Vr=>Hi(Vr,on))});const ti=[],qr=new Set,cs=new Set;for(let ze=0;ze<this.collectedLeaveElements.length;ze++){const at=this.collectedLeaveElements[ze],on=at[Ni];on&&on.setForRemoval&&(ti.push(at),qr.add(at),on.hasAnimation?this.driver.query(at,".ng-star-inserted",!0).forEach(Vr=>qr.add(Vr)):cs.add(at))}const Zr=new Map,Ei=No($n,Array.from(qr));Ei.forEach((ze,at)=>{const on=_e+Kn++;Zr.set(at,on),ze.forEach(Vr=>Hi(Vr,on))}),m.push(()=>{Yn.forEach((ze,at)=>{const on=Rn.get(at);ze.forEach(Vr=>j(Vr,on))}),Ei.forEach((ze,at)=>{const on=Zr.get(at);ze.forEach(Vr=>j(Vr,on))}),ti.forEach(ze=>{this.processLeaveNode(ze)})});const ro=[],zi=[];for(let ze=this._namespaceList.length-1;ze>=0;ze--)this._namespaceList[ze].drainQueuedTransitions(v).forEach(on=>{const Vr=on.player,yr=on.element;if(ro.push(Vr),this.collectedEnterElements.length){const Zi=yr[Ni];if(Zi&&Zi.setForMove){if(Zi.previousTriggersValues&&Zi.previousTriggersValues.has(on.triggerName)){const io=Zi.previousTriggersValues.get(on.triggerName),rs=this.statesByElement.get(on.element);if(rs&&rs.has(on.triggerName)){const Jn=rs.get(on.triggerName);Jn.value=io,rs.set(on.triggerName,Jn)}}return void Vr.destroy()}}const Eo=!fn||!this.driver.containsElement(fn,yr),ns=Zr.get(yr),Fi=Rn.get(yr),mi=this._buildInstruction(on,N,Fi,ns,Eo);if(mi.errors&&mi.errors.length)return void zi.push(mi);if(Eo)return Vr.onStart(()=>Gn(yr,mi.fromStyles)),Vr.onDestroy(()=>Ln(yr,mi.toStyles)),void W.push(Vr);if(on.isFallbackTransition)return Vr.onStart(()=>Gn(yr,mi.fromStyles)),Vr.onDestroy(()=>Ln(yr,mi.toStyles)),void W.push(Vr);const $o=[];mi.timelines.forEach(Zi=>{Zi.stretchStartingKeyframe=!0,this.disabledNodes.has(Zi.element)||$o.push(Zi)}),mi.timelines=$o,N.append(yr,mi.timelines),Ce.push({instruction:mi,player:Vr,element:yr}),mi.queriedElements.forEach(Zi=>kt(Te,Zi,[]).push(Vr)),mi.preStyleProps.forEach((Zi,io)=>{if(Zi.size){let rs=et.get(io);rs||et.set(io,rs=new Set),Zi.forEach((Jn,bo)=>rs.add(bo))}}),mi.postStyleProps.forEach((Zi,io)=>{let rs=It.get(io);rs||It.set(io,rs=new Set),Zi.forEach((Jn,bo)=>rs.add(bo))})});if(zi.length){const ze=[];zi.forEach(at=>{ze.push(function xr(P,m){return new $.vHH(3505,!1)}())}),ro.forEach(at=>at.destroy()),this.reportError(ze)}const Fs=new Map,Ut=new Map;Ce.forEach(ze=>{const at=ze.element;N.has(at)&&(Ut.set(at,at),this._beforeAnimationBuild(ze.player.namespaceId,ze.instruction,Fs))}),W.forEach(ze=>{const at=ze.element;this._getPreviousPlayers(at,!1,ze.namespaceId,ze.triggerName,null).forEach(Vr=>{kt(Fs,at,[]).push(Vr),Vr.destroy()})});const Pr=ti.filter(ze=>C(ze,et,It)),ts=new Map;to(ts,this.driver,cs,It,fe.l3).forEach(ze=>{C(ze,et,It)&&Pr.push(ze)});const qt=new Map;Yn.forEach((ze,at)=>{to(qt,this.driver,new Set(ze),et,fe.k1)}),Pr.forEach(ze=>{const at=ts.get(ze),on=qt.get(ze);ts.set(ze,new Map([...Array.from(at?.entries()??[]),...Array.from(on?.entries()??[])]))});const Sn=[],Ia=[],pn={};Ce.forEach(ze=>{const{element:at,player:on,instruction:Vr}=ze;if(N.has(at)){if(Yt.has(at))return on.onDestroy(()=>Ln(at,Vr.toStyles)),on.disabled=!0,on.overrideTotalTime(Vr.totalTime),void W.push(on);let yr=pn;if(Ut.size>1){let ns=at;const Fi=[];for(;ns=ns.parentNode;){const mi=Ut.get(ns);if(mi){yr=mi;break}Fi.push(ns)}Fi.forEach(mi=>Ut.set(mi,yr))}const Eo=this._buildAnimation(on.namespaceId,Vr,Fs,ne,qt,ts);if(on.setRealPlayer(Eo),yr===pn)Sn.push(on);else{const ns=this.playersByElement.get(yr);ns&&ns.length&&(on.parentPlayer=J(ns)),W.push(on)}}else Gn(at,Vr.fromStyles),on.onDestroy(()=>Ln(at,Vr.toStyles)),Ia.push(on),Yt.has(at)&&W.push(on)}),Ia.forEach(ze=>{const at=ne.get(ze.element);if(at&&at.length){const on=J(at);ze.setRealPlayer(on)}}),W.forEach(ze=>{ze.parentPlayer?ze.syncPlayerEvents(ze.parentPlayer):ze.destroy()});for(let ze=0;ze<ti.length;ze++){const at=ti[ze],on=at[Ni];if(j(at,_e),on&&on.hasAnimation)continue;let Vr=[];if(Te.size){let Eo=Te.get(at);Eo&&Eo.length&&Vr.push(...Eo);let ns=this.driver.query(at,At,!0);for(let Fi=0;Fi<ns.length;Fi++){let mi=Te.get(ns[Fi]);mi&&mi.length&&Vr.push(...mi)}}const yr=Vr.filter(Eo=>!Eo.destroyed);yr.length?B(this,at,yr):this.processLeaveNode(at)}return ti.length=0,Sn.forEach(ze=>{this.players.push(ze),ze.onDone(()=>{ze.destroy();const at=this.players.indexOf(ze);this.players.splice(at,1)}),ze.play()}),Sn}elementContainsData(m,v){let N=!1;const W=v[Ni];return W&&W.setForRemoval&&(N=!0),this.playersByElement.has(v)&&(N=!0),this.playersByQueriedElement.has(v)&&(N=!0),this.statesByElement.has(v)&&(N=!0),this._fetchNamespace(m).elementContainsData(v)||N}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,v,N,W,ne){let Ce=[];if(v){const Te=this.playersByQueriedElement.get(m);Te&&(Ce=Te)}else{const Te=this.playersByElement.get(m);if(Te){const et=!ne||ne==fi;Te.forEach(It=>{It.queued||!et&&It.triggerName!=W||Ce.push(It)})}}return(N||W)&&(Ce=Ce.filter(Te=>!(N&&N!=Te.namespaceId||W&&W!=Te.triggerName))),Ce}_beforeAnimationBuild(m,v,N){const ne=v.element,Ce=v.isRemovalTransition?void 0:m,Te=v.isRemovalTransition?void 0:v.triggerName;for(const et of v.timelines){const It=et.element,Yt=It!==ne,fn=kt(N,It,[]);this._getPreviousPlayers(It,Yt,Ce,Te,v.toState).forEach(Yn=>{const Rn=Yn.getRealPlayer();Rn.beforeDestroy&&Rn.beforeDestroy(),Yn.destroy(),fn.push(Yn)})}Gn(ne,v.fromStyles)}_buildAnimation(m,v,N,W,ne,Ce){const Te=v.triggerName,et=v.element,It=[],Yt=new Set,fn=new Set,$n=v.timelines.map(Rn=>{const Kn=Rn.element;Yt.add(Kn);const ti=Kn[Ni];if(ti&&ti.removedBeforeQueried)return new fe.ZN(Rn.duration,Rn.delay);const qr=Kn!==et,cs=function oe(P){const m=[];return be(P,m),m}((N.get(Kn)||xs).map(Fs=>Fs.getRealPlayer())).filter(Fs=>!!Fs.element&&Fs.element===Kn),Zr=ne.get(Kn),Ei=Ce.get(Kn),ro=Ne(0,this._normalizer,0,Rn.keyframes,Zr,Ei),zi=this._buildPlayer(Rn,ro,cs);if(Rn.subTimeline&&W&&fn.add(Kn),qr){const Fs=new Io(m,Te,Kn);Fs.setRealPlayer(zi),It.push(Fs)}return zi});It.forEach(Rn=>{kt(this.playersByQueriedElement,Rn.element,[]).push(Rn),Rn.onDone(()=>function us(P,m,v){let N=P.get(m);if(N){if(N.length){const W=N.indexOf(v);N.splice(W,1)}0==N.length&&P.delete(m)}return N}(this.playersByQueriedElement,Rn.element,Rn))}),Yt.forEach(Rn=>Hi(Rn,rt));const Yn=J($n);return Yn.onDestroy(()=>{Yt.forEach(Rn=>j(Rn,rt)),Ln(et,v.toStyles)}),fn.forEach(Rn=>{kt(W,Rn,[]).push(Yn)}),Yn}_buildPlayer(m,v,N){return v.length>0?this.driver.animate(m.element,v,m.duration,m.delay,m.easing,N):new fe.ZN(m.duration,m.delay)}}class Io{constructor(m,v,N){this.namespaceId=m,this.triggerName=v,this.element=N,this._player=new fe.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((v,N)=>{v.forEach(W=>qe(m,N,void 0,W))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const v=this._player;v.triggerCallback&&m.onStart(()=>v.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,v){kt(this._queuedCallbacks,m,[]).push(v)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const v=this._player;v.triggerCallback&&v.triggerCallback(m)}}function ls(P){return P&&1===P.nodeType}function _s(P,m){const v=P.style.display;return P.style.display=m??"none",v}function to(P,m,v,N,W){const ne=[];v.forEach(et=>ne.push(_s(et)));const Ce=[];N.forEach((et,It)=>{const Yt=new Map;et.forEach(fn=>{const $n=m.computeStyle(It,fn,W);Yt.set(fn,$n),(!$n||0==$n.length)&&(It[Ni]=Ri,Ce.push(It))}),P.set(It,Yt)});let Te=0;return v.forEach(et=>_s(et,ne[Te++])),Ce}function No(P,m){const v=new Map;if(P.forEach(Te=>v.set(Te,[])),0==m.length)return v;const N=1,W=new Set(m),ne=new Map;function Ce(Te){if(!Te)return N;let et=ne.get(Te);if(et)return et;const It=Te.parentNode;return et=v.has(It)?It:W.has(It)?N:Ce(It),ne.set(Te,et),et}return m.forEach(Te=>{const et=Ce(Te);et!==N&&v.get(et).push(Te)}),v}function Hi(P,m){P.classList?.add(m)}function j(P,m){P.classList?.remove(m)}function B(P,m,v){J(v).onDone(()=>P.processLeaveNode(m))}function be(P,m){for(let v=0;v<P.length;v++){const N=P[v];N instanceof fe.ZE?be(N.players,m):m.push(N)}}function C(P,m,v){const N=v.get(P);if(!N)return!1;let W=m.get(P);return W?N.forEach(ne=>W.add(ne)):m.set(P,N),v.delete(P),!0}class A{constructor(m,v,N){this.bodyNode=m,this._driver=v,this._normalizer=N,this._triggerCache={},this.onRemovalComplete=(W,ne)=>{},this._transitionEngine=new eo(m,v,N),this._timelineEngine=new Qs(m,v,N),this._transitionEngine.onRemovalComplete=(W,ne)=>this.onRemovalComplete(W,ne)}registerTrigger(m,v,N,W,ne){const Ce=m+"-"+W;let Te=this._triggerCache[Ce];if(!Te){const et=[],It=[],Yt=qi(this._driver,ne,et,It);if(et.length)throw function nr(P,m){return new $.vHH(3404,!1)}();Te=function Bo(P,m,v){return new Yo(P,m,v)}(W,Yt,this._normalizer),this._triggerCache[Ce]=Te}this._transitionEngine.registerTrigger(v,W,Te)}register(m,v){this._transitionEngine.register(m,v)}destroy(m,v){this._transitionEngine.destroy(m,v)}onInsert(m,v,N,W){this._transitionEngine.insertNode(m,v,N,W)}onRemove(m,v,N,W){this._transitionEngine.removeNode(m,v,W||!1,N)}disableAnimations(m,v){this._transitionEngine.markElementAsDisabled(m,v)}process(m,v,N,W){if("@"==N.charAt(0)){const[ne,Ce]=Ht(N);this._timelineEngine.command(ne,v,Ce,W)}else this._transitionEngine.trigger(m,v,N,W)}listen(m,v,N,W,ne){if("@"==N.charAt(0)){const[Ce,Te]=Ht(N);return this._timelineEngine.listen(Ce,v,Te,ne)}return this._transitionEngine.listen(m,v,N,W,ne)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Re=(()=>{class P{constructor(v,N,W){this._element=v,this._startStyles=N,this._endStyles=W,this._state=0;let ne=P.initialStylesByElement.get(v);ne||P.initialStylesByElement.set(v,ne=new Map),this._initialStyles=ne}start(){this._state<1&&(this._startStyles&&Ln(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ln(this._element,this._initialStyles),this._endStyles&&(Ln(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(P.initialStylesByElement.delete(this._element),this._startStyles&&(Gn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gn(this._element,this._endStyles),this._endStyles=null),Ln(this._element,this._initialStyles),this._state=3)}}return P.initialStylesByElement=new WeakMap,P})();function Mt(P){let m=null;return P.forEach((v,N)=>{(function vn(P){return"display"===P||"position"===P})(N)&&(m=m||new Map,m.set(N,v))}),m}class Xn{constructor(m,v,N,W){this.element=m,this.keyframes=v,this.options=N,this._specialStyles=W,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=N.duration,this._delay=N.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const v=[];return m.forEach(N=>{v.push(Object.fromEntries(N))}),v}_triggerWebAnimation(m,v,N){return m.animate(this._convertKeyframesToObject(v),N)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((N,W)=>{"offset"!==W&&m.set(W,this._finished?N:bi(this.element,W))}),this.currentSnapshot=m}triggerCallback(m){const v="start"===m?this._onStartFns:this._onDoneFns;v.forEach(N=>N()),v.length=0}}class or{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,v){return!1}containsElement(m,v){return Ir(m,v)}getParentElement(m){return Wt(m)}query(m,v,N){return mr(m,v,N)}computeStyle(m,v,N){return window.getComputedStyle(m)[v]}animate(m,v,N,W,ne,Ce=[]){const et={duration:N,delay:W,fill:0==W?"both":"forwards"};ne&&(et.easing=ne);const It=new Map,Yt=Ce.filter(Yn=>Yn instanceof Xn);(function fr(P,m){return 0===P||0===m})(N,W)&&Yt.forEach(Yn=>{Yn.currentSnapshot.forEach((Rn,Kn)=>It.set(Kn,Rn))});let fn=function Nt(P){return P.length?P[0]instanceof Map?P:P.map(m=>it(m)):[]}(v).map(Yn=>_n(Yn));fn=function Wi(P,m,v){if(v.size&&m.length){let N=m[0],W=[];if(v.forEach((ne,Ce)=>{N.has(Ce)||W.push(Ce),N.set(Ce,ne)}),W.length)for(let ne=1;ne<m.length;ne++){let Ce=m[ne];W.forEach(Te=>Ce.set(Te,bi(P,Te)))}}return m}(m,fn,It);const $n=function Q(P,m){let v=null,N=null;return Array.isArray(m)&&m.length?(v=Mt(m[0]),m.length>1&&(N=Mt(m[m.length-1]))):m instanceof Map&&(v=Mt(m)),v||N?new Re(P,v,N):null}(m,fn);return new Xn(m,fn,et,$n)}}let Fr=(()=>{class P extends fe._j{constructor(v,N){super(),this._nextAnimationId=0,this._renderer=v.createRenderer(N.body,{id:"0",encapsulation:$.ifc.None,styles:[],data:{animation:[]}})}build(v){const N=this._nextAnimationId.toString();this._nextAnimationId++;const W=Array.isArray(v)?(0,fe.vP)(v):v;return Kr(this._renderer,null,N,"register",[W]),new Jr(N,this._renderer)}}return P.\u0275fac=function(v){return new(v||P)($.LFG($.FYo),$.LFG(de.K0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();class Jr extends fe.LC{constructor(m,v){super(),this._id=m,this._renderer=v}create(m,v){return new gi(this._id,m,v||{},this._renderer)}}class gi{constructor(m,v,N,W){this.id=m,this.element=v,this._renderer=W,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",N)}_listen(m,v){return this._renderer.listen(this.element,`@@${this.id}:${m}`,v)}_command(m,...v){return Kr(this._renderer,this.element,this.id,m,v)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Kr(P,m,v,N,W){return P.setProperty(m,`@@${v}:${N}`,W)}const oi="@.disabled";let ai=(()=>{class P{constructor(v,N,W){this.delegate=v,this.engine=N,this._zone=W,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),N.onRemovalComplete=(ne,Ce)=>{const Te=Ce?.parentNode(ne);Te&&Ce.removeChild(Te,ne)}}createRenderer(v,N){const ne=this.delegate.createRenderer(v,N);if(!(v&&N&&N.data&&N.data.animation)){let Yt=this._rendererCache.get(ne);return Yt||(Yt=new Hr("",ne,this.engine,()=>this._rendererCache.delete(ne)),this._rendererCache.set(ne,Yt)),Yt}const Ce=N.id,Te=N.id+"-"+this._currentId;this._currentId++,this.engine.register(Te,v);const et=Yt=>{Array.isArray(Yt)?Yt.forEach(et):this.engine.registerTrigger(Ce,Te,v,Yt.name,Yt)};return N.data.animation.forEach(et),new Xi(this,Te,ne,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(v,N,W){v>=0&&v<this._microtaskId?this._zone.run(()=>N(W)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ne=>{const[Ce,Te]=ne;Ce(Te)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([N,W]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return P.\u0275fac=function(v){return new(v||P)($.LFG($.FYo),$.LFG(A),$.LFG($.R0b))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();class Hr{constructor(m,v,N,W){this.namespaceId=m,this.delegate=v,this.engine=N,this._onDestroy=W,this.destroyNode=this.delegate.destroyNode?ne=>v.destroyNode(ne):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(m,v){return this.delegate.createElement(m,v)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,v){this.delegate.appendChild(m,v),this.engine.onInsert(this.namespaceId,v,m,!1)}insertBefore(m,v,N,W=!0){this.delegate.insertBefore(m,v,N),this.engine.onInsert(this.namespaceId,v,m,W)}removeChild(m,v,N){this.engine.onRemove(this.namespaceId,v,this.delegate,N)}selectRootElement(m,v){return this.delegate.selectRootElement(m,v)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,v,N,W){this.delegate.setAttribute(m,v,N,W)}removeAttribute(m,v,N){this.delegate.removeAttribute(m,v,N)}addClass(m,v){this.delegate.addClass(m,v)}removeClass(m,v){this.delegate.removeClass(m,v)}setStyle(m,v,N,W){this.delegate.setStyle(m,v,N,W)}removeStyle(m,v,N){this.delegate.removeStyle(m,v,N)}setProperty(m,v,N){"@"==v.charAt(0)&&v==oi?this.disableAnimations(m,!!N):this.delegate.setProperty(m,v,N)}setValue(m,v){this.delegate.setValue(m,v)}listen(m,v,N){return this.delegate.listen(m,v,N)}disableAnimations(m,v){this.engine.disableAnimations(m,v)}}class Xi extends Hr{constructor(m,v,N,W,ne){super(v,N,W,ne),this.factory=m,this.namespaceId=v}setProperty(m,v,N){"@"==v.charAt(0)?"."==v.charAt(1)&&v==oi?this.disableAnimations(m,N=void 0===N||!!N):this.engine.process(this.namespaceId,m,v.slice(1),N):this.delegate.setProperty(m,v,N)}listen(m,v,N){if("@"==v.charAt(0)){const W=function Os(P){switch(P){case"body":return document.body;case"document":return document;case"window":return window;default:return P}}(m);let ne=v.slice(1),Ce="";return"@"!=ne.charAt(0)&&([ne,Ce]=function ks(P){const m=P.indexOf(".");return[P.substring(0,m),P.slice(m+1)]}(ne)),this.engine.listen(this.namespaceId,W,ne,Ce,Te=>{this.factory.scheduleListenerCallback(Te._data||-1,N,Te)})}return this.delegate.listen(m,v,N)}}const ia=[{provide:fe._j,useClass:Fr},{provide:ji,useFactory:function jo(){return new Ss}},{provide:A,useClass:(()=>{class P extends A{constructor(v,N,W,ne){super(v.body,N,W)}ngOnDestroy(){this.flush()}}return P.\u0275fac=function(v){return new(v||P)($.LFG(de.K0),$.LFG(ie),$.LFG(ji),$.LFG($.z2F))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})()},{provide:$.FYo,useFactory:function Oi(P,m,v){return new ai(P,m,v)},deps:[p.se,A,$.R0b]}],no=[{provide:ie,useFactory:()=>new or},{provide:$.QbO,useValue:"BrowserAnimations"},...ia],sa=[{provide:ie,useClass:De},{provide:$.QbO,useValue:"NoopAnimations"},...ia];let oa=(()=>{class P{static withConfig(v){return{ngModule:P,providers:v.disableAnimations?sa:no}}}return P.\u0275fac=function(v){return new(v||P)},P.\u0275mod=$.oAB({type:P}),P.\u0275inj=$.cJS({providers:no,imports:[p.b2]}),P})();const vs="400ms cubic-bezier(0.4,0.0,0.2,1)";(0,fe.oB)({height:0,visibility:"hidden"}),(0,fe.jt)(vs,(0,fe.oB)({height:"*",visibility:"visible"})),(0,fe.oB)({height:"*",visibility:"visible"}),(0,fe.jt)(vs,(0,fe.oB)({height:0,visibility:"hidden"}));let wa=(()=>{class P{static forRoot(){return{ngModule:P,providers:[]}}}return P.\u0275fac=function(v){return new(v||P)},P.\u0275mod=$.oAB({type:P}),P.\u0275inj=$.cJS({}),P})();var fa=L(2381),ri=L(8664);let ua=(()=>{class P{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new $.vpe,this.isDisabledChange=new $.vpe,this.toggleClick=new $.vpe,this.counts=0,this.dropdownMenu=new Promise(v=>{this.resolveDropdownMenu=v})}}return P.\u0275fac=function(v){return new(v||P)},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac,providedIn:"platform"}),P})();(0,fe.oB)({height:0,overflow:"hidden"}),(0,fe.jt)("220ms cubic-bezier(0, 0, 0.2, 1)",(0,fe.oB)({height:"*",overflow:"hidden"}));let Da=(()=>{class P{static forRoot(){return{ngModule:P,providers:[fa.oj,ri.sA,ua]}}}return P.\u0275fac=function(v){return new(v||P)},P.\u0275mod=$.oAB({type:P}),P.\u0275inj=$.cJS({imports:[de.ez]}),P})();var x=L(2011),z=L(1762),F=L(1205);const te_fireConfig={apiKey:"AIzaSyCK36LnO8rQPqajJvCiodJcNHi_4O9dUYM",authDomain:"dcklbidcard-393403.firebaseapp.com",databaseURL:"https://dcklbidcard-393403-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"dcklbidcard-393403",storageBucket:"dcklbidcard-393403.appspot.com",messagingSenderId:"1058962515306",appId:"1:1058962515306:web:d792af41e1ced86eebf113",measurementId:"G-ER5BVG7G54"};var we=L(377);let ft=(()=>{var P;class m{}return(P=m).\u0275fac=function(N){return new(N||P)},P.\u0275mod=$.oAB({type:P,bootstrap:[We]}),P.\u0275inj=$.cJS({providers:[Ve.O],imports:[p.b2,Ye,oa,Z.u5,wa.forRoot(),Da.forRoot(),x.hO.initializeApp(te_fireConfig),z.yb,F.ww,we.TE]}),m})();p.q6().bootstrapModule(ft).catch(P=>console.error(P))},1135:(tn,st,L)=>{L.d(st,{X:()=>Z});var p=L(7579);class Z extends p.x{constructor($){super(),this._value=$}get value(){return this.getValue()}_subscribe($){const Le=super._subscribe($);return!Le.closed&&$.next(this._value),Le}getValue(){const{hasError:$,thrownError:Le,_value:ke}=this;if($)throw Le;return this._throwIfClosed(),ke}next($){super.next(this._value=$)}}},9751:(tn,st,L)=>{L.d(st,{y:()=>je});var p=L(930),Z=L(727),K=L(8822),$=L(9635),Le=L(2416),ke=L(576),Ye=L(2806);let je=(()=>{class xe{constructor(He){He&&(this._subscribe=He)}lift(He){const tt=new xe;return tt.source=this,tt.operator=He,tt}subscribe(He,tt,_t){const Qe=function he(xe){return xe&&xe instanceof p.Lv||function de(xe){return xe&&(0,ke.m)(xe.next)&&(0,ke.m)(xe.error)&&(0,ke.m)(xe.complete)}(xe)&&(0,Z.Nn)(xe)}(He)?He:new p.Hp(He,tt,_t);return(0,Ye.x)(()=>{const{operator:dt,source:Ie}=this;Qe.add(dt?dt.call(Qe,Ie):Ie?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe(He){try{return this._subscribe(He)}catch(tt){He.error(tt)}}forEach(He,tt){return new(tt=Ve(tt))((_t,Qe)=>{const dt=new p.Hp({next:Ie=>{try{He(Ie)}catch(Rt){Qe(Rt),dt.unsubscribe()}},error:Qe,complete:_t});this.subscribe(dt)})}_subscribe(He){var tt;return null===(tt=this.source)||void 0===tt?void 0:tt.subscribe(He)}[K.L](){return this}pipe(...He){return(0,$.U)(He)(this)}toPromise(He){return new(He=Ve(He))((tt,_t)=>{let Qe;this.subscribe(dt=>Qe=dt,dt=>_t(dt),()=>tt(Qe))})}}return xe.create=Et=>new xe(Et),xe})();function Ve(xe){var Et;return null!==(Et=xe??Le.v.Promise)&&void 0!==Et?Et:Promise}},7579:(tn,st,L)=>{L.d(st,{x:()=>Ye});var p=L(9751),Z=L(727);const $=(0,L(3888).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Le=L(8737),ke=L(2806);let Ye=(()=>{class Ve extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const xe=new je(this,this);return xe.operator=he,xe}_throwIfClosed(){if(this.closed)throw new $}next(he){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(he)}})}error(he){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:xe}=this;for(;xe.length;)xe.shift().error(he)}})}complete(){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:xe,isStopped:Et,observers:He}=this;return xe||Et?Z.Lc:(this.currentObservers=null,He.push(he),new Z.w0(()=>{this.currentObservers=null,(0,Le.P)(He,he)}))}_checkFinalizedStatuses(he){const{hasError:xe,thrownError:Et,isStopped:He}=this;xe?he.error(Et):He&&he.complete()}asObservable(){const he=new p.y;return he.source=this,he}}return Ve.create=(de,he)=>new je(de,he),Ve})();class je extends Ye{constructor(de,he){super(),this.destination=de,this.source=he}next(de){var he,xe;null===(xe=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===xe||xe.call(he,de)}error(de){var he,xe;null===(xe=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===xe||xe.call(he,de)}complete(){var de,he;null===(he=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===he||he.call(de)}_subscribe(de){var he,xe;return null!==(xe=null===(he=this.source)||void 0===he?void 0:he.subscribe(de))&&void 0!==xe?xe:Z.Lc}}},930:(tn,st,L)=>{L.d(st,{Hp:()=>_t,Lv:()=>xe});var p=L(576),Z=L(727),K=L(2416),$=L(7849),Le=L(5032);const ke=Ve("C",void 0,void 0);function Ve(We,fe,Ue){return{kind:We,value:fe,error:Ue}}var de=L(3410),he=L(2806);class xe extends Z.w0{constructor(fe){super(),this.isStopped=!1,fe?(this.destination=fe,(0,Z.Nn)(fe)&&fe.add(this)):this.destination=Rt}static create(fe,Ue,ht){return new _t(fe,Ue,ht)}next(fe){this.isStopped?Ie(function je(We){return Ve("N",We,void 0)}(fe),this):this._next(fe)}error(fe){this.isStopped?Ie(function Ye(We){return Ve("E",void 0,We)}(fe),this):(this.isStopped=!0,this._error(fe))}complete(){this.isStopped?Ie(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(fe){this.destination.next(fe)}_error(fe){try{this.destination.error(fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Et=Function.prototype.bind;function He(We,fe){return Et.call(We,fe)}class tt{constructor(fe){this.partialObserver=fe}next(fe){const{partialObserver:Ue}=this;if(Ue.next)try{Ue.next(fe)}catch(ht){Qe(ht)}}error(fe){const{partialObserver:Ue}=this;if(Ue.error)try{Ue.error(fe)}catch(ht){Qe(ht)}else Qe(fe)}complete(){const{partialObserver:fe}=this;if(fe.complete)try{fe.complete()}catch(Ue){Qe(Ue)}}}class _t extends xe{constructor(fe,Ue,ht){let vt;if(super(),(0,p.m)(fe)||!fe)vt={next:fe??void 0,error:Ue??void 0,complete:ht??void 0};else{let Ee;this&&K.v.useDeprecatedNextContext?(Ee=Object.create(fe),Ee.unsubscribe=()=>this.unsubscribe(),vt={next:fe.next&&He(fe.next,Ee),error:fe.error&&He(fe.error,Ee),complete:fe.complete&&He(fe.complete,Ee)}):vt=fe}this.destination=new tt(vt)}}function Qe(We){K.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(We):(0,$.h)(We)}function Ie(We,fe){const{onStoppedNotification:Ue}=K.v;Ue&&de.z.setTimeout(()=>Ue(We,fe))}const Rt={closed:!0,next:Le.Z,error:function dt(We){throw We},complete:Le.Z}},727:(tn,st,L)=>{L.d(st,{Lc:()=>ke,w0:()=>Le,Nn:()=>Ye});var p=L(576);const K=(0,L(3888).d)(Ve=>function(he){Ve(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((xe,Et)=>`${Et+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var $=L(8737);class Le{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const He of he)He.remove(this);else he.remove(this);const{initialTeardown:xe}=this;if((0,p.m)(xe))try{xe()}catch(He){de=He instanceof K?He.errors:[He]}const{_finalizers:Et}=this;if(Et){this._finalizers=null;for(const He of Et)try{je(He)}catch(tt){de=de??[],tt instanceof K?de=[...de,...tt.errors]:de.push(tt)}}if(de)throw new K(de)}}add(de){var he;if(de&&de!==this)if(this.closed)je(de);else{if(de instanceof Le){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(de)}}_hasParent(de){const{_parentage:he}=this;return he===de||Array.isArray(he)&&he.includes(de)}_addParent(de){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(de),he):he?[he,de]:de}_removeParent(de){const{_parentage:he}=this;he===de?this._parentage=null:Array.isArray(he)&&(0,$.P)(he,de)}remove(de){const{_finalizers:he}=this;he&&(0,$.P)(he,de),de instanceof Le&&de._removeParent(this)}}Le.EMPTY=(()=>{const Ve=new Le;return Ve.closed=!0,Ve})();const ke=Le.EMPTY;function Ye(Ve){return Ve instanceof Le||Ve&&"closed"in Ve&&(0,p.m)(Ve.remove)&&(0,p.m)(Ve.add)&&(0,p.m)(Ve.unsubscribe)}function je(Ve){(0,p.m)(Ve)?Ve():Ve.unsubscribe()}},2416:(tn,st,L)=>{L.d(st,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(tn,st,L)=>{L.d(st,{a:()=>de});var p=L(9751),Z=L(4742),K=L(8996),$=L(4671),Le=L(3268),ke=L(3269),Ye=L(1810),je=L(5403),Ve=L(9672);function de(...Et){const He=(0,ke.yG)(Et),tt=(0,ke.jO)(Et),{args:_t,keys:Qe}=(0,Z.D)(Et);if(0===_t.length)return(0,K.D)([],He);const dt=new p.y(function he(Et,He,tt=$.y){return _t=>{xe(He,()=>{const{length:Qe}=Et,dt=new Array(Qe);let Ie=Qe,Rt=Qe;for(let We=0;We<Qe;We++)xe(He,()=>{const fe=(0,K.D)(Et[We],He);let Ue=!1;fe.subscribe((0,je.x)(_t,ht=>{dt[We]=ht,Ue||(Ue=!0,Rt--),Rt||_t.next(tt(dt.slice()))},()=>{--Ie||_t.complete()}))},_t)},_t)}}(_t,He,Qe?Ie=>(0,Ye.n)(Qe,Ie):$.y));return tt?dt.pipe((0,Le.Z)(tt)):dt}function xe(Et,He,tt){Et?(0,Ve.f)(tt,Et,He):He()}},7272:(tn,st,L)=>{L.d(st,{z:()=>Le});var p=L(8189),K=L(3269),$=L(8996);function Le(...ke){return function Z(){return(0,p.J)(1)}()((0,$.D)(ke,(0,K.yG)(ke)))}},515:(tn,st,L)=>{L.d(st,{E:()=>Z});const Z=new(L(9751).y)(Le=>Le.complete())},8996:(tn,st,L)=>{L.d(st,{D:()=>fe});var p=L(8421),Z=L(5363),K=L(9468),ke=L(9751),je=L(2202),Ve=L(576),de=L(9672);function xe(Ue,ht){if(!Ue)throw new Error("Iterable cannot be null");return new ke.y(vt=>{(0,de.f)(vt,ht,()=>{const Ee=Ue[Symbol.asyncIterator]();(0,de.f)(vt,ht,()=>{Ee.next().then(Ft=>{Ft.done?vt.complete():vt.next(Ft.value)})},0,!0)})})}var Et=L(3670),He=L(8239),tt=L(1144),_t=L(6495),Qe=L(2206),dt=L(4532),Ie=L(3260);function fe(Ue,ht){return ht?function We(Ue,ht){if(null!=Ue){if((0,Et.c)(Ue))return function $(Ue,ht){return(0,p.Xf)(Ue).pipe((0,K.R)(ht),(0,Z.Q)(ht))}(Ue,ht);if((0,tt.z)(Ue))return function Ye(Ue,ht){return new ke.y(vt=>{let Ee=0;return ht.schedule(function(){Ee===Ue.length?vt.complete():(vt.next(Ue[Ee++]),vt.closed||this.schedule())})})}(Ue,ht);if((0,He.t)(Ue))return function Le(Ue,ht){return(0,p.Xf)(Ue).pipe((0,K.R)(ht),(0,Z.Q)(ht))}(Ue,ht);if((0,Qe.D)(Ue))return xe(Ue,ht);if((0,_t.T)(Ue))return function he(Ue,ht){return new ke.y(vt=>{let Ee;return(0,de.f)(vt,ht,()=>{Ee=Ue[je.h](),(0,de.f)(vt,ht,()=>{let Ft,xt;try{({value:Ft,done:xt}=Ee.next())}catch(bt){return void vt.error(bt)}xt?vt.complete():vt.next(Ft)},0,!0)}),()=>(0,Ve.m)(Ee?.return)&&Ee.return()})}(Ue,ht);if((0,Ie.L)(Ue))return function Rt(Ue,ht){return xe((0,Ie.Q)(Ue),ht)}(Ue,ht)}throw(0,dt.z)(Ue)}(Ue,ht):(0,p.Xf)(Ue)}},4968:(tn,st,L)=>{L.d(st,{R:()=>de});var p=L(8421),Z=L(9751),K=L(5577),$=L(1144),Le=L(576),ke=L(3268);const Ye=["addListener","removeListener"],je=["addEventListener","removeEventListener"],Ve=["on","off"];function de(tt,_t,Qe,dt){if((0,Le.m)(Qe)&&(dt=Qe,Qe=void 0),dt)return de(tt,_t,Qe).pipe((0,ke.Z)(dt));const[Ie,Rt]=function He(tt){return(0,Le.m)(tt.addEventListener)&&(0,Le.m)(tt.removeEventListener)}(tt)?je.map(We=>fe=>tt[We](_t,fe,Qe)):function xe(tt){return(0,Le.m)(tt.addListener)&&(0,Le.m)(tt.removeListener)}(tt)?Ye.map(he(tt,_t)):function Et(tt){return(0,Le.m)(tt.on)&&(0,Le.m)(tt.off)}(tt)?Ve.map(he(tt,_t)):[];if(!Ie&&(0,$.z)(tt))return(0,K.z)(We=>de(We,_t,Qe))((0,p.Xf)(tt));if(!Ie)throw new TypeError("Invalid event target");return new Z.y(We=>{const fe=(...Ue)=>We.next(1<Ue.length?Ue:Ue[0]);return Ie(fe),()=>Rt(fe)})}function he(tt,_t){return Qe=>dt=>tt[Qe](_t,dt)}},8421:(tn,st,L)=>{L.d(st,{Xf:()=>Et});var p=L(7582),Z=L(1144),K=L(8239),$=L(9751),Le=L(3670),ke=L(2206),Ye=L(4532),je=L(6495),Ve=L(3260),de=L(576),he=L(7849),xe=L(8822);function Et(We){if(We instanceof $.y)return We;if(null!=We){if((0,Le.c)(We))return function He(We){return new $.y(fe=>{const Ue=We[xe.L]();if((0,de.m)(Ue.subscribe))return Ue.subscribe(fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,Z.z)(We))return function tt(We){return new $.y(fe=>{for(let Ue=0;Ue<We.length&&!fe.closed;Ue++)fe.next(We[Ue]);fe.complete()})}(We);if((0,K.t)(We))return function _t(We){return new $.y(fe=>{We.then(Ue=>{fe.closed||(fe.next(Ue),fe.complete())},Ue=>fe.error(Ue)).then(null,he.h)})}(We);if((0,ke.D)(We))return dt(We);if((0,je.T)(We))return function Qe(We){return new $.y(fe=>{for(const Ue of We)if(fe.next(Ue),fe.closed)return;fe.complete()})}(We);if((0,Ve.L)(We))return function Ie(We){return dt((0,Ve.Q)(We))}(We)}throw(0,Ye.z)(We)}function dt(We){return new $.y(fe=>{(function Rt(We,fe){var Ue,ht,vt,Ee;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Ue=(0,p.KL)(We);!(ht=yield Ue.next()).done;)if(fe.next(ht.value),fe.closed)return}catch(Ft){vt={error:Ft}}finally{try{ht&&!ht.done&&(Ee=Ue.return)&&(yield Ee.call(Ue))}finally{if(vt)throw vt.error}}fe.complete()})})(We,fe).catch(Ue=>fe.error(Ue))})}},6451:(tn,st,L)=>{L.d(st,{T:()=>ke});var p=L(8189),Z=L(8421),K=L(515),$=L(3269),Le=L(8996);function ke(...Ye){const je=(0,$.yG)(Ye),Ve=(0,$._6)(Ye,1/0),de=Ye;return de.length?1===de.length?(0,Z.Xf)(de[0]):(0,p.J)(Ve)((0,Le.D)(de,je)):K.E}},9646:(tn,st,L)=>{L.d(st,{of:()=>K});var p=L(3269),Z=L(8996);function K(...$){const Le=(0,p.yG)($);return(0,Z.D)($,Le)}},5403:(tn,st,L)=>{L.d(st,{x:()=>Z});var p=L(930);function Z($,Le,ke,Ye,je){return new K($,Le,ke,Ye,je)}class K extends p.Lv{constructor(Le,ke,Ye,je,Ve,de){super(Le),this.onFinalize=Ve,this.shouldUnsubscribe=de,this._next=ke?function(he){try{ke(he)}catch(xe){Le.error(xe)}}:super._next,this._error=je?function(he){try{je(he)}catch(xe){Le.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=Ye?function(){try{Ye()}catch(he){Le.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(Le=this.onFinalize)||void 0===Le||Le.call(this))}}}},6590:(tn,st,L)=>{L.d(st,{d:()=>K});var p=L(4482),Z=L(5403);function K($){return(0,p.e)((Le,ke)=>{let Ye=!1;Le.subscribe((0,Z.x)(ke,je=>{Ye=!0,ke.next(je)},()=>{Ye||ke.next($),ke.complete()}))})}},1884:(tn,st,L)=>{L.d(st,{x:()=>$});var p=L(4671),Z=L(4482),K=L(5403);function $(ke,Ye=p.y){return ke=ke??Le,(0,Z.e)((je,Ve)=>{let de,he=!0;je.subscribe((0,K.x)(Ve,xe=>{const Et=Ye(xe);(he||!ke(de,Et))&&(he=!1,de=Et,Ve.next(xe))}))})}function Le(ke,Ye){return ke===Ye}},9300:(tn,st,L)=>{L.d(st,{h:()=>K});var p=L(4482),Z=L(5403);function K($,Le){return(0,p.e)((ke,Ye)=>{let je=0;ke.subscribe((0,Z.x)(Ye,Ve=>$.call(Le,Ve,je++)&&Ye.next(Ve)))})}},590:(tn,st,L)=>{L.d(st,{P:()=>Ye});var p=L(6805),Z=L(9300),K=L(5698),$=L(6590),Le=L(8068),ke=L(4671);function Ye(je,Ve){const de=arguments.length>=2;return he=>he.pipe(je?(0,Z.h)((xe,Et)=>je(xe,Et,he)):ke.y,(0,K.q)(1),de?(0,$.d)(Ve):(0,Le.T)(()=>new p.K))}},4004:(tn,st,L)=>{L.d(st,{U:()=>K});var p=L(4482),Z=L(5403);function K($,Le){return(0,p.e)((ke,Ye)=>{let je=0;ke.subscribe((0,Z.x)(Ye,Ve=>{Ye.next($.call(Le,Ve,je++))}))})}},8189:(tn,st,L)=>{L.d(st,{J:()=>K});var p=L(5577),Z=L(4671);function K($=1/0){return(0,p.z)(Z.y,$)}},5577:(tn,st,L)=>{L.d(st,{z:()=>je});var p=L(4004),Z=L(8421),K=L(4482),$=L(9672),Le=L(5403),Ye=L(576);function je(Ve,de,he=1/0){return(0,Ye.m)(de)?je((xe,Et)=>(0,p.U)((He,tt)=>de(xe,He,Et,tt))((0,Z.Xf)(Ve(xe,Et))),he):("number"==typeof de&&(he=de),(0,K.e)((xe,Et)=>function ke(Ve,de,he,xe,Et,He,tt,_t){const Qe=[];let dt=0,Ie=0,Rt=!1;const We=()=>{Rt&&!Qe.length&&!dt&&de.complete()},fe=ht=>dt<xe?Ue(ht):Qe.push(ht),Ue=ht=>{He&&de.next(ht),dt++;let vt=!1;(0,Z.Xf)(he(ht,Ie++)).subscribe((0,Le.x)(de,Ee=>{Et?.(Ee),He?fe(Ee):de.next(Ee)},()=>{vt=!0},void 0,()=>{if(vt)try{for(dt--;Qe.length&&dt<xe;){const Ee=Qe.shift();tt?(0,$.f)(de,tt,()=>Ue(Ee)):Ue(Ee)}We()}catch(Ee){de.error(Ee)}}))};return Ve.subscribe((0,Le.x)(de,fe,()=>{Rt=!0,We()})),()=>{_t?.()}}(xe,Et,Ve,he)))}},5363:(tn,st,L)=>{L.d(st,{Q:()=>$});var p=L(9672),Z=L(4482),K=L(5403);function $(Le,ke=0){return(0,Z.e)((Ye,je)=>{Ye.subscribe((0,K.x)(je,Ve=>(0,p.f)(je,Le,()=>je.next(Ve),ke),()=>(0,p.f)(je,Le,()=>je.complete(),ke),Ve=>(0,p.f)(je,Le,()=>je.error(Ve),ke)))})}},5026:(tn,st,L)=>{L.d(st,{R:()=>$});var p=L(4482),Z=L(5403);function $(Le,ke){return(0,p.e)(function K(Le,ke,Ye,je,Ve){return(de,he)=>{let xe=Ye,Et=ke,He=0;de.subscribe((0,Z.x)(he,tt=>{const _t=He++;Et=xe?Le(Et,tt,_t):(xe=!0,tt),je&&he.next(Et)},Ve&&(()=>{xe&&he.next(Et),he.complete()})))}}(Le,ke,arguments.length>=2,!0))}},3099:(tn,st,L)=>{L.d(st,{B:()=>Le});var p=L(8421),Z=L(7579),K=L(930),$=L(4482);function Le(Ye={}){const{connector:je=(()=>new Z.x),resetOnError:Ve=!0,resetOnComplete:de=!0,resetOnRefCountZero:he=!0}=Ye;return xe=>{let Et,He,tt,_t=0,Qe=!1,dt=!1;const Ie=()=>{He?.unsubscribe(),He=void 0},Rt=()=>{Ie(),Et=tt=void 0,Qe=dt=!1},We=()=>{const fe=Et;Rt(),fe?.unsubscribe()};return(0,$.e)((fe,Ue)=>{_t++,!dt&&!Qe&&Ie();const ht=tt=tt??je();Ue.add(()=>{_t--,0===_t&&!dt&&!Qe&&(He=ke(We,he))}),ht.subscribe(Ue),!Et&&_t>0&&(Et=new K.Hp({next:vt=>ht.next(vt),error:vt=>{dt=!0,Ie(),He=ke(Rt,Ve,vt),ht.error(vt)},complete:()=>{Qe=!0,Ie(),He=ke(Rt,de),ht.complete()}}),(0,p.Xf)(fe).subscribe(Et))})(xe)}}function ke(Ye,je,...Ve){if(!0===je)return void Ye();if(!1===je)return;const de=new K.Hp({next:()=>{de.unsubscribe(),Ye()}});return(0,p.Xf)(je(...Ve)).subscribe(de)}},8675:(tn,st,L)=>{L.d(st,{O:()=>$});var p=L(7272),Z=L(3269),K=L(4482);function $(...Le){const ke=(0,Z.yG)(Le);return(0,K.e)((Ye,je)=>{(ke?(0,p.z)(Le,Ye,ke):(0,p.z)(Le,Ye)).subscribe(je)})}},9468:(tn,st,L)=>{L.d(st,{R:()=>Z});var p=L(4482);function Z(K,$=0){return(0,p.e)((Le,ke)=>{ke.add(K.schedule(()=>Le.subscribe(ke),$))})}},3900:(tn,st,L)=>{L.d(st,{w:()=>$});var p=L(8421),Z=L(4482),K=L(5403);function $(Le,ke){return(0,Z.e)((Ye,je)=>{let Ve=null,de=0,he=!1;const xe=()=>he&&!Ve&&je.complete();Ye.subscribe((0,K.x)(je,Et=>{Ve?.unsubscribe();let He=0;const tt=de++;(0,p.Xf)(Le(Et,tt)).subscribe(Ve=(0,K.x)(je,_t=>je.next(ke?ke(Et,_t,tt,He++):_t),()=>{Ve=null,xe()}))},()=>{he=!0,xe()}))})}},5698:(tn,st,L)=>{L.d(st,{q:()=>$});var p=L(515),Z=L(4482),K=L(5403);function $(Le){return Le<=0?()=>p.E:(0,Z.e)((ke,Ye)=>{let je=0;ke.subscribe((0,K.x)(Ye,Ve=>{++je<=Le&&(Ye.next(Ve),Le<=je&&Ye.complete())}))})}},8505:(tn,st,L)=>{L.d(st,{b:()=>Le});var p=L(576),Z=L(4482),K=L(5403),$=L(4671);function Le(ke,Ye,je){const Ve=(0,p.m)(ke)||Ye||je?{next:ke,error:Ye,complete:je}:ke;return Ve?(0,Z.e)((de,he)=>{var xe;null===(xe=Ve.subscribe)||void 0===xe||xe.call(Ve);let Et=!0;de.subscribe((0,K.x)(he,He=>{var tt;null===(tt=Ve.next)||void 0===tt||tt.call(Ve,He),he.next(He)},()=>{var He;Et=!1,null===(He=Ve.complete)||void 0===He||He.call(Ve),he.complete()},He=>{var tt;Et=!1,null===(tt=Ve.error)||void 0===tt||tt.call(Ve,He),he.error(He)},()=>{var He,tt;Et&&(null===(He=Ve.unsubscribe)||void 0===He||He.call(Ve)),null===(tt=Ve.finalize)||void 0===tt||tt.call(Ve)}))}):$.y}},8068:(tn,st,L)=>{L.d(st,{T:()=>$});var p=L(6805),Z=L(4482),K=L(5403);function $(ke=Le){return(0,Z.e)((Ye,je)=>{let Ve=!1;Ye.subscribe((0,K.x)(je,de=>{Ve=!0,je.next(de)},()=>Ve?je.complete():je.error(ke())))})}function Le(){return new p.K}},4408:(tn,st,L)=>{L.d(st,{o:()=>Le});var p=L(727);class Z extends p.w0{constructor(Ye,je){super()}schedule(Ye,je=0){return this}}const K={setInterval(ke,Ye,...je){const{delegate:Ve}=K;return Ve?.setInterval?Ve.setInterval(ke,Ye,...je):setInterval(ke,Ye,...je)},clearInterval(ke){const{delegate:Ye}=K;return(Ye?.clearInterval||clearInterval)(ke)},delegate:void 0};var $=L(8737);class Le extends Z{constructor(Ye,je){super(Ye,je),this.scheduler=Ye,this.work=je,this.pending=!1}schedule(Ye,je=0){var Ve;if(this.closed)return this;this.state=Ye;const de=this.id,he=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(he,de,je)),this.pending=!0,this.delay=je,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(he,this.id,je),this}requestAsyncId(Ye,je,Ve=0){return K.setInterval(Ye.flush.bind(Ye,this),Ve)}recycleAsyncId(Ye,je,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return je;null!=je&&K.clearInterval(je)}execute(Ye,je){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(Ye,je);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ye,je){let de,Ve=!1;try{this.work(Ye)}catch(he){Ve=!0,de=he||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:Ye,scheduler:je}=this,{actions:Ve}=je;this.work=this.state=this.scheduler=null,this.pending=!1,(0,$.P)(Ve,this),null!=Ye&&(this.id=this.recycleAsyncId(je,Ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(tn,st,L)=>{L.d(st,{v:()=>K});var p=L(6063);class Z{constructor(Le,ke=Z.now){this.schedulerActionCtor=Le,this.now=ke}schedule(Le,ke=0,Ye){return new this.schedulerActionCtor(this,Le).schedule(Ye,ke)}}Z.now=p.l.now;class K extends Z{constructor(Le,ke=Z.now){super(Le,ke),this.actions=[],this._active=!1}flush(Le){const{actions:ke}=this;if(this._active)return void ke.push(Le);let Ye;this._active=!0;do{if(Ye=Le.execute(Le.state,Le.delay))break}while(Le=ke.shift());if(this._active=!1,Ye){for(;Le=ke.shift();)Le.unsubscribe();throw Ye}}}},4986:(tn,st,L)=>{L.d(st,{P:()=>$,z:()=>K});var p=L(4408);const K=new(L(7565).v)(p.o),$=K},6063:(tn,st,L)=>{L.d(st,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},233:(tn,st,L)=>{L.d(st,{N:()=>Le});var p=L(4408),K=L(7565);const Le=new class $ extends K.v{}(class Z extends p.o{constructor(je,Ve){super(je,Ve),this.scheduler=je,this.work=Ve}schedule(je,Ve=0){return Ve>0?super.schedule(je,Ve):(this.delay=Ve,this.state=je,this.scheduler.flush(this),this)}execute(je,Ve){return Ve>0||this.closed?super.execute(je,Ve):this._execute(je,Ve)}requestAsyncId(je,Ve,de=0){return null!=de&&de>0||null==de&&this.delay>0?super.requestAsyncId(je,Ve,de):(je.flush(this),0)}})},3410:(tn,st,L)=>{L.d(st,{z:()=>p});const p={setTimeout(Z,K,...$){const{delegate:Le}=p;return Le?.setTimeout?Le.setTimeout(Z,K,...$):setTimeout(Z,K,...$)},clearTimeout(Z){const{delegate:K}=p;return(K?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},2202:(tn,st,L)=>{L.d(st,{h:()=>Z});const Z=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(tn,st,L)=>{L.d(st,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(tn,st,L)=>{L.d(st,{K:()=>Z});const Z=(0,L(3888).d)(K=>function(){K(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(tn,st,L)=>{L.d(st,{_6:()=>ke,jO:()=>$,yG:()=>Le});var p=L(576),Z=L(3532);function K(Ye){return Ye[Ye.length-1]}function $(Ye){return(0,p.m)(K(Ye))?Ye.pop():void 0}function Le(Ye){return(0,Z.K)(K(Ye))?Ye.pop():void 0}function ke(Ye,je){return"number"==typeof K(Ye)?Ye.pop():je}},4742:(tn,st,L)=>{L.d(st,{D:()=>Le});const{isArray:p}=Array,{getPrototypeOf:Z,prototype:K,keys:$}=Object;function Le(Ye){if(1===Ye.length){const je=Ye[0];if(p(je))return{args:je,keys:null};if(function ke(Ye){return Ye&&"object"==typeof Ye&&Z(Ye)===K}(je)){const Ve=$(je);return{args:Ve.map(de=>je[de]),keys:Ve}}}return{args:Ye,keys:null}}},8737:(tn,st,L)=>{function p(Z,K){if(Z){const $=Z.indexOf(K);0<=$&&Z.splice($,1)}}L.d(st,{P:()=>p})},3888:(tn,st,L)=>{function p(Z){const $=Z(Le=>{Error.call(Le),Le.stack=(new Error).stack});return $.prototype=Object.create(Error.prototype),$.prototype.constructor=$,$}L.d(st,{d:()=>p})},1810:(tn,st,L)=>{function p(Z,K){return Z.reduce(($,Le,ke)=>($[Le]=K[ke],$),{})}L.d(st,{n:()=>p})},2806:(tn,st,L)=>{L.d(st,{O:()=>$,x:()=>K});var p=L(2416);let Z=null;function K(Le){if(p.v.useDeprecatedSynchronousErrorHandling){const ke=!Z;if(ke&&(Z={errorThrown:!1,error:null}),Le(),ke){const{errorThrown:Ye,error:je}=Z;if(Z=null,Ye)throw je}}else Le()}function $(Le){p.v.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=Le)}},9672:(tn,st,L)=>{function p(Z,K,$,Le=0,ke=!1){const Ye=K.schedule(function(){$(),ke?Z.add(this.schedule(null,Le)):this.unsubscribe()},Le);if(Z.add(Ye),!ke)return Ye}L.d(st,{f:()=>p})},4671:(tn,st,L)=>{function p(Z){return Z}L.d(st,{y:()=>p})},1144:(tn,st,L)=>{L.d(st,{z:()=>p});const p=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},2206:(tn,st,L)=>{L.d(st,{D:()=>Z});var p=L(576);function Z(K){return Symbol.asyncIterator&&(0,p.m)(K?.[Symbol.asyncIterator])}},576:(tn,st,L)=>{function p(Z){return"function"==typeof Z}L.d(st,{m:()=>p})},3670:(tn,st,L)=>{L.d(st,{c:()=>K});var p=L(8822),Z=L(576);function K($){return(0,Z.m)($[p.L])}},6495:(tn,st,L)=>{L.d(st,{T:()=>K});var p=L(2202),Z=L(576);function K($){return(0,Z.m)($?.[p.h])}},8239:(tn,st,L)=>{L.d(st,{t:()=>Z});var p=L(576);function Z(K){return(0,p.m)(K?.then)}},3260:(tn,st,L)=>{L.d(st,{L:()=>$,Q:()=>K});var p=L(7582),Z=L(576);function K(Le){return(0,p.FC)(this,arguments,function*(){const Ye=Le.getReader();try{for(;;){const{value:je,done:Ve}=yield(0,p.qq)(Ye.read());if(Ve)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(je)}}finally{Ye.releaseLock()}})}function $(Le){return(0,Z.m)(Le?.getReader)}},3532:(tn,st,L)=>{L.d(st,{K:()=>Z});var p=L(576);function Z(K){return K&&(0,p.m)(K.schedule)}},4482:(tn,st,L)=>{L.d(st,{A:()=>Z,e:()=>K});var p=L(576);function Z($){return(0,p.m)($?.lift)}function K($){return Le=>{if(Z(Le))return Le.lift(function(ke){try{return $(ke,this)}catch(Ye){this.error(Ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(tn,st,L)=>{L.d(st,{Z:()=>$});var p=L(4004);const{isArray:Z}=Array;function $(Le){return(0,p.U)(ke=>function K(Le,ke){return Z(ke)?Le(...ke):Le(ke)}(Le,ke))}},5032:(tn,st,L)=>{function p(){}L.d(st,{Z:()=>p})},9635:(tn,st,L)=>{L.d(st,{U:()=>K,z:()=>Z});var p=L(4671);function Z(...$){return K($)}function K($){return 0===$.length?p.y:1===$.length?$[0]:function(ke){return $.reduce((Ye,je)=>je(Ye),ke)}}},7849:(tn,st,L)=>{L.d(st,{h:()=>K});var p=L(2416),Z=L(3410);function K($){Z.z.setTimeout(()=>{const{onUnhandledError:Le}=p.v;if(!Le)throw $;Le($)})}},4532:(tn,st,L)=>{function p(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(st,{z:()=>p})},7340:(tn,st,L)=>{L.d(st,{LC:()=>Z,SB:()=>Ve,X$:()=>$,ZE:()=>Ie,ZN:()=>dt,_j:()=>p,eR:()=>he,jt:()=>Le,k1:()=>Rt,l3:()=>K,oB:()=>je,vP:()=>Ye});class p{}class Z{}const K="*";function $(We,fe){return{type:7,name:We,definitions:fe,options:{}}}function Le(We,fe=null){return{type:4,styles:fe,timings:We}}function Ye(We,fe=null){return{type:2,steps:We,options:fe}}function je(We){return{type:6,styles:We,offset:null}}function Ve(We,fe,Ue){return{type:0,name:We,styles:fe,options:Ue}}function he(We,fe,Ue=null){return{type:1,expr:We,animation:fe,options:Ue}}function Qe(We){Promise.resolve().then(We)}class dt{constructor(fe=0,Ue=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=fe+Ue}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}onStart(fe){this._originalOnStartFns.push(fe),this._onStartFns.push(fe)}onDone(fe){this._originalOnDoneFns.push(fe),this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Qe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(fe=>fe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(fe){this._position=this.totalTime?fe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(fe){const Ue="start"==fe?this._onStartFns:this._onDoneFns;Ue.forEach(ht=>ht()),Ue.length=0}}class Ie{constructor(fe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=fe;let Ue=0,ht=0,vt=0;const Ee=this.players.length;0==Ee?Qe(()=>this._onFinish()):this.players.forEach(Ft=>{Ft.onDone(()=>{++Ue==Ee&&this._onFinish()}),Ft.onDestroy(()=>{++ht==Ee&&this._onDestroy()}),Ft.onStart(()=>{++vt==Ee&&this._onStart()})}),this.totalTime=this.players.reduce((Ft,xt)=>Math.max(Ft,xt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}init(){this.players.forEach(fe=>fe.init())}onStart(fe){this._onStartFns.push(fe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(fe=>fe()),this._onStartFns=[])}onDone(fe){this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(fe=>fe.play())}pause(){this.players.forEach(fe=>fe.pause())}restart(){this.players.forEach(fe=>fe.restart())}finish(){this._onFinish(),this.players.forEach(fe=>fe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(fe=>fe.destroy()),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this.players.forEach(fe=>fe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(fe){const Ue=fe*this.totalTime;this.players.forEach(ht=>{const vt=ht.totalTime?Math.min(1,Ue/ht.totalTime):1;ht.setPosition(vt)})}getPosition(){const fe=this.players.reduce((Ue,ht)=>null===Ue||ht.totalTime>Ue.totalTime?ht:Ue,null);return null!=fe?fe.getPosition():0}beforeDestroy(){this.players.forEach(fe=>{fe.beforeDestroy&&fe.beforeDestroy()})}triggerCallback(fe){const Ue="start"==fe?this._onStartFns:this._onDoneFns;Ue.forEach(ht=>ht()),Ue.length=0}}const Rt="!"},6895:(tn,st,L)=>{L.d(st,{Do:()=>Ie,EM:()=>Bo,HT:()=>$,JF:()=>Qs,K0:()=>ke,Mx:()=>fs,NF:()=>as,O5:()=>Ai,Ov:()=>Tt,PC:()=>ps,PM:()=>$s,RF:()=>Ki,S$:()=>_t,V_:()=>Ve,Ye:()=>Rt,b0:()=>dt,bD:()=>po,ez:()=>ys,mk:()=>qn,n9:()=>Ui,q:()=>K,rS:()=>jn,sg:()=>bi,tP:()=>_i,uU:()=>jr,w_:()=>Le});var p=L(4650);let Z=null;function K(){return Z}function $(x){Z||(Z=x)}class Le{}const ke=new p.OlP("DocumentToken");let Ye=(()=>{class x{historyGo(F){throw new Error("Not implemented")}}return x.\u0275fac=function(F){return new(F||x)},x.\u0275prov=p.Yz7({token:x,factory:function(){return function je(){return(0,p.LFG)(de)}()},providedIn:"platform"}),x})();const Ve=new p.OlP("Location Initialized");let de=(()=>{class x extends Ye{constructor(F){super(),this._doc=F,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(F){const te=K().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",F,!1),()=>te.removeEventListener("popstate",F)}onHashChange(F){const te=K().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",F,!1),()=>te.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,te,we){he()?this._history.pushState(F,te,we):this._location.hash=we}replaceState(F,te,we){he()?this._history.replaceState(F,te,we):this._location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return x.\u0275fac=function(F){return new(F||x)(p.LFG(ke))},x.\u0275prov=p.Yz7({token:x,factory:function(){return function xe(){return new de((0,p.LFG)(ke))}()},providedIn:"platform"}),x})();function he(){return!!window.history.pushState}function Et(x,z){if(0==x.length)return z;if(0==z.length)return x;let F=0;return x.endsWith("/")&&F++,z.startsWith("/")&&F++,2==F?x+z.substring(1):1==F?x+z:x+"/"+z}function He(x){const z=x.match(/#|\?|$/),F=z&&z.index||x.length;return x.slice(0,F-("/"===x[F-1]?1:0))+x.slice(F)}function tt(x){return x&&"?"!==x[0]?"?"+x:x}let _t=(()=>{class x{historyGo(F){throw new Error("Not implemented")}}return x.\u0275fac=function(F){return new(F||x)},x.\u0275prov=p.Yz7({token:x,factory:function(){return(0,p.f3M)(dt)},providedIn:"root"}),x})();const Qe=new p.OlP("appBaseHref");let dt=(()=>{class x extends _t{constructor(F,te){super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Et(this._baseHref,F)}path(F=!1){const te=this._platformLocation.pathname+tt(this._platformLocation.search),we=this._platformLocation.hash;return we&&F?`${te}${we}`:te}pushState(F,te,we,ft){const P=this.prepareExternalUrl(we+tt(ft));this._platformLocation.pushState(F,te,P)}replaceState(F,te,we,ft){const P=this.prepareExternalUrl(we+tt(ft));this._platformLocation.replaceState(F,te,P)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return x.\u0275fac=function(F){return new(F||x)(p.LFG(Ye),p.LFG(Qe,8))},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Ie=(()=>{class x extends _t{constructor(F,te){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(F){const te=Et(this._baseHref,F);return te.length>0?"#"+te:te}pushState(F,te,we,ft){let P=this.prepareExternalUrl(we+tt(ft));0==P.length&&(P=this._platformLocation.pathname),this._platformLocation.pushState(F,te,P)}replaceState(F,te,we,ft){let P=this.prepareExternalUrl(we+tt(ft));0==P.length&&(P=this._platformLocation.pathname),this._platformLocation.replaceState(F,te,P)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return x.\u0275fac=function(F){return new(F||x)(p.LFG(Ye),p.LFG(Qe,8))},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac}),x})(),Rt=(()=>{class x{constructor(F){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const te=this._locationStrategy.getBaseHref();this._basePath=function ht(x){if(new RegExp("^(https?:)?//").test(x)){const[,F]=x.split(/\/\/[^\/]+/);return F}return x}(He(Ue(te))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,te=""){return this.path()==this.normalize(F+tt(te))}normalize(F){return x.stripTrailingSlash(function fe(x,z){if(!x||!z.startsWith(x))return z;const F=z.substring(x.length);return""===F||["/",";","?","#"].includes(F[0])?F:z}(this._basePath,Ue(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,te="",we=null){this._locationStrategy.pushState(we,"",F,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+tt(te)),we)}replaceState(F,te="",we=null){this._locationStrategy.replaceState(we,"",F,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+tt(te)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",te){this._urlChangeListeners.forEach(we=>we(F,te))}subscribe(F,te,we){return this._subject.subscribe({next:F,error:te,complete:we})}}return x.normalizeQueryParams=tt,x.joinWithSlash=Et,x.stripTrailingSlash=He,x.\u0275fac=function(F){return new(F||x)(p.LFG(_t))},x.\u0275prov=p.Yz7({token:x,factory:function(){return function We(){return new Rt((0,p.LFG)(_t))}()},providedIn:"root"}),x})();function Ue(x){return x.replace(/\/index.html$/,"")}var xt=(()=>((xt=xt||{})[xt.Format=0]="Format",xt[xt.Standalone=1]="Standalone",xt))(),bt=(()=>((bt=bt||{})[bt.Narrow=0]="Narrow",bt[bt.Abbreviated=1]="Abbreviated",bt[bt.Wide=2]="Wide",bt[bt.Short=3]="Short",bt))(),gn=(()=>((gn=gn||{})[gn.Short=0]="Short",gn[gn.Medium=1]="Medium",gn[gn.Long=2]="Long",gn[gn.Full=3]="Full",gn))(),zt=(()=>((zt=zt||{})[zt.Decimal=0]="Decimal",zt[zt.Group=1]="Group",zt[zt.List=2]="List",zt[zt.PercentSign=3]="PercentSign",zt[zt.PlusSign=4]="PlusSign",zt[zt.MinusSign=5]="MinusSign",zt[zt.Exponential=6]="Exponential",zt[zt.SuperscriptingExponent=7]="SuperscriptingExponent",zt[zt.PerMille=8]="PerMille",zt[zt.Infinity=9]="Infinity",zt[zt.NaN=10]="NaN",zt[zt.TimeSeparator=11]="TimeSeparator",zt[zt.CurrencyDecimal=12]="CurrencyDecimal",zt[zt.CurrencyGroup=13]="CurrencyGroup",zt))();function ut(x,z){return wn((0,p.cg1)(x)[p.wAp.DateFormat],z)}function mt(x,z){return wn((0,p.cg1)(x)[p.wAp.TimeFormat],z)}function Lt(x,z){return wn((0,p.cg1)(x)[p.wAp.DateTimeFormat],z)}function Dt(x,z){const F=(0,p.cg1)(x),te=F[p.wAp.NumberSymbols][z];if(typeof te>"u"){if(z===zt.CurrencyDecimal)return F[p.wAp.NumberSymbols][zt.Decimal];if(z===zt.CurrencyGroup)return F[p.wAp.NumberSymbols][zt.Group]}return te}function hr(x){if(!x[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${x[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wn(x,z){for(let F=z;F>-1;F--)if(typeof x[F]<"u")return x[F];throw new Error("Locale data API: locale data undefined")}function $t(x){const[z,F]=x.split(":");return{hours:+z,minutes:+F}}const xr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ci={},er=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var An=(()=>((An=An||{})[An.Short=0]="Short",An[An.ShortGMT=1]="ShortGMT",An[An.Long=2]="Long",An[An.Extended=3]="Extended",An))(),J=(()=>((J=J||{})[J.FullYear=0]="FullYear",J[J.Month=1]="Month",J[J.Date=2]="Date",J[J.Hours=3]="Hours",J[J.Minutes=4]="Minutes",J[J.Seconds=5]="Seconds",J[J.FractionalSeconds=6]="FractionalSeconds",J[J.Day=7]="Day",J))(),Ne=(()=>((Ne=Ne||{})[Ne.DayPeriods=0]="DayPeriods",Ne[Ne.Days=1]="Days",Ne[Ne.Months=2]="Months",Ne[Ne.Eras=3]="Eras",Ne))();function qe(x,z,F,te){let we=function ee(x){if(pe(x))return x;if("number"==typeof x&&!isNaN(x))return new Date(x);if("string"==typeof x){if(x=x.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(x)){const[we,ft=1,P=1]=x.split("-").map(m=>+m);return ot(we,ft-1,P)}const F=parseFloat(x);if(!isNaN(x-F))return new Date(F);let te;if(te=x.match(xr))return function Fe(x){const z=new Date(0);let F=0,te=0;const we=x[8]?z.setUTCFullYear:z.setFullYear,ft=x[8]?z.setUTCHours:z.setHours;x[9]&&(F=Number(x[9]+x[10]),te=Number(x[9]+x[11])),we.call(z,Number(x[1]),Number(x[2])-1,Number(x[3]));const P=Number(x[4]||0)-F,m=Number(x[5]||0)-te,v=Number(x[6]||0),N=Math.floor(1e3*parseFloat("0."+(x[7]||0)));return ft.call(z,P,m,v,N),z}(te)}const z=new Date(x);if(!pe(z))throw new Error(`Unable to convert "${x}" into a date`);return z}(x);z=yt(F,z)||z;let m,P=[];for(;z;){if(m=er.exec(z),!m){P.push(z);break}{P=P.concat(m.slice(1));const W=P.pop();if(!W)break;z=W}}let v=we.getTimezoneOffset();te&&(v=De(te,v),we=function ce(x,z,F){const te=F?-1:1,we=x.getTimezoneOffset();return function ie(x,z){return(x=new Date(x.getTime())).setMinutes(x.getMinutes()+z),x}(x,te*(De(z,we)-we))}(we,te,!0));let N="";return P.forEach(W=>{const ne=function Me(x){if(mr[x])return mr[x];let z;switch(x){case"G":case"GG":case"GGG":z=Wt(Ne.Eras,bt.Abbreviated);break;case"GGGG":z=Wt(Ne.Eras,bt.Wide);break;case"GGGGG":z=Wt(Ne.Eras,bt.Narrow);break;case"y":z=Bt(J.FullYear,1,0,!1,!0);break;case"yy":z=Bt(J.FullYear,2,0,!0,!0);break;case"yyy":z=Bt(J.FullYear,3,0,!1,!0);break;case"yyyy":z=Bt(J.FullYear,4,0,!1,!0);break;case"Y":z=Ir(1);break;case"YY":z=Ir(2,!0);break;case"YYY":z=Ir(3);break;case"YYYY":z=Ir(4);break;case"M":case"L":z=Bt(J.Month,1,1);break;case"MM":case"LL":z=Bt(J.Month,2,1);break;case"MMM":z=Wt(Ne.Months,bt.Abbreviated);break;case"MMMM":z=Wt(Ne.Months,bt.Wide);break;case"MMMMM":z=Wt(Ne.Months,bt.Narrow);break;case"LLL":z=Wt(Ne.Months,bt.Abbreviated,xt.Standalone);break;case"LLLL":z=Wt(Ne.Months,bt.Wide,xt.Standalone);break;case"LLLLL":z=Wt(Ne.Months,bt.Narrow,xt.Standalone);break;case"w":z=Dr(1);break;case"ww":z=Dr(2);break;case"W":z=Dr(1,!0);break;case"d":z=Bt(J.Date,1);break;case"dd":z=Bt(J.Date,2);break;case"c":case"cc":z=Bt(J.Day,1);break;case"ccc":z=Wt(Ne.Days,bt.Abbreviated,xt.Standalone);break;case"cccc":z=Wt(Ne.Days,bt.Wide,xt.Standalone);break;case"ccccc":z=Wt(Ne.Days,bt.Narrow,xt.Standalone);break;case"cccccc":z=Wt(Ne.Days,bt.Short,xt.Standalone);break;case"E":case"EE":case"EEE":z=Wt(Ne.Days,bt.Abbreviated);break;case"EEEE":z=Wt(Ne.Days,bt.Wide);break;case"EEEEE":z=Wt(Ne.Days,bt.Narrow);break;case"EEEEEE":z=Wt(Ne.Days,bt.Short);break;case"a":case"aa":case"aaa":z=Wt(Ne.DayPeriods,bt.Abbreviated);break;case"aaaa":z=Wt(Ne.DayPeriods,bt.Wide);break;case"aaaaa":z=Wt(Ne.DayPeriods,bt.Narrow);break;case"b":case"bb":case"bbb":z=Wt(Ne.DayPeriods,bt.Abbreviated,xt.Standalone,!0);break;case"bbbb":z=Wt(Ne.DayPeriods,bt.Wide,xt.Standalone,!0);break;case"bbbbb":z=Wt(Ne.DayPeriods,bt.Narrow,xt.Standalone,!0);break;case"B":case"BB":case"BBB":z=Wt(Ne.DayPeriods,bt.Abbreviated,xt.Format,!0);break;case"BBBB":z=Wt(Ne.DayPeriods,bt.Wide,xt.Format,!0);break;case"BBBBB":z=Wt(Ne.DayPeriods,bt.Narrow,xt.Format,!0);break;case"h":z=Bt(J.Hours,1,-12);break;case"hh":z=Bt(J.Hours,2,-12);break;case"H":z=Bt(J.Hours,1);break;case"HH":z=Bt(J.Hours,2);break;case"m":z=Bt(J.Minutes,1);break;case"mm":z=Bt(J.Minutes,2);break;case"s":z=Bt(J.Seconds,1);break;case"ss":z=Bt(J.Seconds,2);break;case"S":z=Bt(J.FractionalSeconds,1);break;case"SS":z=Bt(J.FractionalSeconds,2);break;case"SSS":z=Bt(J.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":z=bn(An.Short);break;case"ZZZZZ":z=bn(An.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":z=bn(An.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":z=bn(An.Long);break;default:return null}return mr[x]=z,z}(W);N+=ne?ne(we,F,v):"''"===W?"'":W.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),N}function ot(x,z,F){const te=new Date(0);return te.setFullYear(x,z,F),te.setHours(0,0,0),te}function yt(x,z){const F=function vr(x){return(0,p.cg1)(x)[p.wAp.LocaleId]}(x);if(ci[F]=ci[F]||{},ci[F][z])return ci[F][z];let te="";switch(z){case"shortDate":te=ut(x,gn.Short);break;case"mediumDate":te=ut(x,gn.Medium);break;case"longDate":te=ut(x,gn.Long);break;case"fullDate":te=ut(x,gn.Full);break;case"shortTime":te=mt(x,gn.Short);break;case"mediumTime":te=mt(x,gn.Medium);break;case"longTime":te=mt(x,gn.Long);break;case"fullTime":te=mt(x,gn.Full);break;case"short":const we=yt(x,"shortTime"),ft=yt(x,"shortDate");te=kt(Lt(x,gn.Short),[we,ft]);break;case"medium":const P=yt(x,"mediumTime"),m=yt(x,"mediumDate");te=kt(Lt(x,gn.Medium),[P,m]);break;case"long":const v=yt(x,"longTime"),N=yt(x,"longDate");te=kt(Lt(x,gn.Long),[v,N]);break;case"full":const W=yt(x,"fullTime"),ne=yt(x,"fullDate");te=kt(Lt(x,gn.Full),[W,ne])}return te&&(ci[F][z]=te),te}function kt(x,z){return z&&(x=x.replace(/\{([^}]+)}/g,function(F,te){return null!=z&&te in z?z[te]:F})),x}function Ht(x,z,F="-",te,we){let ft="";(x<0||we&&x<=0)&&(we?x=1-x:(x=-x,ft=F));let P=String(x);for(;P.length<z;)P="0"+P;return te&&(P=P.slice(P.length-z)),ft+P}function Bt(x,z,F=0,te=!1,we=!1){return function(ft,P){let m=function cn(x,z){switch(x){case J.FullYear:return z.getFullYear();case J.Month:return z.getMonth();case J.Date:return z.getDate();case J.Hours:return z.getHours();case J.Minutes:return z.getMinutes();case J.Seconds:return z.getSeconds();case J.FractionalSeconds:return z.getMilliseconds();case J.Day:return z.getDay();default:throw new Error(`Unknown DateType value "${x}".`)}}(x,ft);if((F>0||m>-F)&&(m+=F),x===J.Hours)0===m&&-12===F&&(m=12);else if(x===J.FractionalSeconds)return function Gt(x,z){return Ht(x,3).substring(0,z)}(m,z);const v=Dt(P,zt.MinusSign);return Ht(m,z,v,te,we)}}function Wt(x,z,F=xt.Format,te=!1){return function(we,ft){return function lr(x,z,F,te,we,ft){switch(F){case Ne.Months:return function ge(x,z,F){const te=(0,p.cg1)(x),ft=wn([te[p.wAp.MonthsFormat],te[p.wAp.MonthsStandalone]],z);return wn(ft,F)}(z,we,te)[x.getMonth()];case Ne.Days:return function Zt(x,z,F){const te=(0,p.cg1)(x),ft=wn([te[p.wAp.DaysFormat],te[p.wAp.DaysStandalone]],z);return wn(ft,F)}(z,we,te)[x.getDay()];case Ne.DayPeriods:const P=x.getHours(),m=x.getMinutes();if(ft){const N=function pr(x){const z=(0,p.cg1)(x);return hr(z),(z[p.wAp.ExtraData][2]||[]).map(te=>"string"==typeof te?$t(te):[$t(te[0]),$t(te[1])])}(z),W=function ur(x,z,F){const te=(0,p.cg1)(x);hr(te);const ft=wn([te[p.wAp.ExtraData][0],te[p.wAp.ExtraData][1]],z)||[];return wn(ft,F)||[]}(z,we,te),ne=N.findIndex(Ce=>{if(Array.isArray(Ce)){const[Te,et]=Ce,It=P>=Te.hours&&m>=Te.minutes,Yt=P<et.hours||P===et.hours&&m<et.minutes;if(Te.hours<et.hours){if(It&&Yt)return!0}else if(It||Yt)return!0}else if(Ce.hours===P&&Ce.minutes===m)return!0;return!1});if(-1!==ne)return W[ne]}return function Fn(x,z,F){const te=(0,p.cg1)(x),ft=wn([te[p.wAp.DayPeriodsFormat],te[p.wAp.DayPeriodsStandalone]],z);return wn(ft,F)}(z,we,te)[P<12?0:1];case Ne.Eras:return function ye(x,z){return wn((0,p.cg1)(x)[p.wAp.Eras],z)}(z,te)[x.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${F}`)}}(we,ft,x,z,F,te)}}function bn(x){return function(z,F,te){const we=-1*te,ft=Dt(F,zt.MinusSign),P=we>0?Math.floor(we/60):Math.ceil(we/60);switch(x){case An.Short:return(we>=0?"+":"")+Ht(P,2,ft)+Ht(Math.abs(we%60),2,ft);case An.ShortGMT:return"GMT"+(we>=0?"+":"")+Ht(P,1,ft);case An.Long:return"GMT"+(we>=0?"+":"")+Ht(P,2,ft)+":"+Ht(Math.abs(we%60),2,ft);case An.Extended:return 0===te?"Z":(we>=0?"+":"")+Ht(P,2,ft)+":"+Ht(Math.abs(we%60),2,ft);default:throw new Error(`Unknown zone width "${x}"`)}}}const Pn=0,tr=4;function Tr(x){return ot(x.getFullYear(),x.getMonth(),x.getDate()+(tr-x.getDay()))}function Dr(x,z=!1){return function(F,te){let we;if(z){const ft=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,P=F.getDate();we=1+Math.floor((P+ft)/7)}else{const ft=Tr(F),P=function gr(x){const z=ot(x,Pn,1).getDay();return ot(x,0,1+(z<=tr?tr:tr+7)-z)}(ft.getFullYear()),m=ft.getTime()-P.getTime();we=1+Math.round(m/6048e5)}return Ht(we,x,Dt(te,zt.MinusSign))}}function Ir(x,z=!1){return function(F,te){return Ht(Tr(F).getFullYear(),x,Dt(te,zt.MinusSign),z)}}const mr={};function De(x,z){x=x.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+x)/6e4;return isNaN(F)?z:F}function pe(x){return x instanceof Date&&!isNaN(x.valueOf())}function fs(x,z){z=encodeURIComponent(z);for(const F of x.split(";")){const te=F.indexOf("="),[we,ft]=-1==te?[F,""]:[F.slice(0,te),F.slice(te+1)];if(we.trim()===z)return decodeURIComponent(ft)}return null}const Yr=/\s+/,Qt=[];let qn=(()=>{class x{constructor(F,te,we,ft){this._iterableDiffers=F,this._keyValueDiffers=te,this._ngEl=we,this._renderer=ft,this.initialClasses=Qt,this.stateMap=new Map}set klass(F){this.initialClasses=null!=F?F.trim().split(Yr):Qt}set ngClass(F){this.rawClass="string"==typeof F?F.trim().split(Yr):F}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const F=this.rawClass;if(Array.isArray(F)||F instanceof Set)for(const te of F)this._updateState(te,!0);else if(null!=F)for(const te of Object.keys(F))this._updateState(te,Boolean(F[te]));this._applyStateDiff()}_updateState(F,te){const we=this.stateMap.get(F);void 0!==we?(we.enabled!==te&&(we.changed=!0,we.enabled=te),we.touched=!0):this.stateMap.set(F,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const F of this.stateMap){const te=F[0],we=F[1];we.changed?(this._toggleClass(te,we.enabled),we.changed=!1):we.touched||(we.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),we.touched=!1}}_toggleClass(F,te){(F=F.trim()).length>0&&F.split(Yr).forEach(we=>{te?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return x.\u0275fac=function(F){return new(F||x)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},x.\u0275dir=p.lG2({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),x})();class br{constructor(z,F,te,we){this.$implicit=z,this.ngForOf=F,this.index=te,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bi=(()=>{class x{set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}constructor(F,te,we){this._viewContainer=F,this._template=te,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const te=this._viewContainer;F.forEachOperation((we,ft,P)=>{if(null==we.previousIndex)te.createEmbeddedView(this._template,new br(we.item,this._ngForOf,-1,-1),null===P?void 0:P);else if(null==P)te.remove(null===ft?void 0:ft);else if(null!==ft){const m=te.get(ft);te.move(m,P),sr(m,we)}});for(let we=0,ft=te.length;we<ft;we++){const m=te.get(we).context;m.index=we,m.count=ft,m.ngForOf=this._ngForOf}F.forEachIdentityChange(we=>{sr(te.get(we.currentIndex),we)})}static ngTemplateContextGuard(F,te){return!0}}return x.\u0275fac=function(F){return new(F||x)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},x.\u0275dir=p.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),x})();function sr(x,z){x.context.$implicit=z.item}let Ai=(()=>{class x{constructor(F,te){this._viewContainer=F,this._context=new Tn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Vi("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Vi("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,te){return!0}}return x.\u0275fac=function(F){return new(F||x)(p.Y36(p.s_b),p.Y36(p.Rgc))},x.\u0275dir=p.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),x})();class Tn{constructor(){this.$implicit=null,this.ngIf=null}}function Vi(x,z){if(z&&!z.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,p.AaK)(z)}'.`)}class Mi{constructor(z,F){this._viewContainerRef=z,this._templateRef=F,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(z){z&&!this._created?this.create():!z&&this._created&&this.destroy()}}let Ki=(()=>{class x{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews.push(F)}_matchCase(F){const te=F==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||te,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),te}_updateDefaultCases(F){if(this._defaultViews.length>0&&F!==this._defaultUsed){this._defaultUsed=F;for(const te of this._defaultViews)te.enforceState(F)}}}return x.\u0275fac=function(F){return new(F||x)},x.\u0275dir=p.lG2({type:x,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),x})(),Ui=(()=>{class x{constructor(F,te,we){this.ngSwitch=we,we._addCase(),this._view=new Mi(F,te)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return x.\u0275fac=function(F){return new(F||x)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Ki,9))},x.\u0275dir=p.lG2({type:x,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),x})(),ps=(()=>{class x{constructor(F,te,we){this._ngEl=F,this._differs=te,this._renderer=we,this._ngStyle=null,this._differ=null}set ngStyle(F){this._ngStyle=F,!this._differ&&F&&(this._differ=this._differs.find(F).create())}ngDoCheck(){if(this._differ){const F=this._differ.diff(this._ngStyle);F&&this._applyChanges(F)}}_setStyle(F,te){const[we,ft]=F.split("."),P=-1===we.indexOf("-")?void 0:p.JOm.DashCase;null!=te?this._renderer.setStyle(this._ngEl.nativeElement,we,ft?`${te}${ft}`:te,P):this._renderer.removeStyle(this._ngEl.nativeElement,we,P)}_applyChanges(F){F.forEachRemovedItem(te=>this._setStyle(te.key,null)),F.forEachAddedItem(te=>this._setStyle(te.key,te.currentValue)),F.forEachChangedItem(te=>this._setStyle(te.key,te.currentValue))}}return x.\u0275fac=function(F){return new(F||x)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))},x.\u0275dir=p.lG2({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),x})(),_i=(()=>{class x{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(F){if(F.ngTemplateOutlet||F.ngTemplateOutletInjector){const te=this._viewContainerRef;if(this._viewRef&&te.remove(te.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:we,ngTemplateOutletContext:ft,ngTemplateOutletInjector:P}=this;this._viewRef=te.createEmbeddedView(we,ft,P?{injector:P}:void 0)}else this._viewRef=null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return x.\u0275fac=function(F){return new(F||x)(p.Y36(p.s_b))},x.\u0275dir=p.lG2({type:x,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.TTD]}),x})();function es(x,z){return new p.vHH(2100,!1)}class qi{createSubscription(z,F){return z.subscribe({next:F,error:te=>{throw te}})}dispose(z){z.unsubscribe()}}class Ge{createSubscription(z,F){return z.then(F,te=>{throw te})}dispose(z){}}const Be=new Ge,nt=new qi;let Tt=(()=>{class x{constructor(F){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=F}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,te=>this._updateLatestValue(F,te))}_selectStrategy(F){if((0,p.QGY)(F))return Be;if((0,p.F4k)(F))return nt;throw es()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,te){F===this._obj&&(this._latestValue=te,this._ref.markForCheck())}}return x.\u0275fac=function(F){return new(F||x)(p.Y36(p.sBO,16))},x.\u0275pipe=p.Yjl({name:"async",type:x,pure:!1,standalone:!0}),x})();const Bn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let jn=(()=>{class x{transform(F){if(null==F)return null;if("string"!=typeof F)throw es();return F.replace(Bn,te=>te[0].toUpperCase()+te.slice(1).toLowerCase())}}return x.\u0275fac=function(F){return new(F||x)},x.\u0275pipe=p.Yjl({name:"titlecase",type:x,pure:!0,standalone:!0}),x})();const si=new p.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Bi=new p.OlP("DATE_PIPE_DEFAULT_OPTIONS");let jr=(()=>{class x{constructor(F,te,we){this.locale=F,this.defaultTimezone=te,this.defaultOptions=we}transform(F,te,we,ft){if(null==F||""===F||F!=F)return null;try{return qe(F,te??this.defaultOptions?.dateFormat??"mediumDate",ft||this.locale,we??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(P){throw es()}}}return x.\u0275fac=function(F){return new(F||x)(p.Y36(p.soG,16),p.Y36(si,24),p.Y36(Bi,24))},x.\u0275pipe=p.Yjl({name:"date",type:x,pure:!0,standalone:!0}),x})(),ys=(()=>{class x{}return x.\u0275fac=function(F){return new(F||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({}),x})();const po="browser",Ss="server";function as(x){return x===po}function $s(x){return x===Ss}let Bo=(()=>{class x{}return x.\u0275prov=(0,p.Yz7)({token:x,providedIn:"root",factory:()=>new Yo((0,p.LFG)(ke),window)}),x})();class Yo{constructor(z,F){this.document=z,this.window=F,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const F=function Ms(x,z){const F=x.getElementById(z)||x.getElementsByName(z)[0];if(F)return F;if("function"==typeof x.createTreeWalker&&x.body&&(x.body.createShadowRoot||x.body.attachShadow)){const te=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let we=te.currentNode;for(;we;){const ft=we.shadowRoot;if(ft){const P=ft.getElementById(z)||ft.querySelector(`[name="${z}"]`);if(P)return P}we=te.nextNode()}}return null}(this.document,z);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=z)}}scrollToElement(z){const F=z.getBoundingClientRect(),te=F.left+this.window.pageXOffset,we=F.top+this.window.pageYOffset,ft=this.offset();this.window.scrollTo(te-ft[0],we-ft[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=As(this.window.history)||As(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function As(x){return Object.getOwnPropertyDescriptor(x,"scrollRestoration")}class Qs{}},4650:(tn,st,L)=>{L.d(st,{$8M:()=>Jn,$WT:()=>Sr,$Z:()=>Rp,AFp:()=>jE,ALo:()=>c,AaK:()=>je,AsE:()=>ds,BQk:()=>ld,CHM:()=>A,CRH:()=>_E,CZH:()=>w_,CqO:()=>pf,D6c:()=>xD,DdM:()=>Xg,EJc:()=>Kw,EiD:()=>ip,EpF:()=>ff,F$t:()=>gg,F4k:()=>hy,FYo:()=>Ph,FiY:()=>Ta,Gf:()=>mE,GfV:()=>Mm,Gpc:()=>he,Gre:()=>Ny,Hsn:()=>py,JOm:()=>So,JVY:()=>P_,JZr:()=>_t,Jf7:()=>$c,KtG:()=>Q,L6k:()=>N_,LAX:()=>bh,LFG:()=>bn,LSH:()=>Vc,Lbi:()=>Hw,Lck:()=>c_,MAs:()=>hf,MMx:()=>gh,NdJ:()=>hg,OlP:()=>jt,Oqu:()=>Rg,P3R:()=>ap,PXZ:()=>uD,Q6J:()=>eh,QGY:()=>dg,QbO:()=>zw,Qsj:()=>vp,R0b:()=>Au,RDi:()=>sm,Rgc:()=>Er,SBq:()=>$u,Sil:()=>Zw,Suo:()=>yE,TTD:()=>mo,TgZ:()=>nh,Tol:()=>Tg,Udp:()=>bg,VKq:()=>Jg,W1O:()=>DE,WLB:()=>em,X6Q:()=>fD,XFs:()=>$t,Xpm:()=>hn,Xts:()=>up,Y36:()=>fl,YKP:()=>Zg,YNc:()=>df,Yjl:()=>Un,Yz7:()=>Dt,Z0I:()=>nr,ZZ4:()=>H0,_Bn:()=>Va,_UZ:()=>lg,_Vd:()=>lu,_c5:()=>MD,_uU:()=>Sf,aQg:()=>z0,c2e:()=>Gw,cJS:()=>yn,cg1:()=>xf,dDg:()=>iD,dqk:()=>er,eBb:()=>Us,eFA:()=>ew,eJc:()=>S0,ekj:()=>Cg,eoX:()=>YE,evT:()=>dl,f3M:()=>tr,g9A:()=>HE,h0i:()=>Mo,hGG:()=>RD,hij:()=>Af,iGM:()=>gE,ifc:()=>ce,ip1:()=>BE,jDz:()=>Il,kL8:()=>pd,lG2:()=>_n,lcZ:()=>V,lqb:()=>ju,lri:()=>qE,mCW:()=>Uu,n5z:()=>pu,oAB:()=>it,oJD:()=>Lc,oxw:()=>fg,pB0:()=>Ch,q3G:()=>Is,q4F:()=>Ep,qLn:()=>Bd,qOj:()=>Yd,qZA:()=>ud,qbA:()=>tm,qzn:()=>zl,rWj:()=>ZE,s9C:()=>mg,sBO:()=>pD,s_b:()=>Su,soG:()=>D_,tb:()=>XE,tp0:()=>gu,uIk:()=>sf,vHH:()=>Qe,vpe:()=>En,wAp:()=>ar,xi3:()=>H,xp6:()=>Gu,ynx:()=>Ja,z2F:()=>I_,z3N:()=>Du,zSh:()=>fp,zs3:()=>ec});var p=L(7579),Z=L(727),K=L(9751),$=L(6451),Le=L(3099);function ke(n){for(let i in n)if(n[i]===ke)return i;throw Error("Could not find renamed property on target object.")}function Ye(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function je(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(je).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ve(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const de=ke({__forward_ref__:ke});function he(n){return n.__forward_ref__=he,n.toString=function(){return je(this())},n}function xe(n){return Et(n)?n():n}function Et(n){return"function"==typeof n&&n.hasOwnProperty(de)&&n.__forward_ref__===he}function He(n){return n&&!!n.\u0275providers}const _t="https://g.co/ng/security#xss";class Qe extends Error{constructor(i,o){super(dt(i,o)),this.code=i}}function dt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function Ie(n){return"string"==typeof n?n:null==n?"":String(n)}function ht(n,i){throw new Qe(-201,!1)}function Ae(n,i){null==n&&function Oe(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function Dt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yn(n){return{providers:n.providers||[],imports:n.imports||[]}}function an(n){return zn(n,pr)||zn(n,Rr)}function nr(n){return null!==an(n)}function zn(n,i){return n.hasOwnProperty(i)?n[i]:null}function hr(n){return n&&(n.hasOwnProperty(ur)||n.hasOwnProperty(wn))?n[ur]:null}const pr=ke({\u0275prov:ke}),ur=ke({\u0275inj:ke}),Rr=ke({ngInjectableDef:ke}),wn=ke({ngInjectorDef:ke});var $t=(()=>(($t=$t||{})[$t.Default=0]="Default",$t[$t.Host=1]="Host",$t[$t.Self=2]="Self",$t[$t.SkipSelf=4]="SkipSelf",$t[$t.Optional=8]="Optional",$t))();let xn;function Or(n){const i=xn;return xn=n,i}function xr(n,i,o){const u=an(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&$t.Optional?null:void 0!==i?i:void ht(je(n))}const er=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qe={},ot="__NG_DI_FLAG__",yt="ngTempTokenPath",kt="ngTokenPath",Ht=/\n/gm,Gt="\u0275",Bt="__source";let cn;function Wt(n){const i=cn;return cn=n,i}function lr(n,i=$t.Default){if(void 0===cn)throw new Qe(-203,!1);return null===cn?xr(n,void 0,i):cn.get(n,i&$t.Optional?null:void 0,i)}function bn(n,i=$t.Default){return(function Cr(){return xn}()||lr)(xe(n),i)}function tr(n,i=$t.Default){return bn(n,gr(i))}function gr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Tr(n){const i=[];for(let o=0;o<n.length;o++){const u=xe(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Qe(900,!1);let l,h=$t.Default;for(let _=0;_<u.length;_++){const M=u[_],k=Ir(M);"number"==typeof k?-1===k?l=M.token:h|=k:l=M}i.push(bn(l,h))}else i.push(bn(u))}return i}function Dr(n,i){return n[ot]=i,n.prototype[ot]=i,n}function Ir(n){return n[ot]}function De(n){return{toString:n}.toString()}var ie=(()=>((ie=ie||{})[ie.OnPush=0]="OnPush",ie[ie.Default=1]="Default",ie))(),ce=(()=>{return(n=ce||(ce={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ce;var n})();const ee={},Fe=[],pe=ke({\u0275cmp:ke}),_e=ke({\u0275dir:ke}),le=ke({\u0275pipe:ke}),Se=ke({\u0275mod:ke}),rt=ke({\u0275fac:ke}),At=ke({__NG_ELEMENT_ID__:ke});let dn=0;function hn(n){return De(()=>{const i=Cs(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ie.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ce.Emulated,id:"c"+dn++,styles:n.styles||Fe,_:null,schemas:n.schemas||null,tView:null};co(o);const u=n.dependencies;return o.directiveDefs=fs(u,!1),o.pipeDefs=fs(u,!0),o})}function ii(n){return Dn(n)||Ln(n)}function pt(n){return null!==n}function it(n){return De(()=>({type:n.type,bootstrap:n.bootstrap||Fe,declarations:n.declarations||Fe,imports:n.imports||Fe,exports:n.exports||Fe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function rn(n,i){if(null==n)return ee;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function _n(n){return De(()=>{const i=Cs(n);return co(i),i})}function Un(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Dn(n){return n[pe]||null}function Ln(n){return n[_e]||null}function Gn(n){return n[le]||null}function Sr(n){const i=Dn(n)||Ln(n)||Gn(n);return null!==i&&i.standalone}function ni(n,i){const o=n[Se]||null;if(!o&&!0===i)throw new Error(`Type ${je(n)} does not have '\u0275mod' property.`);return o}function Cs(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Fe,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rn(n.inputs,i),outputs:rn(n.outputs)}}function co(n){n.features?.forEach(i=>i(n))}function fs(n,i){if(!n)return null;const o=i?Gn:ii;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(pt)}const Yr=0,Qt=1,qn=2,Wr=3,fr=4,Wi=5,br=6,bi=7,sr=8,os=9,Ai=10,Tn=11,Vi=12,Mi=13,Ki=14,Ui=15,cr=16,qs=17,di=18,hi=19,ps=20,_i=21,Br=22,qi=1,Ge=2,Be=7,nt=8,Tt=9,Ot=10;function jn(n){return Array.isArray(n)&&"object"==typeof n[qi]}function Vn(n){return Array.isArray(n)&&!0===n[qi]}function rr(n){return 0!=(4&n.flags)}function si(n){return n.componentOffset>-1}function Bi(n){return 1==(1&n.flags)}function jr(n){return!!n.template}function Ts(n){return 0!=(256&n[qn])}function $i(n,i){return n.hasOwnProperty(rt)?n[rt]:null}class Po{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function mo(){return Bo}function Bo(n){return n.type.prototype.ngOnChanges&&(n.setInput=As),Yo}function Yo(){const n=yo(this),i=n?.current;if(i){const o=n.previous;if(o===ee)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function As(n,i,o,u){const l=this.declaredInputs[o],h=yo(n)||function Qs(n,i){return n[Ms]=i}(n,{previous:ee,current:null}),_=h.current||(h.current={}),M=h.previous,k=M[l];_[l]=new Po(k&&k.currentValue,i,M===ee),n[u]=i}mo.ngInherit=!0;const Ms="__ngSimpleChanges__";function yo(n){return n[Ms]||null}const $r=function(n,i,o){};function vi(n){for(;Array.isArray(n);)n=n[Yr];return n}function Ci(n,i){return vi(i[n])}function Ri(n,i){return vi(i[n.index])}function Js(n,i){return n.data[i]}function fi(n,i){return n[i]}function pi(n,i){const o=i[n];return jn(o)?o:o[Yr]}function eo(n){return 64==(64&n[qn])}function us(n,i){return null==i?null:n[i]}function Ns(n){n[di]=0}function ls(n,i){n[Wi]+=i;let o=n,u=n[Wr];for(;null!==u&&(1===i&&1===o[Wi]||-1===i&&0===o[Wi]);)u[Wi]+=i,o=u,u=u[Wr]}const Wn={lFrame:vs(null),bindingsEnabled:!0};function B(){return Wn.bindingsEnabled}function w(){return Wn.lFrame.lView}function C(){return Wn.lFrame.tView}function A(n){return Wn.lFrame.contextLView=n,n[sr]}function Q(n){return Wn.lFrame.contextLView=null,n}function Re(){let n=Mt();for(;null!==n&&64===n.type;)n=n.parent;return n}function Mt(){return Wn.lFrame.currentTNode}function Xn(n,i){const o=Wn.lFrame;o.currentTNode=n,o.isParent=i}function or(){return Wn.lFrame.isParent}function Fr(){Wn.lFrame.isParent=!1}function Lr(){const n=Wn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Hr(){return Wn.lFrame.bindingIndex++}function Xi(n){const i=Wn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Oo(n,i){const o=Wn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Oi(i)}function Oi(n){Wn.lFrame.currentDirectiveIndex=n}function no(){return Wn.lFrame.currentQueryIndex}function sa(n){Wn.lFrame.currentQueryIndex=n}function oa(n){const i=n[Qt];return 2===i.type?i.declTNode:1===i.type?n[br]:null}function Qo(n,i,o){if(o&$t.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&$t.Host||(l=oa(h),null===l||(h=h[Ui],10&l.type))););if(null===l)return!1;i=l,n=h}const u=Wn.lFrame=_a();return u.currentTNode=i,u.lView=n,!0}function ko(n){const i=_a(),o=n[Qt];Wn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function _a(){const n=Wn.lFrame,i=null===n?null:n.child;return null===i?vs(n):i}function vs(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function va(){const n=Wn.lFrame;return Wn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ea=va;function Ba(){const n=va();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ri(){return Wn.lFrame.selectedIndex}function _o(n){Wn.lFrame.selectedIndex=n}function Ti(){const n=Wn.lFrame;return Js(n.tView,n.selectedIndex)}function la(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:M,ngAfterViewInit:k,ngAfterViewChecked:G,ngOnDestroy:re}=h;_&&(n.contentHooks??(n.contentHooks=[])).push(-o,_),M&&((n.contentHooks??(n.contentHooks=[])).push(o,M),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,M)),k&&(n.viewHooks??(n.viewHooks=[])).push(-o,k),G&&((n.viewHooks??(n.viewHooks=[])).push(o,G),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,G)),null!=re&&(n.destroyHooks??(n.destroyHooks=[])).push(o,re)}}function vo(n,i,o){z(n,i,3,o)}function Da(n,i,o,u){(3&n[qn])===o&&z(n,i,o,u)}function x(n,i){let o=n[qn];(3&o)===i&&(o&=2047,o+=1,n[qn]=o)}function z(n,i,o,u){const h=u??-1,_=i.length-1;let M=0;for(let k=void 0!==u?65535&n[di]:0;k<_;k++)if("number"==typeof i[k+1]){if(M=i[k],null!=u&&M>=u)break}else i[k]<0&&(n[di]+=65536),(M<h||-1==h)&&(F(n,o,i,k),n[di]=(4294901760&n[di])+k+2),k++}function F(n,i,o,u){const l=o[u]<0,h=o[u+1],M=n[l?-o[u]:o[u]];if(l){if(n[qn]>>11<n[di]>>16&&(3&n[qn])===i){n[qn]+=2048,$r(4,M,h);try{h.call(M)}finally{$r(5,M,h)}}}else{$r(4,M,h);try{h.call(M)}finally{$r(5,M,h)}}}const te=-1;class we{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Te(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],_=o[u++],M=o[u++];n.setAttribute(i,_,M,h)}else{const h=l,_=o[++u];It(h)?n.setProperty(i,h,_):n.setAttribute(i,h,_),u++}}return u}function et(n){return 3===n||4===n||6===n}function It(n){return 64===n.charCodeAt(0)}function Yt(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||fn(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function fn(n,i,o,u,l){let h=0,_=n.length;if(-1===i)_=-1;else for(;h<n.length;){const M=n[h++];if("number"==typeof M){if(M===i){_=-1;break}if(M>i){_=h-1;break}}}for(;h<n.length;){const M=n[h];if("number"==typeof M)break;if(M===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==_&&(n.splice(_,0,i),h=_+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function $n(n){return n!==te}function Yn(n){return 32767&n}function Kn(n,i){let o=function Rn(n){return n>>16}(n),u=i;for(;o>0;)u=u[Ui],o--;return u}let ti=!0;function qr(n){const i=ti;return ti=n,i}const Zr=255,Ei=5;let ro=0;const zi={};function Ut(n,i){const o=ts(n,i);if(-1!==o)return o;const u=i[Qt];u.firstCreatePass&&(n.injectorIndex=i.length,Pr(u.data,n),Pr(i,null),Pr(u.blueprint,null));const l=ki(n,i),h=n.injectorIndex;if($n(l)){const _=Yn(l),M=Kn(l,i),k=M[Qt].data;for(let G=0;G<8;G++)i[h+G]=M[_+G]|k[_+G]}return i[h+8]=l,h}function Pr(n,i){n.push(0,0,0,0,0,0,0,0,i)}function ts(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function ki(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=rs(l),null===u)return te;if(o++,l=l[Ui],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return te}function qt(n,i,o){!function Fs(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(At)&&(u=o[At]),null==u&&(u=o[At]=ro++);const l=u&Zr;i.data[n+(l>>Ei)]|=1<<l}(n,i,o)}function Ia(n,i,o){if(o&$t.Optional||void 0!==n)return n;ht()}function pn(n,i,o,u){if(o&$t.Optional&&void 0===u&&(u=null),!(o&($t.Self|$t.Host))){const l=n[os],h=Or(void 0);try{return l?l.get(i,u,o&$t.Optional):xr(i,u,o&$t.Optional)}finally{Or(h)}}return Ia(u,0,o)}function ze(n,i,o,u=$t.Default,l){if(null!==n){if(1024&i[qn]){const _=function io(n,i,o,u,l){let h=n,_=i;for(;null!==h&&null!==_&&1024&_[qn]&&!(256&_[qn]);){const M=at(h,_,o,u|$t.Self,zi);if(M!==zi)return M;let k=h.parent;if(!k){const G=_[_i];if(G){const re=G.get(o,zi,u);if(re!==zi)return re}k=rs(_),_=_[Ui]}h=k}return l}(n,i,o,u,zi);if(_!==zi)return _}const h=at(n,i,o,u,zi);if(h!==zi)return h}return pn(i,o,u,l)}function at(n,i,o,u,l){const h=function Eo(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(At)?n[At]:void 0;return"number"==typeof i?i>=0?i&Zr:$o:i}(o);if("function"==typeof h){if(!Qo(i,n,u))return u&$t.Host?Ia(l,0,u):pn(i,o,u,l);try{const _=h(u);if(null!=_||u&$t.Optional)return _;ht()}finally{Ea()}}else if("number"==typeof h){let _=null,M=ts(n,i),k=te,G=u&$t.Host?i[cr][br]:null;for((-1===M||u&$t.SkipSelf)&&(k=-1===M?ki(n,i):i[M+8],k!==te&&Fi(u,!1)?(_=i[Qt],M=Yn(k),i=Kn(k,i)):M=-1);-1!==M;){const re=i[Qt];if(ns(h,M,re.data)){const ve=on(M,i,o,_,u,G);if(ve!==zi)return ve}k=i[M+8],k!==te&&Fi(u,i[Qt].data[M+8]===G)&&ns(h,M,i)?(_=re,M=Yn(k),i=Kn(k,i)):M=-1}}return l}function on(n,i,o,u,l,h){const _=i[Qt],M=_.data[n+8],re=Vr(M,_,o,null==u?si(M)&&ti:u!=_&&0!=(3&M.type),l&$t.Host&&h===M);return null!==re?yr(i,_,re,M):zi}function Vr(n,i,o,u,l){const h=n.providerIndexes,_=i.data,M=1048575&h,k=n.directiveStart,re=h>>20,Ke=l?M+re:n.directiveEnd;for(let gt=u?M:M+re;gt<Ke;gt++){const Vt=_[gt];if(gt<k&&o===Vt||gt>=k&&Vt.type===o)return gt}if(l){const gt=_[k];if(gt&&jr(gt)&&gt.type===o)return k}return null}function yr(n,i,o,u){let l=n[o];const h=i.data;if(function ft(n){return n instanceof we}(l)){const _=l;_.resolving&&function We(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Rt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ie(n)}(h[o]));const M=qr(_.canSeeViewProviders);_.resolving=!0;const k=_.injectImpl?Or(_.injectImpl):null;Qo(n,u,$t.Default);try{l=n[o]=_.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Mu(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const _=Bo(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,_),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,_)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==k&&Or(k),qr(M),_.resolving=!1,Ea()}}return l}function ns(n,i,o){return!!(o[i+(n>>Ei)]&1<<n)}function Fi(n,i){return!(n&$t.Self||n&$t.Host&&i)}class mi{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return ze(this._tNode,this._lView,i,gr(u),o)}}function $o(){return new mi(Re(),w())}function pu(n){return De(()=>{const i=n.prototype.constructor,o=i[rt]||Zi(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[rt]||Zi(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Zi(n){return Et(n)?()=>{const i=Zi(xe(n));return i&&i()}:$i(n)}function rs(n){const i=n[Qt],o=i.type;return 2===o?i.declTNode:1===o?n[br]:null}function Jn(n){return function Sn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(et(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(Re(),n)}const ja="__parameters__";function Ar(n,i,o){return De(()=>{const u=function pa(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const _=new l(...h);return M.annotation=_,M;function M(k,G,re){const ve=k.hasOwnProperty(ja)?k[ja]:Object.defineProperty(k,ja,{value:[]})[ja];for(;ve.length<=re;)ve.push(null);return(ve[re]=ve[re]||[]).push(_),k}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class jt{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Dt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function lt(n,i){n.forEach(o=>Array.isArray(o)?lt(o,i):i(o))}function Ra(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function wo(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function E(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}function X(n,i,o){let u=Xe(n,i);return u>=0?n[1|u]=o:(u=~u,function R(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function ae(n,i){const o=Xe(n,i);if(o>=0)return n[1|o]}function Xe(n,i){return function nn(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),_=n[h<<o];if(i===_)return h<<o;_>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const Ta=Dr(Ar("Optional"),8),gu=Dr(Ar("SkipSelf"),4);var So=(()=>((So=So||{})[So.Important=1]="Important",So[So.DashCase=2]="DashCase",So))();const b=new Map;let O=0;const dr="__ngContext__";function kn(n,i){jn(i)?(n[dr]=i[ps],function me(n){b.set(n[ps],n)}(i)):n[dr]=i}let Mc;function Za(n,i){return Mc(n,i)}function kl(n){const i=n[Wr];return Vn(i)?i[Wr]:i}function Na(n){return Fl(n[Mi])}function rl(n){return Fl(n[fr])}function Fl(n){for(;null!==n&&!Vn(n);)n=n[fr];return n}function Lu(n,i,o,u,l){if(null!=u){let h,_=!1;Vn(u)?h=u:jn(u)&&(_=!0,u=u[Yr]);const M=vi(u);0===n&&null!==o?null==l?Go(i,o,M):Mr(i,o,M,l||null,!0):1===n&&null!==o?Mr(i,o,M,l||null,!0):2===n?function jl(n,i,o){const u=Vu(n,i);u&&function Vl(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,M,_):3===n&&i.destroyNode(M),null!=h&&function A_(n,i,o,u,l){const h=o[Be];h!==vi(o)&&Lu(i,n,u,h,l);for(let M=Ot;M<o.length;M++){const k=o[M];Pc(k[Qt],k,n,i,u,h)}}(i,n,h,o,l)}}function Rc(n,i,o){return n.createElement(i,o)}function T(n,i){const o=n[Tt],u=o.indexOf(i),l=i[Wr];512&i[qn]&&(i[qn]&=-513,ls(l,-1)),o.splice(u,1)}function q(n,i){if(n.length<=Ot)return;const o=Ot+i,u=n[o];if(u){const l=u[qs];null!==l&&l!==n&&T(l,u),i>0&&(n[o-1][fr]=u[fr]);const h=wo(n,Ot+i);!function wh(n,i){Pc(n,i,i[Tn],2,null,null),i[Yr]=null,i[br]=null}(u[Qt],u);const _=h[hi];null!==_&&_.detachView(h[Qt]),u[Wr]=null,u[fr]=null,u[qn]&=-65}return u}function ue(n,i){if(!(128&i[qn])){const o=i[Tn];o.destroyNode&&Pc(n,i,o,3,null,null),function D(n){let i=n[Mi];if(!i)return Ze(n[Qt],n);for(;i;){let o=null;if(jn(i))o=i[Mi];else{const u=i[Ot];u&&(o=u)}if(!o){for(;i&&!i[fr]&&i!==n;)jn(i)&&Ze(i[Qt],i),i=i[Wr];null===i&&(i=n),jn(i)&&Ze(i[Qt],i),o=i&&i[fr]}i=o}}(i)}}function Ze(n,i){if(!(128&i[qn])){i[qn]&=-65,i[qn]|=128,function en(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof we)){const h=o[u+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const M=l[h[_]],k=h[_+1];$r(4,M,k);try{k.call(M)}finally{$r(5,M,k)}}else{$r(4,l,h);try{h.call(l)}finally{$r(5,l,h)}}}}}(n,i),function wt(n,i){const o=n.cleanup,u=i[bi];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const _=o[h+3];_>=0?u[l=_]():u[l=-_].unsubscribe(),h+=2}else{const _=u[l=o[h+1]];o[h].call(_)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[bi]=null}}(n,i),1===i[Qt].type&&i[Tn].destroy();const o=i[qs];if(null!==o&&Vn(i[Wr])){o!==i[Wr]&&T(o,i);const u=i[hi];null!==u&&u.detachView(n)}!function Je(n){b.delete(n[ps])}(i)}}function In(n,i,o){return function Hn(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[Yr];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===ce.None||h===ce.Emulated)return null}return Ri(u,o)}}(n,i.parent,o)}function Mr(n,i,o,u,l){n.insertBefore(i,o,u,l)}function Go(n,i,o){n.appendChild(i,o)}function Fo(n,i,o,u,l){null!==u?Mr(n,i,o,u,l):Go(n,i,o)}function Vu(n,i){return n.parentNode(i)}function sl(n,i,o){return uu(n,i,o)}let Ao,Oa,Rd,xd,uu=function ol(n,i,o){return 40&n.type?Ri(n,o):null};function _u(n,i,o,u){const l=In(n,u,i),h=i[Tn],M=sl(u.parent||i[br],u,i);if(null!=l)if(Array.isArray(o))for(let k=0;k<o.length;k++)Fo(h,l,o[k],M,!1);else Fo(h,l,o,M,!1);void 0!==Ao&&Ao(h,u,i,o,l)}function vu(n,i){if(null!==i){const o=i.type;if(3&o)return Ri(i,n);if(4&o)return Bl(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return vu(n,u);{const l=n[i.index];return Vn(l)?Bl(-1,l):vi(l)}}if(32&o)return Za(i,n)()||vi(n[i.index]);{const u=Ul(n,i);return null!==u?Array.isArray(u)?u[0]:vu(kl(n[cr]),u):vu(n,i.next)}}return null}function Ul(n,i){return null!==i?n[cr][br].projection[i.projection]:null}function Bl(n,i){const o=Ot+n+1;if(o<i.length){const u=i[o],l=u[Qt].firstChild;if(null!==l)return vu(u,l)}return i[Be]}function Dh(n,i,o,u,l,h,_){for(;null!=o;){const M=u[o.index],k=o.type;if(_&&0===i&&(M&&kn(vi(M),u),o.flags|=2),32!=(32&o.flags))if(8&k)Dh(n,i,o.child,u,l,h,!1),Lu(i,n,l,M,h);else if(32&k){const G=Za(o,u);let re;for(;re=G();)Lu(i,n,l,re,h);Lu(i,n,l,M,h)}else 16&k?Eu(n,i,u,o,l,h):Lu(i,n,l,M,h);o=_?o.projectionNext:o.next}}function Pc(n,i,o,u,l,h){Dh(o,u,n.firstChild,i,l,h,!1)}function Eu(n,i,o,u,l,h){const _=o[cr],k=_[br].projection[u.projection];if(Array.isArray(k))for(let G=0;G<k.length;G++)Lu(i,n,l,k[G],h);else Dh(n,i,k,_[Wr],l,h,!0)}function Nc(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Zf(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&Te(n,i,u),null!==l&&Nc(n,i,l),null!==h&&function im(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function wu(n){return function Ih(){if(void 0===Oa&&(Oa=null,er.trustedTypes))try{Oa=er.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Oa}()?.createHTML(n)||n}function sm(n){Rd=n}function Oc(){if(void 0===xd&&(xd=null,er.trustedTypes))try{xd=er.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xd}function om(n){return Oc()?.createHTML(n)||n}function Qf(n){return Oc()?.createScriptURL(n)||n}class Ya{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class $l extends Ya{getTypeName(){return"HTML"}}class um extends Ya{getTypeName(){return"Style"}}class Hl extends Ya{getTypeName(){return"Script"}}class lm extends Ya{getTypeName(){return"URL"}}class kc extends Ya{getTypeName(){return"ResourceURL"}}function Du(n){return n instanceof Ya?n.changingThisBreaksApplicationSecurity:n}function zl(n,i){const o=function Pd(n){return n instanceof Ya&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${_t})`)}return o===i}function P_(n){return new $l(n)}function N_(n){return new um(n)}function Us(n){return new Hl(n)}function bh(n){return new lm(n)}function Ch(n){return new kc(n)}class O_{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(wu(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class Nd{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=wu(i),o}}const cm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Uu(n){return(n=String(n)).match(cm)?n:"unsafe:"+n}function Jo(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function Fc(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const Jf=Jo("area,br,col,hr,img,wbr"),ep=Jo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gl=Jo("rp,rt"),Od=Fc(Jf,Fc(ep,Jo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fc(Gl,Jo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fc(Gl,ep)),tp=Jo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ii=Fc(tp,Jo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pm=Jo("script,style,template");class gm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Od.hasOwnProperty(o))return this.sanitizedSomething=!0,!pm.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const h=u.item(l),_=h.name,M=_.toLowerCase();if(!Ii.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let k=h.value;tp[M]&&(k=Uu(k)),this.buf.push(" ",_,'="',rp(k),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Od.hasOwnProperty(o)&&!Jf.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(rp(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const np=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Th=/([^\#-~ |!])/g;function rp(n){return n.replace(/&/g,"&amp;").replace(np,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Th,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sh;function ip(n,i){let o=null;try{Sh=Sh||function Xf(n){const i=new Nd(n);return function k_(){try{return!!(new window.DOMParser).parseFromString(wu(""),"text/html")}catch{return!1}}()?new O_(i):i}(n);let u=i?String(i):"";o=Sh.getInertBodyElement(u);let l=5,h=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=h,h=o.innerHTML,o=Sh.getInertBodyElement(u)}while(u!==h);return wu((new gm).sanitizeChildren(Ah(o)||o))}finally{if(o){const u=Ah(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Ah(n){return"content"in n&&function sp(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Is=(()=>((Is=Is||{})[Is.NONE=0]="NONE",Is[Is.HTML=1]="HTML",Is[Is.STYLE=2]="STYLE",Is[Is.SCRIPT=3]="SCRIPT",Is[Is.URL=4]="URL",Is[Is.RESOURCE_URL=5]="RESOURCE_URL",Is))();function Lc(n){const i=Fd();return i?om(i.sanitize(Is.HTML,n)||""):zl(n,"HTML")?om(Du(n)):ip(function Yf(){return void 0!==Rd?Rd:typeof document<"u"?document:void 0}(),Ie(n))}function Vc(n){const i=Fd();return i?i.sanitize(Is.URL,n)||"":zl(n,"URL")?Du(n):Uu(Ie(n))}function op(n){const i=Fd();if(i)return Qf(i.sanitize(Is.RESOURCE_URL,n)||"");if(zl(n,"ResourceURL"))return Qf(Du(n));throw new Qe(904,!1)}function ap(n,i,o){return function _m(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?op:Vc}(i,o)(n)}function Fd(){const n=w();return n&&n[Vi]}const up=new jt("ENVIRONMENT_INITIALIZER"),Mh=new jt("INJECTOR",-1),Wl=new jt("INJECTOR_DEF_TYPES");class lp{get(i,o=qe){if(o===qe){const u=new Error(`NullInjectorError: No provider for ${je(i)}!`);throw u.name="NullInjectorError",u}return o}}function Do(...n){return{\u0275providers:Rh(0,n),\u0275fromNgModule:!0}}function Rh(n,...i){const o=[],u=new Set;let l;return lt(i,h=>{const _=h;Kl(_,o,[],u)&&(l||(l=[]),l.push(_))}),void 0!==l&&cp(l,o),o}function cp(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Ld(l,h=>{i.push(h)})}}function Kl(n,i,o,u){if(!(n=xe(n)))return!1;let l=null,h=hr(n);const _=!h&&Dn(n);if(h||_){if(_&&!_.standalone)return!1;l=n}else{const k=n.ngModule;if(h=hr(k),!h)return!1;l=k}const M=u.has(l);if(_){if(M)return!1;if(u.add(l),_.dependencies){const k="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const G of k)Kl(G,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!M){let G;u.add(l);try{lt(h.imports,re=>{Kl(re,i,o,u)&&(G||(G=[]),G.push(re))})}finally{}void 0!==G&&cp(G,i)}if(!M){const G=$i(l)||(()=>new l);i.push({provide:l,useFactory:G,deps:Fe},{provide:Wl,useValue:l,multi:!0},{provide:up,useValue:()=>bn(l),multi:!0})}const k=h.providers;null==k||M||Ld(k,re=>{i.push(re)})}}return l!==n&&void 0!==n.providers}function Ld(n,i){for(let o of n)He(o)&&(o=o.\u0275providers),Array.isArray(o)?Ld(o,i):i(o)}const vm=ke({provide:String,useValue:ke});function ql(n){return null!==n&&"object"==typeof n&&vm in n}function ul(n){return"function"==typeof n}const fp=new jt("Set Injector scope."),ll={},pp={};let gp;function Vd(){return void 0===gp&&(gp=new lp),gp}class ju{}class mp extends ju{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_p(i,_=>this.processProvider(_)),this.records.set(Mh,Uc(void 0,this)),l.has("environment")&&this.records.set(ju,Uc(void 0,this));const h=this.records.get(fp);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Wl.multi,Fe,$t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Wt(this),u=Or(void 0);try{return i()}finally{Wt(o),Or(u)}}get(i,o=qe,u=$t.Default){this.assertNotDestroyed(),u=gr(u);const l=Wt(this),h=Or(void 0);try{if(!(u&$t.SkipSelf)){let M=this.records.get(i);if(void 0===M){const k=function Dm(n){return"function"==typeof n||"object"==typeof n&&n instanceof jt}(i)&&an(i);M=k&&this.injectableDefInScope(k)?Uc(yp(i),ll):null,this.records.set(i,M)}if(null!=M)return this.hydrate(i,M)}return(u&$t.Self?Vd():this.parent).get(i,o=u&$t.Optional&&o===qe?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[yt]=_[yt]||[]).unshift(je(i)),l)throw _;return function mr(n,i,o,u){const l=n[yt];throw i[Bt]&&l.unshift(i[Bt]),n.message=function Me(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Gt?n.slice(2):n;let l=je(i);if(Array.isArray(i))l=i.map(je).join(" -> ");else if("object"==typeof i){let h=[];for(let _ in i)if(i.hasOwnProperty(_)){let M=i[_];h.push(_+":"+("string"==typeof M?JSON.stringify(M):je(M)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Ht,"\n  ")}`}("\n"+n.message,l,o,u),n[kt]=l,n[yt]=null,n}(_,i,"R3InjectorError",this.source)}throw _}finally{Or(h),Wt(l)}}resolveInjectorInitializers(){const i=Wt(this),o=Or(void 0);try{const u=this.get(up.multi,Fe,$t.Self);for(const l of u)l()}finally{Wt(i),Or(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(je(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processProvider(i){let o=ul(i=xe(i))?i:xe(i&&i.provide);const u=function V_(n){return ql(n)?Uc(void 0,n.useValue):Uc(wm(n),ll)}(i);if(ul(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Uc(void 0,ll,!0),l.factory=()=>Tr(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===ll&&(o.value=pp,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Bc(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=xe(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function yp(n){const i=an(n),o=null!==i?i.factory:$i(n);if(null!==o)return o;if(n instanceof jt)throw new Qe(204,!1);if(n instanceof Function)return function Em(n){const i=n.length;if(i>0)throw E(i,"?"),new Qe(204,!1);const o=function Qn(n){return n&&(n[pr]||n[Rr])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Qe(204,!1)}function wm(n,i,o){let u;if(ul(n)){const l=xe(n);return $i(l)||yp(l)}if(ql(n))u=()=>xe(n.useValue);else if(function hp(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Tr(n.deps||[]));else if(function dp(n){return!(!n||!n.useExisting)}(n))u=()=>bn(xe(n.useExisting));else{const l=xe(n&&(n.useClass||n.provide));if(!function cl(n){return!!n.deps}(n))return $i(l)||yp(l);u=()=>new l(...Tr(n.deps))}return u}function Uc(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function _p(n,i){for(const o of n)Array.isArray(o)?_p(o,i):o&&He(o)?_p(o.\u0275providers,i):i(o)}class Im{}class Iu{}class xh{resolveComponentFactory(i){throw function bm(n){const i=Error(`No component factory found for ${je(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let lu=(()=>{class n{}return n.NULL=new xh,n})();function Zl(){return Qa(Re(),w())}function Qa(n,i){return new $u(Ri(n,i))}let $u=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Zl,n})();function Tm(n){return n instanceof $u?n.nativeElement:n}class Ph{}let vp=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Sm(){const n=w(),o=pi(Re().index,n);return(jn(o)?o:n)[Tn]}(),n})(),Am=(()=>{class n{}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:()=>null}),n})();class Mm{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Ep=new Mm("15.2.9"),Nh={},jc="ngOriginalError";function Hu(n){return n[jc]}class Bd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Hu(i);for(;o&&Hu(o);)o=Hu(o);return o||null}}function $c(n){return n.ownerDocument.defaultView}function dl(n){return n.ownerDocument}function zu(n){return n instanceof Function?n():n}function Oh(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const Dp="ng-template";function kh(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const _=n[u++];if(o&&"class"===h&&-1!==Oh(_.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function km(n){return 4===n.type&&n.value!==Dp}function Ip(n,i,o){return i===(4!==n.type||o?n.value:Dp)}function Fh(n,i,o){let u=4;const l=n.attrs||[],h=function jd(n){for(let i=0;i<n.length;i++)if(et(n[i]))return i;return n.length}(l);let _=!1;for(let M=0;M<i.length;M++){const k=i[M];if("number"!=typeof k){if(!_)if(4&u){if(u=2|1&u,""!==k&&!Ip(n,k,o)||""===k&&1===i.length){if(cu(u))return!1;_=!0}}else{const G=8&u?k:i[++M];if(8&u&&null!==n.attrs){if(!kh(n.attrs,G,o)){if(cu(u))return!1;_=!0}continue}const ve=Fm(8&u?"class":k,l,km(n),o);if(-1===ve){if(cu(u))return!1;_=!0;continue}if(""!==G){let Ke;Ke=ve>h?"":l[ve+1].toLowerCase();const gt=8&u?Ke:null;if(gt&&-1!==Oh(gt,G,0)||2&u&&G!==Ke){if(cu(u))return!1;_=!0}}}}else{if(!_&&!cu(u)&&!cu(k))return!1;if(_&&cu(k))continue;_=!1,u=k|1&u}}return cu(u)||_}function cu(n){return 0==(1&n)}function Fm(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const _=i[l];if(_===n)return l;if(3===_||6===_)h=!0;else{if(1===_||2===_){let M=i[++l];for(;"string"==typeof M;)M=i[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=h?1:2}return-1}return function Lm(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Hc(n,i,o=!1){for(let u=0;u<i.length;u++)if(Fh(n,i[u],o))return!0;return!1}function Vm(n,i){e:for(let o=0;o<i.length;o++){const u=i[o];if(n.length===u.length){for(let l=0;l<n.length;l++)if(n[l]!==u[l])continue e;return!0}}return!1}function ea(n,i){return n?":not("+i.trim()+")":i}function Um(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let _=n[o];if("string"==typeof _)if(2&u){const M=n[++o];l+="["+_+(M.length>0?'="'+M+'"':"")+"]"}else 8&u?l+="."+_:4&u&&(l+=" "+_);else""!==l&&!cu(_)&&(i+=ea(h,l),l=""),u=_,h=h||!cu(u);o++}return""!==l&&(i+=ea(h,l)),i}const Nr={};function Gu(n){Ql(C(),w(),ri()+n,!1)}function Ql(n,i,o,u){if(!u)if(3==(3&i[qn])){const h=n.preOrderCheckHooks;null!==h&&vo(i,h,o)}else{const h=n.preOrderHooks;null!==h&&Da(i,h,0,o)}_o(o)}function $m(n,i=null,o=null,u){const l=Cp(n,i,o,u);return l.resolveInjectorInitializers(),l}function Cp(n,i=null,o=null,u,l=new Set){const h=[o||Fe,Do(n)];return u=u||("object"==typeof n?void 0:je(n)),new mp(h,i||Vd(),u||null,l)}let ec=(()=>{class n{static create(o,u){if(Array.isArray(o))return $m({name:""},u,o,"");{const l=o.name??"";return $m({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=qe,n.NULL=new lp,n.\u0275prov=Dt({token:n,providedIn:"any",factory:()=>bn(Mh)}),n.__NG_ELEMENT_ID__=-1,n})();function fl(n,i=$t.Default){const o=w();return null===o?bn(n,i):ze(Re(),o,xe(n),i)}function Rp(){throw new Error("invalid")}function xp(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const _=n.data[h];sa(o[u]),_.contentQueries(2,i[h],h)}}}function zh(n,i,o,u,l,h,_,M,k,G,re){const ve=i.blueprint.slice();return ve[Yr]=l,ve[qn]=76|u,(null!==re||n&&1024&n[qn])&&(ve[qn]|=1024),Ns(ve),ve[Wr]=ve[Ui]=n,ve[sr]=o,ve[Ai]=_||n&&n[Ai],ve[Tn]=M||n&&n[Tn],ve[Vi]=k||n&&n[Vi]||null,ve[os]=G||n&&n[os]||null,ve[br]=h,ve[ps]=function Y(){return O++}(),ve[_i]=re,ve[cr]=2==i.type?n[cr]:ve,ve}function rc(n,i,o,u,l){let h=n.data[i];if(null===h)h=function Np(n,i,o,u,l){const h=Mt(),_=or(),k=n.data[i]=function Lp(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=k),null!==h&&(_?null==h.child&&null!==k.parent&&(h.child=k):null===h.next&&(h.next=k,k.prev=h)),k}(n,i,o,u,l),function Os(){return Wn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const _=function vn(){const n=Wn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return Xn(h,!0),h}function Wc(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Op(n,i,o){ko(i);try{const u=n.viewQuery;null!==u&&Xh(1,u,o);const l=n.template;null!==l&&ic(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&xp(n,i),n.staticViewQueries&&Xh(2,n.viewQuery,o);const h=n.components;null!==h&&function Pp(n,i){for(let o=0;o<i.length;o++)Wp(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[qn]&=-5,Ba()}}function Ku(n,i,o,u){const l=i[qn];if(128!=(128&l)){ko(i);try{Ns(i),function ai(n){return Wn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&ic(n,i,o,2,u);const _=3==(3&l);if(_){const G=n.preOrderCheckHooks;null!==G&&vo(i,G,null)}else{const G=n.preOrderHooks;null!==G&&Da(i,G,0,null),x(i,0)}if(function lv(n){for(let i=Na(n);null!==i;i=rl(i)){if(!i[Ge])continue;const o=i[Tt];for(let u=0;u<o.length;u++){const l=o[u];512&l[qn]||ls(l[Wr],1),l[qn]|=512}}}(i),function Gp(n){for(let i=Na(n);null!==i;i=rl(i))for(let o=Ot;o<i.length;o++){const u=i[o],l=u[Qt];eo(u)&&Ku(l,u,l.template,u[sr])}}(i),null!==n.contentQueries&&xp(n,i),_){const G=n.contentCheckHooks;null!==G&&vo(i,G)}else{const G=n.contentHooks;null!==G&&Da(i,G,1),x(i,1)}!function tv(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)_o(~l);else{const h=l,_=o[++u],M=o[++u];Oo(_,h),M(2,i[h])}}}finally{_o(-1)}}(n,i);const M=n.components;null!==M&&function Zm(n,i){for(let o=0;o<i.length;o++)cv(n,i[o])}(i,M);const k=n.viewQuery;if(null!==k&&Xh(2,k,u),_){const G=n.viewCheckHooks;null!==G&&vo(i,G)}else{const G=n.viewHooks;null!==G&&Da(i,G,2),x(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[qn]&=-41,512&i[qn]&&(i[qn]&=-513,ls(i[Wr],-1))}finally{Ba()}}}function ic(n,i,o,u,l){const h=ri(),_=2&u;try{_o(-1),_&&i.length>Br&&Ql(n,i,Br,!1),$r(_?2:0,l),o(u,l)}finally{_o(h),$r(_?3:1,l)}}function Gd(n,i,o){if(rr(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const _=n.data[h];_.contentQueries&&_.contentQueries(1,o[h],h)}}}function Kc(n,i,o){B()&&(function Zh(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;si(o)&&function Hp(n,i,o){const u=Ri(i,n),l=kp(o),h=n[Ai],_=Zc(n,zh(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=_}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||Ut(o,i),kn(u,i);const _=o.initialInputs;for(let M=l;M<h;M++){const k=n.data[M],G=yr(i,n,M,o);kn(G,i),null!==_&&av(0,M-l,G,k,0,_),jr(k)&&(pi(o.index,i)[sr]=yr(i,n,M,o))}}(n,i,o,Ri(o,i)),64==(64&o.flags)&&Yh(n,i,o))}function Gh(n,i,o=Ri){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const _=u[h+1],M=-1===_?o(i,n):n[_];n[l++]=M}}}function kp(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Wh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Wh(n,i,o,u,l,h,_,M,k,G){const re=Br+u,ve=re+l,Ke=function nv(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Nr);return o}(re,ve),gt="function"==typeof G?G():G;return Ke[Qt]={type:n,blueprint:Ke,template:o,queries:null,viewQuery:M,declTNode:i,data:Ke.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:k,consts:gt,incompleteFirstPass:!1}}function Ym(n,i,o,u){const l=Jh(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&qu(n).push(u,l.length-1))}function Vp(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?Up(o,i,l,h):u.hasOwnProperty(l)&&Up(o,i,u[l],h)}return o}function Up(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function ta(n,i,o,u,l,h,_,M){const k=Ri(i,o);let re,G=i.inputs;!M&&null!=G&&(re=G[u])?(qd(n,o,re,u,l),si(i)&&function qh(n,i){const o=pi(i,n);16&o[qn]||(o[qn]|=32)}(o,i.index)):3&i.type&&(u=function Kh(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=_?_(l,i.value||"",u):l,h.setProperty(k,u,l))}function Wd(n,i,o,u){if(B()){const l=null===u?null:{"":-1},h=function sv(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const _=o[h];if(Hc(i,_.selectors,!1))if(u||(u=[]),jr(_))if(null!==_.findHostDirectiveDefs){const M=[];l=l||new Map,_.findHostDirectiveDefs(_,M,l),u.unshift(...M,_),Ko(n,i,M.length)}else u.unshift(_),Ko(n,i,0);else l=l||new Map,_.findHostDirectiveDefs?.(_,u,l),u.push(_)}return null===u?null:[u,l]}(n,o);let _,M;null===h?_=M=null:[_,M]=h,null!==_&&$p(n,i,o,_,l,M),l&&function ov(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new Qe(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=Yt(o.mergedAttrs,o.attrs)}function $p(n,i,o,u,l,h){for(let G=0;G<u.length;G++)qt(Ut(o,i),n,u[G].type);!function Qh(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let G=0;G<u.length;G++){const re=u[G];re.providersResolver&&re.providersResolver(re)}let _=!1,M=!1,k=Wc(n,i,u.length,null);for(let G=0;G<u.length;G++){const re=u[G];o.mergedAttrs=Yt(o.mergedAttrs,re.hostAttrs),Kd(n,o,i,k,re),Jm(k,re,l),null!==re.contentQueries&&(o.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(o.flags|=64);const ve=re.type.prototype;!_&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),_=!0),!M&&(ve.ngOnChanges||ve.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),M=!0),k++}!function Bp(n,i,o){const l=i.directiveEnd,h=n.data,_=i.attrs,M=[];let k=null,G=null;for(let re=i.directiveStart;re<l;re++){const ve=h[re],Ke=o?o.get(ve):null,Vt=Ke?Ke.outputs:null;k=Vp(ve.inputs,re,k,Ke?Ke.inputs:null),G=Vp(ve.outputs,re,G,Vt);const un=null===k||null===_||km(i)?null:uv(k,re,_);M.push(un)}null!==k&&(k.hasOwnProperty("class")&&(i.flags|=8),k.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=M,i.inputs=k,i.outputs=G}(n,o,h)}function Yh(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,_=function jo(){return Wn.lFrame.currentDirectiveIndex}();try{_o(h);for(let M=u;M<l;M++){const k=n.data[M],G=i[M];Oi(M),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&iv(k,G)}}finally{_o(-1),Oi(_)}}function iv(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Ko(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function Jm(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;jr(i)&&(o[""]=n)}}function Kd(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=$i(l.type)),_=new we(h,jr(l),fl);n.blueprint[u]=_,o[u]=_,function rv(n,i,o,u,l){const h=l.hostBindings;if(h){let _=n.hostBindingOpCodes;null===_&&(_=n.hostBindingOpCodes=[]);const M=~i.index;(function Xm(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(_)!=M&&_.push(M),_.push(o,u,h)}}(n,i,u,Wc(n,o,l.hostVars,Nr),l)}function du(n,i,o,u,l,h){const _=Ri(n,i);!function zp(n,i,o,u,l,h,_){if(null==h)n.removeAttribute(i,l,o);else{const M=null==_?Ie(h):_(h,u||"",l);n.setAttribute(i,l,M,o)}}(i[Tn],_,h,n.value,o,u,l)}function av(n,i,o,u,l,h){const _=h[i];if(null!==_){const M=u.setInput;for(let k=0;k<_.length;){const G=_[k++],re=_[k++],ve=_[k++];null!==M?u.setInput(o,ve,G,re):o[re]=ve}}}function uv(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const _=n[h];for(let M=0;M<_.length;M+=2)if(_[M]===i){u.push(h,_[M+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function ey(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function cv(n,i){const o=pi(i,n);if(eo(o)){const u=o[Qt];48&o[qn]?Ku(u,o,u.template,o[sr]):o[Wi]>0&&sc(o)}}function sc(n){for(let u=Na(n);null!==u;u=rl(u))for(let l=Ot;l<u.length;l++){const h=u[l];if(eo(h))if(512&h[qn]){const _=h[Qt];Ku(_,h,_.template,h[sr])}else h[Wi]>0&&sc(h)}const o=n[Qt].components;if(null!==o)for(let u=0;u<o.length;u++){const l=pi(o[u],n);eo(l)&&l[Wi]>0&&sc(l)}}function Wp(n,i){const o=pi(i,n),u=o[Qt];(function qc(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Op(u,o,o[sr])}function Zc(n,i){return n[Mi]?n[Ki][fr]=i:n[Mi]=i,n[Ki]=i,i}function oc(n){for(;n;){n[qn]|=32;const i=kl(n);if(Ts(n)&&!i)return n;n=i}return null}function pl(n,i,o,u=!0){const l=i[Ai];l.begin&&l.begin();try{Ku(n,i,n.template,o)}catch(_){throw u&&ry(i,_),_}finally{l.end&&l.end()}}function Xh(n,i,o){sa(0),i(n,o)}function Jh(n){return n[bi]||(n[bi]=[])}function qu(n){return n.cleanup||(n.cleanup=[])}function ry(n,i){const o=n[os],u=o?o.get(Bd,null):null;u&&u.handleError(i)}function qd(n,i,o,u,l){for(let h=0;h<o.length;){const _=o[h++],M=o[h++],k=i[_],G=n.data[_];null!==G.setInput?G.setInput(k,l,u,M):k[M]=l}}function Zu(n,i,o){const u=Ci(i,n);!function Md(n,i,o){n.setValue(i,o)}(n[Tn],u,o)}function Yc(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let _=0;_<i.length;_++){const M=i[_];"number"==typeof M?h=M:1==h?l=Ve(l,M):2==h&&(u=Ve(u,M+": "+i[++_]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function ef(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(vi(h)),Vn(h))for(let M=Ot;M<h.length;M++){const k=h[M],G=k[Qt].firstChild;null!==G&&ef(k[Qt],k,G,u)}const _=o.type;if(8&_)ef(n,i,o.child,u);else if(32&_){const M=Za(o,i);let k;for(;k=M();)u.push(k)}else if(16&_){const M=Ul(i,o);if(Array.isArray(M))u.push(...M);else{const k=kl(i[cr]);ef(k[Qt],k,M,u,!0)}}o=l?o.projectionNext:o.next}return u}class ac{get rootNodes(){const i=this._lView,o=i[Qt];return ef(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sr]}set context(i){this._lView[sr]=i}get destroyed(){return 128==(128&this._lView[qn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Wr];if(Vn(i)){const o=i[nt],u=o?o.indexOf(this):-1;u>-1&&(q(i,u),wo(o,u))}this._attachedToViewContainer=!1}ue(this._lView[Qt],this._lView)}onDestroy(i){Ym(this._lView[Qt],this._lView,null,i)}markForCheck(){oc(this._cdRefInjectingView||this._lView)}detach(){this._lView[qn]&=-65}reattach(){this._lView[qn]|=64}detectChanges(){pl(this._lView[Qt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rm(n,i){Pc(n,i,i[Tn],2,null,null)}(this._lView[Qt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Qe(902,!1);this._appRef=i}}class tf extends ac{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;pl(i[Qt],i,i[sr],!1)}checkNoChanges(){}get context(){return null}}class nf extends lu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Dn(i);return new Zd(o,this.ngModule)}}function qp(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Zp{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=gr(u);const l=this.injector.get(i,Nh,u);return l!==Nh||o===Nh?l:this.parentInjector.get(i,o,u)}}class Zd extends Iu{get inputs(){return qp(this.componentDef.inputs)}get outputs(){return qp(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Vh(n){return n.map(Um).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof ju?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const _=h?new Zp(i,h):i,M=_.get(Ph,null);if(null===M)throw new Qe(407,!1);const k=_.get(Am,null),G=M.createRenderer(null,this.componentDef),re=this.componentDef.selectors[0][0]||"div",ve=u?function Fp(n,i,o){return n.selectRootElement(i,o===ce.ShadowDom)}(G,u,this.componentDef.encapsulation):Rc(G,re,function Qc(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(re)),Ke=this.componentDef.onPush?288:272,gt=Wh(0,null,null,1,0,null,null,null,null,null),Vt=zh(null,gt,null,Ke,null,null,M,G,k,_,null);let un,Mn;ko(Vt);try{const Zn=this.componentDef;let _r,Kt=null;Zn.findHostDirectiveDefs?(_r=[],Kt=new Map,Zn.findHostDirectiveDefs(Zn,_r,Kt),_r.push(Zn)):_r=[Zn];const Gr=function iy(n,i){const o=n[Qt],u=Br;return n[u]=i,rc(o,u,2,"#host",null)}(Vt,ve),lo=function fv(n,i,o,u,l,h,_,M){const k=l[Qt];!function Yp(n,i,o,u){for(const l of n)i.mergedAttrs=Yt(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(Yc(i,i.mergedAttrs,!0),null!==o&&Zf(u,o,i))}(u,n,i,_);const G=h.createRenderer(i,o),re=zh(l,kp(o),null,o.onPush?32:16,l[n.index],n,h,G,M||null,null,null);return k.firstCreatePass&&Ko(k,n,u.length-1),Zc(l,re),l[n.index]=re}(Gr,ve,Zn,_r,Vt,M,G);Mn=Js(gt,Br),ve&&function Qp(n,i,o,u){if(u)Te(n,o,["ng-version",Ep.full]);else{const{attrs:l,classes:h}=function Uh(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!cu(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&Te(n,o,l),h&&h.length>0&&Nc(n,o,h.join(" "))}}(G,Zn,ve,u),void 0!==o&&function gv(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(Mn,this.ngContentSelectors,o),un=function pv(n,i,o,u,l,h){const _=Re(),M=l[Qt],k=Ri(_,l);$p(M,l,_,o,null,u);for(let re=0;re<o.length;re++)kn(yr(l,M,_.directiveStart+re,_),l);Yh(M,l,_),k&&kn(k,l);const G=yr(l,M,_.directiveStart+_.componentOffset,_);if(n[sr]=l[sr]=G,null!==h)for(const re of h)re(G,i);return Gd(M,_,n),G}(lo,Zn,_r,Kt,Vt,[Xp]),Op(gt,Vt,null)}finally{Ba()}return new dv(this.componentType,un,Qa(Mn,Vt),Vt,Mn)}}class dv extends Im{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new tf(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;qd(h[Qt],h,l,i,o),oc(pi(this._tNode.index,h))}}get injector(){return new mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Xp(){const n=Re();la(w()[Qt],n)}function Yd(n){let i=function sy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(jr(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Qe(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const _=n;_.inputs=Qd(n.inputs),_.declaredInputs=Qd(n.declaredInputs),_.outputs=Qd(n.outputs);const M=l.hostBindings;M&&Xc(n,M);const k=l.viewQuery,G=l.contentQueries;if(k&&Jp(n,k),G&&eg(n,G),Ye(n.inputs,l.inputs),Ye(n.declaredInputs,l.declaredInputs),Ye(n.outputs,l.outputs),jr(l)&&l.data.animation){const re=n.data;re.animation=(re.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let _=0;_<h.length;_++){const M=h[_];M&&M.ngInherit&&M(n),M===Yd&&(o=!1)}}i=Object.getPrototypeOf(i)}!function oy(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Yt(l.hostAttrs,o=Yt(o,l.hostAttrs))}}(u)}function Qd(n){return n===ee?{}:n===Fe?[]:n}function Jp(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function eg(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function Xc(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function td(n){return!!ig(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function ig(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Xa(n,i,o){return n[i]=o}function Xd(n,i){return n[i]}function na(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function lc(n,i,o,u){const l=na(n,i,o);return na(n,i+1,u)||l}function sf(n,i,o,u){const l=w();return na(l,Hr(),i)&&(C(),du(Ti(),l,n,i,o,u)),sf}function nd(n,i,o,u){return na(n,Hr(),o)?i+Ie(o)+u:Nr}function rd(n,i,o,u,l,h){const M=lc(n,function oi(){return Wn.lFrame.bindingIndex}(),o,l);return Xi(2),M?i+Ie(o)+u+Ie(l)+h:Nr}function df(n,i,o,u,l,h,_,M){const k=w(),G=C(),re=n+Br,ve=G.firstCreatePass?function _v(n,i,o,u,l,h,_,M,k){const G=i.consts,re=rc(i,n,4,_||null,us(G,M));Wd(i,o,re,us(G,k)),la(i,re);const ve=re.tView=Wh(2,re,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,G);return null!==i.queries&&(i.queries.template(i,re),ve.queries=i.queries.embeddedTView(re)),re}(re,G,k,i,o,u,l,h,_):G.data[re];Xn(ve,!1);const Ke=k[Tn].createComment("");_u(G,k,Ke,ve),kn(Ke,k),Zc(k,k[re]=ey(Ke,k,Ke,ve)),Bi(ve)&&Kc(G,k,ve),null!=_&&Gh(k,ve,M)}function hf(n){return fi(function Jr(){return Wn.lFrame.contextLView}(),Br+n)}function eh(n,i,o){const u=w();return na(u,Hr(),i)&&ta(C(),Ti(),u,n,i,u[Tn],o,!1),eh}function th(n,i,o,u,l){const _=l?"class":"style";qd(n,o,i.inputs[_],_,u)}function nh(n,i,o,u){const l=w(),h=C(),_=Br+n,M=l[Tn],k=h.firstCreatePass?function ad(n,i,o,u,l,h){const _=i.consts,k=rc(i,n,2,u,us(_,l));return Wd(i,o,k,us(_,h)),null!==k.attrs&&Yc(k,k.attrs,!1),null!==k.mergedAttrs&&Yc(k,k.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,k),k}(_,h,l,i,o,u):h.data[_],G=l[_]=Rc(M,i,function ei(){return Wn.lFrame.currentNamespace}()),re=Bi(k);return Xn(k,!0),Zf(M,G,k),32!=(32&k.flags)&&_u(h,l,G,k),0===function No(){return Wn.lFrame.elementDepthCount}()&&kn(G,l),function Hi(){Wn.lFrame.elementDepthCount++}(),re&&(Kc(h,l,k),Gd(h,k,l)),null!==u&&Gh(l,k),nh}function ud(){let n=Re();or()?Fr():(n=n.parent,Xn(n,!1));const i=n;!function j(){Wn.lFrame.elementDepthCount--}();const o=C();return o.firstCreatePass&&(la(o,n),rr(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function N(n){return 0!=(8&n.flags)}(i)&&th(o,i,w(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function W(n){return 0!=(16&n.flags)}(i)&&th(o,i,w(),i.stylesWithoutHost,!1),ud}function lg(n,i,o,u){return nh(n,i,o,u),ud(),lg}function Ja(n,i,o){const u=w(),l=C(),h=n+Br,_=l.firstCreatePass?function cg(n,i,o,u,l){const h=i.consts,_=us(h,u),M=rc(i,n,8,"ng-container",_);return null!==_&&Yc(M,_,!0),Wd(i,o,M,us(h,l)),null!==i.queries&&i.queries.elementStart(i,M),M}(h,l,u,i,o):l.data[h];Xn(_,!0);const M=u[h]=u[Tn].createComment("");return _u(l,u,M,_),kn(M,u),Bi(_)&&(Kc(l,u,_),Gd(l,_,u)),null!=o&&Gh(u,_),Ja}function ld(){let n=Re();const i=C();return or()?Fr():(n=n.parent,Xn(n,!1)),i.firstCreatePass&&(la(i,n),rr(n)&&i.queries.elementEnd(n)),ld}function ff(){return w()}function dg(n){return!!n&&"function"==typeof n.then}function hy(n){return!!n&&"function"==typeof n.subscribe}const pf=hy;function hg(n,i,o,u){const l=w(),h=C(),_=Re();return function mf(n,i,o,u,l,h,_){const M=Bi(u),G=n.firstCreatePass&&qu(n),re=i[sr],ve=Jh(i);let Ke=!0;if(3&u.type||_){const un=Ri(u,i),Mn=_?_(un):un,Zn=ve.length,_r=_?Gr=>_(vi(Gr[u.index])):u.index;let Kt=null;if(!_&&M&&(Kt=function Ev(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const _=l[h];if(_===o&&l[h+1]===u){const M=i[bi],k=l[h+2];return M.length>k?M[k]:null}"string"==typeof _&&(h+=2)}return null}(n,i,l,u.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=h,Kt.__ngLastListenerFn__=h,Ke=!1;else{h=yf(u,i,re,h,!1);const Gr=o.listen(Mn,l,h);ve.push(h,Gr),G&&G.push(l,_r,Zn,Zn+1)}}else h=yf(u,i,re,h,!1);const gt=u.outputs;let Vt;if(Ke&&null!==gt&&(Vt=gt[l])){const un=Vt.length;if(un)for(let Mn=0;Mn<un;Mn+=2){const lo=i[Vt[Mn]][Vt[Mn+1]].subscribe(h),Uo=ve.length;ve.push(h,lo),G&&G.push(l,u.index,Uo,-(Uo+1))}}}(h,l,l[Tn],_,n,i,u),hg}function fy(n,i,o,u){try{return $r(6,i,o),!1!==o(u)}catch(l){return ry(n,l),!1}finally{$r(7,i,o)}}function yf(n,i,o,u,l){return function h(_){if(_===Function)return u;oc(n.componentOffset>-1?pi(n.index,i):i);let k=fy(i,o,u,_),G=h.__ngNextListenerFn__;for(;G;)k=fy(i,o,G,_)&&k,G=G.__ngNextListenerFn__;return l&&!1===k&&(_.preventDefault(),_.returnValue=!1),k}}function fg(n=1){return function wa(n){return(Wn.lFrame.contextLView=function fa(n,i){for(;n>0;)i=i[Ui],n--;return i}(n,Wn.lFrame.contextLView))[sr]}(n)}function pg(n,i){let o=null;const u=function Lh(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(n);for(let l=0;l<i.length;l++){const h=i[l];if("*"!==h){if(null===u?Hc(n,h,!0):Vm(u,h))return l}else o=l}return o}function gg(n){const i=w()[cr][br];if(!i.projection){const u=i.projection=E(n?n.length:1,null),l=u.slice();let h=i.child;for(;null!==h;){const _=n?pg(h,n):0;null!==_&&(l[_]?l[_].projectionNext=h:u[_]=h,l[_]=h),h=h.next}}}function py(n,i=0,o){const u=w(),l=C(),h=rc(l,Br+n,16,null,o||null);null===h.projection&&(h.projection=i),Fr(),32!=(32&h.flags)&&function S_(n,i,o){Eu(i[Tn],0,i,o,In(n,o,i),sl(o.parent||i[br],o,i))}(l,u,h)}function mg(n,i,o){return rh(n,"",i,"",o),mg}function rh(n,i,o,u,l){const h=w(),_=nd(h,i,o,u);return _!==Nr&&ta(C(),Ti(),h,n,_,h[Tn],l,!1),rh}function ih(n,i){return n<<17|i<<2}function Fa(n){return n>>17&32767}function yg(n){return 2|n}function dc(n){return(131068&n)>>2}function _g(n,i){return-131069&n|i<<2}function dd(n){return 1|n}function If(n,i,o,u,l){const h=n[o+1],_=null===i;let M=u?Fa(h):dc(h),k=!1;for(;0!==M&&(!1===k||_);){const re=n[M+1];Eg(n[M],i)&&(k=!0,n[M+1]=u?dd(re):yg(re)),M=u?Fa(re):dc(re)}k&&(n[o+1]=u?yg(h):dd(h))}function Eg(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Xe(n,i)>=0}const ao={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bf(n){return n.substring(ao.key,ao.keyEnd)}function wg(n,i){const o=ao.textEnd;return o===i?-1:(i=ao.keyEnd=function Dv(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,ao.key=i,o),vl(n,i,o))}function vl(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function bg(n,i,o){return La(n,i,o,!1),bg}function Cg(n,i){return La(n,i,null,!0),Cg}function Tg(n){eu(Cu,hu,n,!0)}function hu(n,i){for(let o=function Cf(n){return function hc(n){ao.key=0,ao.keyEnd=0,ao.value=0,ao.valueEnd=0,ao.textEnd=n.length}(n),wg(n,vl(n,0,ao.textEnd))}(i);o>=0;o=wg(i,o))X(n,bf(i),!0)}function La(n,i,o,u){const l=w(),h=C(),_=Xi(2);h.firstUpdatePass&&Ag(h,n,_,u),i!==Nr&&na(l,_,i)&&My(h,h.data[ri()],l,l[Tn],n,l[_+1]=function Mg(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=je(Du(n)))),n}(i,o),u,_)}function eu(n,i,o,u){const l=C(),h=Xi(2);l.firstUpdatePass&&Ag(l,null,h,u);const _=w();if(o!==Nr&&na(_,h,o)){const M=l.data[ri()];if(Ry(M,u)&&!Sg(l,h)){let k=u?M.classesWithoutHost:M.stylesWithoutHost;null!==k&&(o=Ve(k,o||"")),th(l,M,_,o,u)}else!function Ay(n,i,o,u,l,h,_,M){l===Nr&&(l=Fe);let k=0,G=0,re=0<l.length?l[0]:null,ve=0<h.length?h[0]:null;for(;null!==re||null!==ve;){const Ke=k<l.length?l[k+1]:void 0,gt=G<h.length?h[G+1]:void 0;let un,Vt=null;re===ve?(k+=2,G+=2,Ke!==gt&&(Vt=ve,un=gt)):null===ve||null!==re&&re<ve?(k+=2,Vt=re):(G+=2,Vt=ve,un=gt),null!==Vt&&My(n,i,o,u,Vt,un,_,M),re=k<l.length?l[k]:null,ve=G<h.length?h[G]:null}}(l,M,_,_[Tn],_[h+1],_[h+1]=function bs(n,i,o){if(null==o||""===o)return Fe;const u=[],l=Du(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)n(u,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&n(u,h,l[h]);else"string"==typeof l&&i(u,l);return u}(n,i,o),u,h)}}function Sg(n,i){return i>=n.expandoStartIndex}function Ag(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[ri()],_=Sg(n,o);Ry(h,u)&&null===i&&!_&&(i=!1),i=function Tf(n,i,o,u){const l=function ia(n){const i=Wn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=hd(o=fc(null,n,i,o,u),i.attrs,u),h=null);else{const _=i.directiveStylingLast;if(-1===_||n[_]!==l)if(o=fc(l,n,i,o,u),null===h){let k=function yi(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==dc(u))return n[Fa(u)]}(n,i,u);void 0!==k&&Array.isArray(k)&&(k=fc(null,n,i,k[1],u),k=hd(k,i.attrs,u),function Ty(n,i,o,u){n[Fa(o?i.classBindings:i.styleBindings)]=u}(n,i,u,k))}else h=function Sy(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=hd(u,n[h].hostAttrs,o);return hd(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function vg(n,i,o,u,l,h){let _=h?i.classBindings:i.styleBindings,M=Fa(_),k=dc(_);n[u]=o;let re,G=!1;if(Array.isArray(o)?(re=o[1],(null===re||Xe(o,re)>0)&&(G=!0)):re=o,l)if(0!==k){const Ke=Fa(n[M+1]);n[u+1]=ih(Ke,M),0!==Ke&&(n[Ke+1]=_g(n[Ke+1],u)),n[M+1]=function Df(n,i){return 131071&n|i<<17}(n[M+1],u)}else n[u+1]=ih(M,0),0!==M&&(n[M+1]=_g(n[M+1],u)),M=u;else n[u+1]=ih(k,0),0===M?M=u:n[k+1]=_g(n[k+1],u),k=u;G&&(n[u+1]=yg(n[u+1])),If(n,re,u,!0),If(n,re,u,!1),function wy(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&Xe(h,i)>=0&&(o[u+1]=dd(o[u+1]))}(i,re,n,u,h),_=ih(M,k),h?i.classBindings=_:i.styleBindings=_}(l,h,i,o,_,u)}}function fc(n,i,o,u,l){let h=null;const _=o.directiveEnd;let M=o.directiveStylingLast;for(-1===M?M=o.directiveStart:M++;M<_&&(h=i[M],u=hd(u,h.hostAttrs,l),h!==n);)M++;return null!==n&&(o.directiveStylingLast=M),u}function hd(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const _=i[h];"number"==typeof _?l=_:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),X(n,_,!!o||i[++h]))}return void 0===n?null:n}function Cu(n,i,o){const u=String(i);""!==u&&!u.includes(" ")&&X(n,u,o)}function My(n,i,o,u,l,h,_,M){if(!(3&i.type))return;const k=n.data,G=k[M+1],re=function wv(n){return 1==(1&n)}(G)?sh(k,i,o,l,dc(G),_):void 0;oh(re)||(oh(h)||function _y(n){return 2==(2&n)}(G)&&(h=sh(k,null,o,l,M,_)),function Ma(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:So.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=So.Important),n.setStyle(o,u,l,h))}}(u,_,Ci(ri(),o),l,h))}function sh(n,i,o,u,l,h){const _=null===i;let M;for(;l>0;){const k=n[l],G=Array.isArray(k),re=G?k[1]:k,ve=null===re;let Ke=o[l+1];Ke===Nr&&(Ke=ve?Fe:void 0);let gt=ve?ae(Ke,u):re===u?Ke:void 0;if(G&&!oh(gt)&&(gt=ae(k,u)),oh(gt)&&(M=gt,_))return M;const Vt=n[l+1];l=_?Fa(Vt):dc(Vt)}if(null!==i){let k=h?i.residualClasses:i.residualStyles;null!=k&&(M=ae(k,u))}return M}function oh(n){return void 0!==n}function Ry(n,i){return 0!=(n.flags&(i?8:16))}function Sf(n,i=""){const o=w(),u=C(),l=n+Br,h=u.firstCreatePass?rc(u,l,1,i,null):u.data[l],_=o[l]=function Ll(n,i){return n.createText(i)}(o[Tn],i);_u(u,o,_,h),Xn(h,!1)}function Rg(n){return Af("",n,""),Rg}function Af(n,i,o){const u=w(),l=nd(u,n,i,o);return l!==Nr&&Zu(u,ri(),l),Af}function ds(n,i,o,u,l){const h=w(),_=rd(h,n,i,o,u,l);return _!==Nr&&Zu(h,ri(),_),ds}function Ny(n,i,o){eu(X,hu,nd(w(),n,i,o),!0)}const Qu=void 0;var By=["en",[["a","p"],["AM","PM"],Qu],[["AM","PM"],Qu,Qu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qu,"{1} 'at' {0}",Qu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kg(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let tu={};function xf(n){const i=function Hy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=$y(i);if(o)return o;const u=i.split("-")[0];if(o=$y(u),o)return o;if("en"===u)return By;throw new Qe(701,!1)}function pd(n){return xf(n)[ar.PluralCase]}function $y(n){return n in tu||(tu[n]=er.ng&&er.ng.common&&er.ng.common.locales&&er.ng.common.locales[n]),tu[n]}var ar=(()=>((ar=ar||{})[ar.LocaleId=0]="LocaleId",ar[ar.DayPeriodsFormat=1]="DayPeriodsFormat",ar[ar.DayPeriodsStandalone=2]="DayPeriodsStandalone",ar[ar.DaysFormat=3]="DaysFormat",ar[ar.DaysStandalone=4]="DaysStandalone",ar[ar.MonthsFormat=5]="MonthsFormat",ar[ar.MonthsStandalone=6]="MonthsStandalone",ar[ar.Eras=7]="Eras",ar[ar.FirstDayOfWeek=8]="FirstDayOfWeek",ar[ar.WeekendRange=9]="WeekendRange",ar[ar.DateFormat=10]="DateFormat",ar[ar.TimeFormat=11]="TimeFormat",ar[ar.DateTimeFormat=12]="DateTimeFormat",ar[ar.NumberSymbols=13]="NumberSymbols",ar[ar.NumberFormats=14]="NumberFormats",ar[ar.CurrencyCode=15]="CurrencyCode",ar[ar.CurrencySymbol=16]="CurrencySymbol",ar[ar.CurrencyName=17]="CurrencyName",ar[ar.Currencies=18]="Currencies",ar[ar.Directionality=19]="Directionality",ar[ar.PluralCase=20]="PluralCase",ar[ar.ExtraData=21]="ExtraData",ar))();const Xu="en-US";let Gy=Xu;function Wg(n,i,o,u,l){if(n=xe(n),Array.isArray(n))for(let h=0;h<n.length;h++)Wg(n[h],i,o,u,l);else{const h=C(),_=w();let M=ul(n)?n:xe(n.provide),k=wm(n);const G=Re(),re=1048575&G.providerIndexes,ve=G.directiveStart,Ke=G.providerIndexes>>20;if(ul(n)||!n.multi){const gt=new we(k,l,fl),Vt=vd(M,i,l?re:re+Ke,ve);-1===Vt?(qt(Ut(G,_),h,M),Kg(h,n,i.length),i.push(M),G.directiveStart++,G.directiveEnd++,l&&(G.providerIndexes+=1048576),o.push(gt),_.push(gt)):(o[Vt]=gt,_[Vt]=gt)}else{const gt=vd(M,i,re+Ke,ve),Vt=vd(M,i,re,re+Ke),Mn=Vt>=0&&o[Vt];if(l&&!Mn||!l&&!(gt>=0&&o[gt])){qt(Ut(G,_),h,M);const Zn=function _c(n,i,o,u,l){const h=new we(n,o,fl);return h.multi=[],h.index=i,h.componentProviders=0,qg(h,l,u&&!o),h}(l?l_:h0,o.length,l,u,k);!l&&Mn&&(o[Vt].providerFactory=Zn),Kg(h,n,i.length,0),i.push(M),G.directiveStart++,G.directiveEnd++,l&&(G.providerIndexes+=1048576),o.push(Zn),_.push(Zn)}else Kg(h,n,gt>-1?gt:Vt,qg(o[l?Vt:gt],k,!l&&u));!l&&u&&Mn&&o[Vt].componentProviders++}}}function Kg(n,i,o,u){const l=ul(i),h=function L_(n){return!!n.useClass}(i);if(l||h){const k=(h?xe(i.useClass):i).prototype.ngOnDestroy;if(k){const G=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const re=G.indexOf(o);-1===re?G.push(o,[u,k]):G[re+1].push(u,k)}else G.push(o,k)}}}function qg(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function vd(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function h0(n,i,o,u){return jf(this.multi,[])}function l_(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,M=yr(o,o[Qt],this.providerFactory.index,u);h=M.slice(0,_),jf(l,h);for(let k=_;k<M.length;k++)h.push(M[k])}else h=[],jf(l,h);return h}function jf(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Va(n,i=[]){return o=>{o.providersResolver=(u,l)=>function Gg(n,i,o){const u=C();if(u.firstCreatePass){const l=jr(n);Wg(o,u.data,u.blueprint,l,!0),Wg(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class Mo{}class Zg{}function c_(n,i){return new Ed(n,i??null)}class Ed extends Mo{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nf(this);const u=ni(i);this._bootstrapComponents=zu(u.bootstrap),this._r3Injector=Cp(i,o,[{provide:Mo,useValue:this},{provide:lu,useValue:this.componentFactoryResolver}],je(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class ra extends Zg{constructor(i){super(),this.moduleType=i}create(i){return new Ed(this.moduleType,i)}}class f0 extends Mo{constructor(i,o,u){super(),this.componentFactoryResolver=new nf(this),this.instance=null;const l=new mp([...i,{provide:Mo,useValue:this},{provide:lu,useValue:this.componentFactoryResolver}],o||Vd(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function gh(n,i,o=null){return new f0(n,i,o).injector}let wd=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Rh(0,o.type),l=u.length>0?gh([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Dt({token:n,providedIn:"environment",factory:()=>new n(bn(ju))}),n})();function Il(n){n.getStandaloneInjector=i=>i.get(wd).getOrCreateStandaloneInjector(n)}function Xg(n,i,o){const u=Lr()+n,l=w();return l[u]===Nr?Xa(l,u,o?i.call(o):i()):Xd(l,u)}function Jg(n,i,o,u){return r(w(),Lr(),n,i,o,u)}function em(n,i,o,u,l){return e(w(),Lr(),n,i,o,u,l)}function tm(n,i,o,u,l,h,_,M){const k=Lr()+n,G=w(),re=function ka(n,i,o,u,l,h){const _=lc(n,i,o,u);return lc(n,i+2,l,h)||_}(G,k,o,u,l,h);return na(G,k+4,_)||re?Xa(G,k+5,M?i.call(M,o,u,l,h,_):i(o,u,l,h,_)):Xd(G,k+5)}function yh(n,i){const o=n[i];return o===Nr?void 0:o}function r(n,i,o,u,l,h){const _=i+o;return na(n,_,l)?Xa(n,_+1,h?u.call(h,l):u(l)):yh(n,_+1)}function e(n,i,o,u,l,h,_){const M=i+o;return lc(n,M,l,h)?Xa(n,M+2,_?u.call(_,l,h):u(l,h)):yh(n,M+2)}function c(n,i){const o=C();let u;const l=n+Br;o.firstCreatePass?(u=function f(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const h=u.factory||(u.factory=$i(u.type)),_=Or(fl);try{const M=qr(!1),k=h();return qr(M),function vv(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,w(),l,k),k}finally{Or(_)}}function V(n,i,o){const u=n+Br,l=w(),h=fi(l,u);return St(l,u)?r(l,Lr(),i,h.transform,o,h):h.transform(o)}function H(n,i,o,u){const l=n+Br,h=w(),_=fi(h,l);return St(h,l)?e(h,Lr(),i,_.transform,o,u,_):_.transform(o,u)}function St(n,i){return n[Qt].data[i].pure}function Cn(n){return i=>{setTimeout(n,void 0,i)}}const En=class Jt extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),_=u;if(i&&"object"==typeof i){const k=i;l=k.next?.bind(k),h=k.error?.bind(k),_=k.complete?.bind(k)}this.__isAsync&&(h=Cn(h),l&&(l=Cn(l)),_&&(_=Cn(_)));const M=super.subscribe({next:l,error:h,complete:_});return i instanceof Z.w0&&i.add(M),M}};function Ur(){return this._results[Symbol.iterator]()}class li{get changes(){return this._changes||(this._changes=new En)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=li.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Ur)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function so(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function ca(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Er=(()=>{class n{}return n.__NG_ELEMENT_ID__=hs,n})();const Ks=Er,Ds=class extends Ks{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=zh(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[qs]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[hi];return null!==_&&(l[hi]=_.createEmbeddedView(u)),Op(u,l,i),new ac(l)}};function hs(){return Vo(Re(),w())}function Vo(n,i){return 4&n.type?new Ds(i,n,Qa(n,i)):null}let Su=(()=>{class n{}return n.__NG_ELEMENT_ID__=__,n})();function __(){return hE(Re(),w())}const yw=Su,cE=class extends yw{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Qa(this._hostTNode,this._hostLView)}get injector(){return new mi(this._hostTNode,this._hostLView)}get parentInjector(){const i=ki(this._hostTNode,this._hostLView);if($n(i)){const o=Kn(i,this._hostLView),u=Yn(i);return new mi(o[Qt].data[u+8],o)}return new mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=dE(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Ot}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const _=i.createEmbeddedView(o||{},h);return this.insert(_,l),_}createComponent(i,o,u,l,h){const _=i&&!function Ga(n){return"function"==typeof n}(i);let M;if(_)M=o;else{const ve=o||{};M=ve.index,u=ve.injector,l=ve.projectableNodes,h=ve.environmentInjector||ve.ngModuleRef}const k=_?i:new Zd(Dn(i)),G=u||this.parentInjector;if(!h&&null==k.ngModule){const Ke=(_?G:this.parentInjector).get(ju,null);Ke&&(h=Ke)}const re=k.create(G,l,void 0,h);return this.insert(re.hostView,M),re}insert(i,o){const u=i._lView,l=u[Qt];if(function Io(n){return Vn(n[Wr])}(u)){const re=this.indexOf(i);if(-1!==re)this.detach(re);else{const ve=u[Wr],Ke=new cE(ve,ve[br],ve[Wr]);Ke.detach(Ke.indexOf(i))}}const h=this._adjustIndex(o),_=this._lContainer;!function d(n,i,o,u){const l=Ot+u,h=o.length;u>0&&(o[l-1][fr]=i),u<h-Ot?(i[fr]=o[l],Ra(o,Ot+u,i)):(o.push(i),i[fr]=null),i[Wr]=o;const _=i[qs];null!==_&&o!==_&&function g(n,i){const o=n[Tt];i[cr]!==i[Wr][Wr][cr]&&(n[Ge]=!0),null===o?n[Tt]=[i]:o.push(i)}(_,i);const M=i[hi];null!==M&&M.insertView(n),i[qn]|=64}(l,u,_,h);const M=Bl(h,_),k=u[Tn],G=Vu(k,_[Be]);return null!==G&&function qf(n,i,o,u,l,h){u[Yr]=l,u[br]=i,Pc(n,u,o,1,l,h)}(l,_[br],k,u,G,M),i.attachToViewContainerRef(),Ra(w0(_),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=dE(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=q(this._lContainer,o);u&&(wo(w0(this._lContainer),o),ue(u[Qt],u))}detach(i){const o=this._adjustIndex(i,-1),u=q(this._lContainer,o);return u&&null!=wo(w0(this._lContainer),o)?new ac(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function dE(n){return n[nt]}function w0(n){return n[nt]||(n[nt]=[])}function hE(n,i){let o;const u=i[n.index];if(Vn(u))o=u;else{let l;if(8&n.type)l=vi(u);else{const h=i[Tn];l=h.createComment("");const _=Ri(n,i);Mr(h,Vu(h,_),l,function xc(n,i){return n.nextSibling(i)}(h,_),!1)}i[n.index]=o=ey(u,i,l,n),Zc(i,o)}return new cE(o,n,i)}class D0{constructor(i){this.queryList=i,this.matches=null}clone(){return new D0(this.queryList)}setDirty(){this.queryList.setDirty()}}class I0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const _=o.getByIndex(h);l.push(this.queries[_.indexInDeclarationView].clone())}return new I0(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==wE(i,o).matches&&this.queries[o].setDirty()}}class fE{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class b0{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new b0(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class C0{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new C0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,_w(o,h)),this.matchTNodeWithReadOption(i,o,Vr(o,i,h,!1,!1))}else u===Er?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Vr(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===$u||l===Su||l===Er&&4&o.type)this.addMatch(o.index,-2);else{const h=Vr(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function _w(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function Ew(n,i,o,u){return-1===o?function vw(n,i){return 11&n.type?Qa(n,i):4&n.type?Vo(n,i):null}(i,n):-2===o?function ww(n,i,o){return o===$u?Qa(i,n):o===Er?Vo(i,n):o===Su?hE(i,n):void 0}(n,i,u):yr(n,n[Qt],o,i)}function pE(n,i,o,u){const l=i[hi].queries[u];if(null===l.matches){const h=n.data,_=o.matches,M=[];for(let k=0;k<_.length;k+=2){const G=_[k];M.push(G<0?null:Ew(i,h[G],_[k+1],o.metadata.read))}l.matches=M}return l.matches}function T0(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const _=pE(n,i,l,o);for(let M=0;M<h.length;M+=2){const k=h[M];if(k>0)u.push(_[M/2]);else{const G=h[M+1],re=i[-k];for(let ve=Ot;ve<re.length;ve++){const Ke=re[ve];Ke[qs]===Ke[Wr]&&T0(Ke[Qt],Ke,G,u)}if(null!==re[Tt]){const ve=re[Tt];for(let Ke=0;Ke<ve.length;Ke++){const gt=ve[Ke];T0(gt[Qt],gt,G,u)}}}}}return u}function gE(n){const i=w(),o=C(),u=no();sa(u+1);const l=wE(o,u);if(n.dirty&&function Ps(n){return 4==(4&n[qn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?T0(o,i,u,[]):pE(o,i,l,u);n.reset(h,Tm),n.notifyOnChanges()}return!0}return!1}function mE(n,i,o){const u=C();u.firstCreatePass&&(EE(u,new fE(n,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),vE(u,w(),i)}function yE(n,i,o,u){const l=C();if(l.firstCreatePass){const h=Re();EE(l,new fE(i,o,u),h.index),function Iw(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}vE(l,w(),o)}function _E(){return function Dw(n,i){return n[hi].queries[i].queryList}(w(),no())}function vE(n,i,o){const u=new li(4==(4&o));Ym(n,i,u,u.destroy),null===i[hi]&&(i[hi]=new I0),i[hi].queries.push(new D0(u))}function EE(n,i,o){null===n.queries&&(n.queries=new b0),n.queries.track(new C0(i,o))}function wE(n,i){return n.queries.getByIndex(i)}function DE(n,i){return Vo(n,i)}function S0(n){return!!ni(n)}function E_(...n){}const BE=new jt("Application Initializer");let w_=(()=>{class n{constructor(o){this.appInits=o,this.resolve=E_,this.reject=E_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(dg(h))o.push(h);else if(pf(h)){const _=new Promise((M,k)=>{h.subscribe({complete:M,error:k})});o.push(_)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(bn(BE,8))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jE=new jt("AppId",{providedIn:"root",factory:function $E(){return`${P0()}${P0()}${P0()}`}});function P0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const HE=new jt("Platform Initializer"),Hw=new jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zw=new jt("AnimationModuleType");let Gw=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const D_=new jt("LocaleId",{providedIn:"root",factory:()=>tr(D_,$t.Optional|$t.SkipSelf)||function Ww(){return typeof $localize<"u"&&$localize.locale||Xu}()}),Kw=new jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qw{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Zw=(()=>{class n{compileModuleSync(o){return new ra(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=zu(ni(o).declarations).reduce((_,M)=>{const k=Dn(M);return k&&_.push(new Zd(k)),_},[]);return new qw(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xw=(()=>Promise.resolve(0))();function N0(n){typeof Zone>"u"?Xw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Au{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new En(!1),this.onMicrotaskEmpty=new En(!1),this.onStable=new En(!1),this.onError=new En(!1),typeof Zone>"u")throw new Qe(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Jw(){let n=er.requestAnimationFrame,i=er.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function nD(n){const i=()=>{!function tD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(er,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,k0(n),n.isCheckStableRunning=!0,O0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),k0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,_,M)=>{try{return WE(n),o.invokeTask(l,h,_,M)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),KE(n)}},onInvoke:(o,u,l,h,_,M,k)=>{try{return WE(n),o.invoke(l,h,_,M,k)}finally{n.shouldCoalesceRunChangeDetection&&i(),KE(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,k0(n),O0(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Au.isInAngularZone())throw new Qe(909,!1)}static assertNotInAngularZone(){if(Au.isInAngularZone())throw new Qe(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+l,i,eD,E_,E_);try{return h.runTask(_,o,u)}finally{h.cancelTask(_)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const eD={};function O0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function k0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function WE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function KE(n){n._nesting--,O0(n)}class rD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new En,this.onMicrotaskEmpty=new En,this.onStable=new En,this.onError=new En}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const qE=new jt(""),ZE=new jt("");let F0,iD=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,F0||(function sD(n){F0=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Au.assertNotInAngularZone(),N0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())N0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(bn(Au),bn(YE),bn(ZE))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})(),YE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return F0?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const vc=!1;let Dd=null;const QE=new jt("AllowMultipleToken"),L0=new jt("PlatformDestroyListeners"),XE=new jt("appBootstrapListener");class uD{constructor(i,o){this.name=i,this.token=o}}function ew(n,i,o=[]){const u=`Platform: ${i}`,l=new jt(u);return(h=[])=>{let _=V0();if(!_||_.injector.get(QE,!1)){const M=[...o,...h,{provide:l,useValue:!0}];n?n(M):function lD(n){if(Dd&&!Dd.get(QE,!1))throw new Qe(400,!1);Dd=n;const i=n.get(nw);(function JE(n){const i=n.get(HE,null);i&&i.forEach(o=>o())})(n)}(function tw(n=[],i){return ec.create({name:i,providers:[{provide:fp,useValue:"platform"},{provide:L0,useValue:new Set([()=>Dd=null])},...n]})}(M,u))}return function dD(n){const i=V0();if(!i)throw new Qe(401,!1);return i}()}}function V0(){return Dd?.get(nw)??null}let nw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function iw(n,i){let o;return o="noop"===n?new rD:("zone.js"===n?void 0:n)||new Au(i),o}(u?.ngZone,function rw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Au,useValue:l}];return l.run(()=>{const _=ec.create({providers:h,parent:this.injector,name:o.moduleType.name}),M=o.create(_),k=M.injector.get(Bd,null);if(!k)throw new Qe(402,!1);return l.runOutsideAngular(()=>{const G=l.onError.subscribe({next:re=>{k.handleError(re)}});M.onDestroy(()=>{b_(this._modules,M),G.unsubscribe()})}),function sw(n,i,o){try{const u=o();return dg(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(k,l,()=>{const G=M.injector.get(w_);return G.runInitializers(),G.donePromise.then(()=>(function gc(n){Ae(n,"Expected localeId to be defined"),"string"==typeof n&&(Gy=n.toLowerCase().replace(/_/g,"-"))}(M.injector.get(D_,Xu)||Xu),this._moduleDoBootstrap(M),M))})})}bootstrapModule(o,u=[]){const l=ow({},u);return function oD(n,i,o){const u=new ra(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(I_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Qe(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(L0,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(bn(ec))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function ow(n,i){return Array.isArray(i)?i.reduce(ow,n):{...n,...i}}let I_=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new K.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),_=new K.y(M=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Au.assertNotInAngularZone(),N0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{Au.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{k.unsubscribe(),G.unsubscribe()}});this.isStable=(0,$.T)(h,_.pipe((0,Le.B)()))}bootstrap(o,u){const l=o instanceof Iu;if(!this._injector.get(w_).done){!l&&Sr(o);throw new Qe(405,vc)}let _;_=l?o:this._injector.get(lu).resolveComponentFactory(o),this.componentTypes.push(_.componentType);const M=function aD(n){return n.isBoundToModule}(_)?void 0:this._injector.get(Mo),G=_.create(ec.NULL,[],u||_.selector,M),re=G.location.nativeElement,ve=G.injector.get(qE,null);return ve?.registerApplication(re),G.onDestroy(()=>{this.detachView(G.hostView),b_(this.components,G),ve?.unregisterApplication(re)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new Qe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;b_(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(XE,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>b_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Qe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(bn(Au),bn(ju),bn(Bd))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b_(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function fD(){return!1}let pD=(()=>{class n{}return n.__NG_ELEMENT_ID__=gD,n})();function gD(n){return function mD(n,i,o){if(si(n)&&!o){const u=pi(n.index,i);return new ac(u,u)}return 47&n.type?new ac(i[cr],i):null}(Re(),w(),16==(16&n))}class dw{constructor(){}supports(i){return td(i)}create(i){return new DD(i)}}const wD=(n,i)=>i;class DD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||wD}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const _=!u||o&&o.currentIndex<fw(u,l,h)?o:u,M=fw(_,l,h),k=_.currentIndex;if(_===u)l--,u=u._nextRemoved;else if(o=o._next,null==_.previousIndex)l++;else{h||(h=[]);const G=M-l,re=k-l;if(G!=re){for(let Ke=0;Ke<G;Ke++){const gt=Ke<h.length?h[Ke]:h[Ke]=0,Vt=gt+Ke;re<=Vt&&Vt<G&&(h[Ke]=gt+1)}h[_.previousIndex]=re-G}}M!==k&&i(_,M,k)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!td(i))throw new Qe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,_,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let M=0;M<this.length;M++)h=i[M],_=this._trackByFn(M,h),null!==o&&Object.is(o.trackById,_)?(u&&(o=this._verifyReinsertion(o,h,_,M)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,_,M),u=!0),o=o._next}else l=0,function yv(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,M=>{_=this._trackByFn(l,M),null!==o&&Object.is(o.trackById,_)?(u&&(o=this._verifyReinsertion(o,M,_,l)),Object.is(o.item,M)||this._addIdentityChange(o,M)):(o=this._mismatch(o,M,_,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new ID(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new hw),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class ID{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bD{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class hw{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new bD,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fw(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class pw{constructor(){}supports(i){return i instanceof Map||ig(i)}create(){return new CD}}class CD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||ig(i)))throw new Qe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,_=l._next;return h&&(h._next=_),_&&(_._prev=h),l._next=null,l._prev=null,l}const u=new TD(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class TD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gw(){return new H0([new dw])}let H0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||gw()),deps:[[n,new gu,new Ta]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Qe(901,!1)}}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:gw}),n})();function mw(){return new z0([new pw])}let z0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||mw()),deps:[[n,new gu,new Ta]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Qe(901,!1)}}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:mw}),n})();const MD=ew(null,"core",[]);let RD=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(bn(I_))},n.\u0275mod=it({type:n}),n.\u0275inj=yn({}),n})();function xD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(tn,st,L)=>{L.d(st,{Fj:()=>We,qu:()=>No,u:()=>ji,sg:()=>Qi,u5:()=>oe,Cf:()=>vt,JU:()=>tt,JJ:()=>er,JL:()=>An,F:()=>Mi,On:()=>Tt,YN:()=>kr,wV:()=>jn,UX:()=>be,Q7:()=>Xs,EJ:()=>go,kI:()=>xt,_Y:()=>Ot,Kr:()=>Bo});var p=L(4650),Z=L(6895),K=L(8996),$=L(9751),Le=L(4742),ke=L(8421),Ye=L(3269),je=L(5403),Ve=L(3268),de=L(1810),xe=L(4004);let Et=(()=>{class w{constructor(A,Q){this._renderer=A,this._elementRef=Q,this.onChange=Re=>{},this.onTouched=()=>{}}setProperty(A,Q){this._renderer.setProperty(this._elementRef.nativeElement,A,Q)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return w.\u0275fac=function(A){return new(A||w)(p.Y36(p.Qsj),p.Y36(p.SBq))},w.\u0275dir=p.lG2({type:w}),w})(),He=(()=>{class w extends Et{}return w.\u0275fac=function(){let C;return function(Q){return(C||(C=p.n5z(w)))(Q||w)}}(),w.\u0275dir=p.lG2({type:w,features:[p.qOj]}),w})();const tt=new p.OlP("NgValueAccessor"),dt={provide:tt,useExisting:(0,p.Gpc)(()=>We),multi:!0},Rt=new p.OlP("CompositionEventMode");let We=(()=>{class w extends Et{constructor(A,Q,Re){super(A,Q),this._compositionMode=Re,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ie(){const w=(0,Z.q)()?(0,Z.q)().getUserAgent():"";return/android (\d+)/.test(w.toLowerCase())}())}writeValue(A){this.setProperty("value",A??"")}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return w.\u0275fac=function(A){return new(A||w)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Rt,8))},w.\u0275dir=p.lG2({type:w,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,Q){1&A&&p.NdJ("input",function(Mt){return Q._handleInput(Mt.target.value)})("blur",function(){return Q.onTouched()})("compositionstart",function(){return Q._compositionStart()})("compositionend",function(Mt){return Q._compositionEnd(Mt.target.value)})},features:[p._Bn([dt]),p.qOj]}),w})();const fe=!1;function Ue(w){return null==w||("string"==typeof w||Array.isArray(w))&&0===w.length}function ht(w){return null!=w&&"number"==typeof w.length}const vt=new p.OlP("NgValidators"),Ee=new p.OlP("NgAsyncValidators"),Ft=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xt{static min(C){return function bt(w){return C=>{if(Ue(C.value)||Ue(w))return null;const A=parseFloat(C.value);return!isNaN(A)&&A<w?{min:{min:w,actual:C.value}}:null}}(C)}static max(C){return function gn(w){return C=>{if(Ue(C.value)||Ue(w))return null;const A=parseFloat(C.value);return!isNaN(A)&&A>w?{max:{max:w,actual:C.value}}:null}}(C)}static required(C){return zt(C)}static requiredTrue(C){return function wr(w){return!0===w.value?null:{required:!0}}(C)}static email(C){return function vr(w){return Ue(w.value)||Ft.test(w.value)?null:{email:!0}}(C)}static minLength(C){return function Fn(w){return C=>Ue(C.value)||!ht(C.value)?null:C.value.length<w?{minlength:{requiredLength:w,actualLength:C.value.length}}:null}(C)}static maxLength(C){return function Zt(w){return C=>ht(C.value)&&C.value.length>w?{maxlength:{requiredLength:w,actualLength:C.value.length}}:null}(C)}static pattern(C){return function ge(w){if(!w)return ye;let C,A;return"string"==typeof w?(A="","^"!==w.charAt(0)&&(A+="^"),A+=w,"$"!==w.charAt(w.length-1)&&(A+="$"),C=new RegExp(A)):(A=w.toString(),C=w),Q=>{if(Ue(Q.value))return null;const Re=Q.value;return C.test(Re)?null:{pattern:{requiredPattern:A,actualValue:Re}}}}(C)}static nullValidator(C){return null}static compose(C){return ln(C)}static composeAsync(C){return an(C)}}function zt(w){return Ue(w.value)?{required:!0}:null}function ye(w){return null}function Ae(w){return null!=w}function Oe(w){const C=(0,p.QGY)(w)?(0,K.D)(w):w;if(fe&&!(0,p.CqO)(C)){let A="Expected async validator to return Promise or Observable.";throw"object"==typeof w&&(A+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,A)}return C}function ut(w){let C={};return w.forEach(A=>{C=null!=A?{...C,...A}:C}),0===Object.keys(C).length?null:C}function mt(w,C){return C.map(A=>A(w))}function Dt(w){return w.map(C=>function Lt(w){return!w.validate}(C)?C:A=>C.validate(A))}function ln(w){if(!w)return null;const C=w.filter(Ae);return 0==C.length?null:function(A){return ut(mt(A,C))}}function yn(w){return null!=w?ln(Dt(w)):null}function an(w){if(!w)return null;const C=w.filter(Ae);return 0==C.length?null:function(A){return function he(...w){const C=(0,Ye.jO)(w),{args:A,keys:Q}=(0,Le.D)(w),Re=new $.y(Mt=>{const{length:vn}=A;if(!vn)return void Mt.complete();const Xn=new Array(vn);let or=vn,Fr=vn;for(let Jr=0;Jr<vn;Jr++){let gi=!1;(0,ke.Xf)(A[Jr]).subscribe((0,je.x)(Mt,Kr=>{gi||(gi=!0,Fr--),Xn[Jr]=Kr},()=>or--,void 0,()=>{(!or||!gi)&&(Fr||Mt.next(Q?(0,de.n)(Q,Xn):Xn),Mt.complete())}))}});return C?Re.pipe((0,Ve.Z)(C)):Re}(mt(A,C).map(Oe)).pipe((0,xe.U)(ut))}}function nr(w){return null!=w?an(Dt(w)):null}function zn(w,C){return null===w?[C]:Array.isArray(w)?[...w,C]:[w,C]}function Qn(w){return w._rawValidators}function hr(w){return w._rawAsyncValidators}function pr(w){return w?Array.isArray(w)?w:[w]:[]}function ur(w,C){return Array.isArray(w)?w.includes(C):w===C}function Rr(w,C){const A=pr(C);return pr(w).forEach(Re=>{ur(A,Re)||A.push(Re)}),A}function wn(w,C){return pr(C).filter(A=>!ur(w,A))}class $t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(C){this._rawValidators=C||[],this._composedValidatorFn=yn(this._rawValidators)}_setAsyncValidators(C){this._rawAsyncValidators=C||[],this._composedAsyncValidatorFn=nr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(C){this._onDestroyCallbacks.push(C)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(C=>C()),this._onDestroyCallbacks=[]}reset(C){this.control&&this.control.reset(C)}hasError(C,A){return!!this.control&&this.control.hasError(C,A)}getError(C,A){return this.control?this.control.getError(C,A):null}}class xn extends $t{get formDirective(){return null}get path(){return null}}class Cr extends $t{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Or{constructor(C){this._cd=C}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let er=(()=>{class w extends Or{constructor(A){super(A)}}return w.\u0275fac=function(A){return new(A||w)(p.Y36(Cr,2))},w.\u0275dir=p.lG2({type:w,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,Q){2&A&&p.ekj("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)},features:[p.qOj]}),w})(),An=(()=>{class w extends Or{constructor(A){super(A)}}return w.\u0275fac=function(A){return new(A||w)(p.Y36(xn,10))},w.\u0275dir=p.lG2({type:w,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,Q){2&A&&p.ekj("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)("ng-submitted",Q.isSubmitted)},features:[p.qOj]}),w})();function Pn(w,C){return w?`with name: '${C}'`:`at index: ${C}`}const Dr=!1,Ir="VALID",mr="INVALID",Me="PENDING",De="DISABLED";function ie(w){return(pe(w)?w.validators:w)||null}function ee(w,C){return(pe(C)?C.asyncValidators:w)||null}function pe(w){return null!=w&&!Array.isArray(w)&&"object"==typeof w}function _e(w,C,A){const Q=w.controls;if(!(C?Object.keys(Q):Q).length)throw new p.vHH(1e3,Dr?function tr(w){return`\n    There are no form controls registered with this ${w?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(C):"");if(!Q[A])throw new p.vHH(1001,Dr?function gr(w,C){return`Cannot find form control ${Pn(w,C)}`}(C,A):"")}function le(w,C,A){w._forEachChild((Q,Re)=>{if(void 0===A[Re])throw new p.vHH(1002,Dr?function Tr(w,C){return`Must supply a value for form control ${Pn(w,C)}`}(C,Re):"")})}class Se{constructor(C,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(C),this._assignAsyncValidators(A)}get validator(){return this._composedValidatorFn}set validator(C){this._rawValidators=this._composedValidatorFn=C}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(C){this._rawAsyncValidators=this._composedAsyncValidatorFn=C}get parent(){return this._parent}get valid(){return this.status===Ir}get invalid(){return this.status===mr}get pending(){return this.status==Me}get disabled(){return this.status===De}get enabled(){return this.status!==De}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(C){this._assignValidators(C)}setAsyncValidators(C){this._assignAsyncValidators(C)}addValidators(C){this.setValidators(Rr(C,this._rawValidators))}addAsyncValidators(C){this.setAsyncValidators(Rr(C,this._rawAsyncValidators))}removeValidators(C){this.setValidators(wn(C,this._rawValidators))}removeAsyncValidators(C){this.setAsyncValidators(wn(C,this._rawAsyncValidators))}hasValidator(C){return ur(this._rawValidators,C)}hasAsyncValidator(C){return ur(this._rawAsyncValidators,C)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(C={}){this.touched=!0,this._parent&&!C.onlySelf&&this._parent.markAsTouched(C)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(C=>C.markAllAsTouched())}markAsUntouched(C={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!C.onlySelf&&this._parent._updateTouched(C)}markAsDirty(C={}){this.pristine=!1,this._parent&&!C.onlySelf&&this._parent.markAsDirty(C)}markAsPristine(C={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!C.onlySelf&&this._parent._updatePristine(C)}markAsPending(C={}){this.status=Me,!1!==C.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!C.onlySelf&&this._parent.markAsPending(C)}disable(C={}){const A=this._parentMarkedDirty(C.onlySelf);this.status=De,this.errors=null,this._forEachChild(Q=>{Q.disable({...C,onlySelf:!0})}),this._updateValue(),!1!==C.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...C,skipPristineCheck:A}),this._onDisabledChange.forEach(Q=>Q(!0))}enable(C={}){const A=this._parentMarkedDirty(C.onlySelf);this.status=Ir,this._forEachChild(Q=>{Q.enable({...C,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:C.emitEvent}),this._updateAncestors({...C,skipPristineCheck:A}),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors(C){this._parent&&!C.onlySelf&&(this._parent.updateValueAndValidity(C),C.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(C){this._parent=C}getRawValue(){return this.value}updateValueAndValidity(C={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ir||this.status===Me)&&this._runAsyncValidator(C.emitEvent)),!1!==C.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!C.onlySelf&&this._parent.updateValueAndValidity(C)}_updateTreeValidity(C={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(C)),this.updateValueAndValidity({onlySelf:!0,emitEvent:C.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?De:Ir}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(C){if(this.asyncValidator){this.status=Me,this._hasOwnPendingAsyncValidator=!0;const A=Oe(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(Q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Q,{emitEvent:C})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(C,A={}){this.errors=C,this._updateControlsErrors(!1!==A.emitEvent)}get(C){let A=C;return null==A||(Array.isArray(A)||(A=A.split(".")),0===A.length)?null:A.reduce((Q,Re)=>Q&&Q._find(Re),this)}getError(C,A){const Q=A?this.get(A):this;return Q&&Q.errors?Q.errors[C]:null}hasError(C,A){return!!this.getError(C,A)}get root(){let C=this;for(;C._parent;)C=C._parent;return C}_updateControlsErrors(C){this.status=this._calculateStatus(),C&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(C)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?De:this.errors?mr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Me)?Me:this._anyControlsHaveStatus(mr)?mr:Ir}_anyControlsHaveStatus(C){return this._anyControls(A=>A.status===C)}_anyControlsDirty(){return this._anyControls(C=>C.dirty)}_anyControlsTouched(){return this._anyControls(C=>C.touched)}_updatePristine(C={}){this.pristine=!this._anyControlsDirty(),this._parent&&!C.onlySelf&&this._parent._updatePristine(C)}_updateTouched(C={}){this.touched=this._anyControlsTouched(),this._parent&&!C.onlySelf&&this._parent._updateTouched(C)}_registerOnCollectionChange(C){this._onCollectionChange=C}_setUpdateStrategy(C){pe(C)&&null!=C.updateOn&&(this._updateOn=C.updateOn)}_parentMarkedDirty(C){return!C&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(C){return null}_assignValidators(C){this._rawValidators=Array.isArray(C)?C.slice():C,this._composedValidatorFn=function ce(w){return Array.isArray(w)?yn(w):w||null}(this._rawValidators)}_assignAsyncValidators(C){this._rawAsyncValidators=Array.isArray(C)?C.slice():C,this._composedAsyncValidatorFn=function Fe(w){return Array.isArray(w)?nr(w):w||null}(this._rawAsyncValidators)}}class rt extends Se{constructor(C,A,Q){super(ie(A),ee(Q,A)),this.controls=C,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(C,A){return this.controls[C]?this.controls[C]:(this.controls[C]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(C,A,Q={}){this.registerControl(C,A),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl(C,A={}){this.controls[C]&&this.controls[C]._registerOnCollectionChange(()=>{}),delete this.controls[C],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(C,A,Q={}){this.controls[C]&&this.controls[C]._registerOnCollectionChange(()=>{}),delete this.controls[C],A&&this.registerControl(C,A),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains(C){return this.controls.hasOwnProperty(C)&&this.controls[C].enabled}setValue(C,A={}){le(this,!0,C),Object.keys(C).forEach(Q=>{_e(this,!0,Q),this.controls[Q].setValue(C[Q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(C,A={}){null!=C&&(Object.keys(C).forEach(Q=>{const Re=this.controls[Q];Re&&Re.patchValue(C[Q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(C={},A={}){this._forEachChild((Q,Re)=>{Q.reset(C[Re],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(C,A,Q)=>(C[Q]=A.getRawValue(),C))}_syncPendingControls(){let C=this._reduceChildren(!1,(A,Q)=>!!Q._syncPendingControls()||A);return C&&this.updateValueAndValidity({onlySelf:!0}),C}_forEachChild(C){Object.keys(this.controls).forEach(A=>{const Q=this.controls[A];Q&&C(Q,A)})}_setUpControls(){this._forEachChild(C=>{C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(C){for(const[A,Q]of Object.entries(this.controls))if(this.contains(A)&&C(Q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(A,Q,Re)=>((Q.enabled||this.disabled)&&(A[Re]=Q.value),A))}_reduceChildren(C,A){let Q=C;return this._forEachChild((Re,Mt)=>{Q=A(Q,Re,Mt)}),Q}_allControlsDisabled(){for(const C of Object.keys(this.controls))if(this.controls[C].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(C){return this.controls.hasOwnProperty(C)?this.controls[C]:null}}class hn extends rt{}const ii=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>pt}),pt="always";function it(w,C){return[...C.path,w]}function Nt(w,C,A=pt){Dn(w,C),C.valueAccessor.writeValue(w.value),(w.disabled||"always"===A)&&C.valueAccessor.setDisabledState?.(w.disabled),function Gn(w,C){C.valueAccessor.registerOnChange(A=>{w._pendingValue=A,w._pendingChange=!0,w._pendingDirty=!0,"change"===w.updateOn&&ni(w,C)})}(w,C),function Cs(w,C){const A=(Q,Re)=>{C.valueAccessor.writeValue(Q),Re&&C.viewToModelUpdate(Q)};w.registerOnChange(A),C._registerOnDestroy(()=>{w._unregisterOnChange(A)})}(w,C),function Sr(w,C){C.valueAccessor.registerOnTouched(()=>{w._pendingTouched=!0,"blur"===w.updateOn&&w._pendingChange&&ni(w,C),"submit"!==w.updateOn&&w.markAsTouched()})}(w,C),function Un(w,C){if(C.valueAccessor.setDisabledState){const A=Q=>{C.valueAccessor.setDisabledState(Q)};w.registerOnDisabledChange(A),C._registerOnDestroy(()=>{w._unregisterOnDisabledChange(A)})}}(w,C)}function rn(w,C,A=!0){const Q=()=>{};C.valueAccessor&&(C.valueAccessor.registerOnChange(Q),C.valueAccessor.registerOnTouched(Q)),Ln(w,C),w&&(C._invokeOnDestroyCallbacks(),w._registerOnCollectionChange(()=>{}))}function _n(w,C){w.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(C)})}function Dn(w,C){const A=Qn(w);null!==C.validator?w.setValidators(zn(A,C.validator)):"function"==typeof A&&w.setValidators([A]);const Q=hr(w);null!==C.asyncValidator?w.setAsyncValidators(zn(Q,C.asyncValidator)):"function"==typeof Q&&w.setAsyncValidators([Q]);const Re=()=>w.updateValueAndValidity();_n(C._rawValidators,Re),_n(C._rawAsyncValidators,Re)}function Ln(w,C){let A=!1;if(null!==w){if(null!==C.validator){const Re=Qn(w);if(Array.isArray(Re)&&Re.length>0){const Mt=Re.filter(vn=>vn!==C.validator);Mt.length!==Re.length&&(A=!0,w.setValidators(Mt))}}if(null!==C.asyncValidator){const Re=hr(w);if(Array.isArray(Re)&&Re.length>0){const Mt=Re.filter(vn=>vn!==C.asyncValidator);Mt.length!==Re.length&&(A=!0,w.setAsyncValidators(Mt))}}}const Q=()=>{};return _n(C._rawValidators,Q),_n(C._rawAsyncValidators,Q),A}function ni(w,C){w._pendingDirty&&w.markAsDirty(),w.setValue(w._pendingValue,{emitModelToViewChange:!1}),C.viewToModelUpdate(w._pendingValue),w._pendingChange=!1}function co(w,C){Dn(w,C)}function Wi(w,C){if(!w.hasOwnProperty("model"))return!1;const A=w.model;return!!A.isFirstChange()||!Object.is(C,A.currentValue)}function bi(w,C){w._syncPendingControls(),C.forEach(A=>{const Q=A.control;"submit"===Q.updateOn&&Q._pendingChange&&(A.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}function sr(w,C){if(!C)return null;let A,Q,Re;return Array.isArray(C),C.forEach(Mt=>{Mt.constructor===We?A=Mt:function br(w){return Object.getPrototypeOf(w.constructor)===He}(Mt)?Q=Mt:Re=Mt}),Re||Q||A||null}const Tn={provide:xn,useExisting:(0,p.Gpc)(()=>Mi)},Vi=(()=>Promise.resolve())();let Mi=(()=>{class w extends xn{constructor(A,Q,Re){super(),this.callSetDisabledState=Re,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new rt({},yn(A),nr(Q))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(A){Vi.then(()=>{const Q=this._findContainer(A.path);A.control=Q.registerControl(A.name,A.control),Nt(A.control,A,this.callSetDisabledState),A.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(A)})}getControl(A){return this.form.get(A.path)}removeControl(A){Vi.then(()=>{const Q=this._findContainer(A.path);Q&&Q.removeControl(A.name),this._directives.delete(A)})}addFormGroup(A){Vi.then(()=>{const Q=this._findContainer(A.path),Re=new rt({});co(Re,A),Q.registerControl(A.name,Re),Re.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(A){Vi.then(()=>{const Q=this._findContainer(A.path);Q&&Q.removeControl(A.name)})}getFormGroup(A){return this.form.get(A.path)}updateModel(A,Q){Vi.then(()=>{this.form.get(A.path).setValue(Q)})}setValue(A){this.control.setValue(A)}onSubmit(A){return this.submitted=!0,bi(this.form,this._directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(A){return A.pop(),A.length?this.form.get(A):this.form}}return w.\u0275fac=function(A){return new(A||w)(p.Y36(vt,10),p.Y36(Ee,10),p.Y36(ii,8))},w.\u0275dir=p.lG2({type:w,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(A,Q){1&A&&p.NdJ("submit",function(Mt){return Q.onSubmit(Mt)})("reset",function(){return Q.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Tn]),p.qOj]}),w})();function Ki(w,C){const A=w.indexOf(C);A>-1&&w.splice(A,1)}function Ui(w){return"object"==typeof w&&null!==w&&2===Object.keys(w).length&&"value"in w&&"disabled"in w}const cr=class extends Se{constructor(C=null,A,Q){super(ie(A),ee(Q,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(C),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pe(A)&&(A.nonNullable||A.initialValueIsDefault)&&(this.defaultValue=Ui(C)?C.value:C)}setValue(C,A={}){this.value=this._pendingValue=C,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(C,A={}){this.setValue(C,A)}reset(C=this.defaultValue,A={}){this._applyFormState(C),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(C){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(C){this._onChange.push(C)}_unregisterOnChange(C){Ki(this._onChange,C)}registerOnDisabledChange(C){this._onDisabledChange.push(C)}_unregisterOnDisabledChange(C){Ki(this._onDisabledChange,C)}_forEachChild(C){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(C){Ui(C)?(this.value=this._pendingValue=C.value,C.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=C}},Be={provide:Cr,useExisting:(0,p.Gpc)(()=>Tt)},nt=(()=>Promise.resolve())();let Tt=(()=>{class w extends Cr{constructor(A,Q,Re,Mt,vn,Xn){super(),this._changeDetectorRef=vn,this.callSetDisabledState=Xn,this.control=new cr,this._registered=!1,this.update=new p.vpe,this._parent=A,this._setValidators(Q),this._setAsyncValidators(Re),this.valueAccessor=sr(0,Mt)}ngOnChanges(A){if(this._checkForErrors(),!this._registered||"name"in A){if(this._registered&&(this._checkName(),this.formDirective)){const Q=A.name.previousValue;this.formDirective.removeControl({name:Q,path:this._getPath(Q)})}this._setUpControl()}"isDisabled"in A&&this._updateDisabled(A),Wi(A,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(A){nt.then(()=>{this.control.setValue(A,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(A){const Q=A.isDisabled.currentValue,Re=0!==Q&&(0,p.D6c)(Q);nt.then(()=>{Re&&!this.control.disabled?this.control.disable():!Re&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(A){return this._parent?it(A,this._parent):[A]}}return w.\u0275fac=function(A){return new(A||w)(p.Y36(xn,9),p.Y36(vt,10),p.Y36(Ee,10),p.Y36(tt,10),p.Y36(p.sBO,8),p.Y36(ii,8))},w.\u0275dir=p.lG2({type:w,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([Be]),p.qOj,p.TTD]}),w})(),Ot=(()=>{class w{}return w.\u0275fac=function(A){return new(A||w)},w.\u0275dir=p.lG2({type:w,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),w})();const Bn={provide:tt,useExisting:(0,p.Gpc)(()=>jn),multi:!0};let jn=(()=>{class w extends He{writeValue(A){this.setProperty("value",A??"")}registerOnChange(A){this.onChange=Q=>{A(""==Q?null:parseFloat(Q))}}}return w.\u0275fac=function(){let C;return function(Q){return(C||(C=p.n5z(w)))(Q||w)}}(),w.\u0275dir=p.lG2({type:w,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(A,Q){1&A&&p.NdJ("input",function(Mt){return Q.onChange(Mt.target.value)})("blur",function(){return Q.onTouched()})},features:[p._Bn([Bn]),p.qOj]}),w})(),si=(()=>{class w{}return w.\u0275fac=function(A){return new(A||w)},w.\u0275mod=p.oAB({type:w}),w.\u0275inj=p.cJS({}),w})();const gs=new p.OlP("NgModelWithFormControlWarning"),Bs={provide:xn,useExisting:(0,p.Gpc)(()=>Qi)};let Qi=(()=>{class w extends xn{constructor(A,Q,Re){super(),this.callSetDisabledState=Re,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(A),this._setAsyncValidators(Q)}ngOnChanges(A){this._checkFormPresent(),A.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ln(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(A){const Q=this.form.get(A.path);return Nt(Q,A,this.callSetDisabledState),Q.updateValueAndValidity({emitEvent:!1}),this.directives.push(A),Q}getControl(A){return this.form.get(A.path)}removeControl(A){rn(A.control||null,A,!1),function os(w,C){const A=w.indexOf(C);A>-1&&w.splice(A,1)}(this.directives,A)}addFormGroup(A){this._setUpFormContainer(A)}removeFormGroup(A){this._cleanUpFormContainer(A)}getFormGroup(A){return this.form.get(A.path)}addFormArray(A){this._setUpFormContainer(A)}removeFormArray(A){this._cleanUpFormContainer(A)}getFormArray(A){return this.form.get(A.path)}updateModel(A,Q){this.form.get(A.path).setValue(Q)}onSubmit(A){return this.submitted=!0,bi(this.form,this.directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_updateDomValue(){this.directives.forEach(A=>{const Q=A.control,Re=this.form.get(A.path);Q!==Re&&(rn(Q||null,A),(w=>w instanceof cr)(Re)&&(Nt(Re,A,this.callSetDisabledState),A.control=Re))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(A){const Q=this.form.get(A.path);co(Q,A),Q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(A){if(this.form){const Q=this.form.get(A.path);Q&&function fs(w,C){return Ln(w,C)}(Q,A)&&Q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Dn(this.form,this),this._oldForm&&Ln(this._oldForm,this)}_checkFormPresent(){}}return w.\u0275fac=function(A){return new(A||w)(p.Y36(vt,10),p.Y36(Ee,10),p.Y36(ii,8))},w.\u0275dir=p.lG2({type:w,selectors:[["","formGroup",""]],hostBindings:function(A,Q){1&A&&p.NdJ("submit",function(Mt){return Q.onSubmit(Mt)})("reset",function(){return Q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Bs]),p.qOj,p.TTD]}),w})();const Zo={provide:Cr,useExisting:(0,p.Gpc)(()=>ji)};let ji=(()=>{class w extends Cr{set isDisabled(A){}constructor(A,Q,Re,Mt,vn){super(),this._ngModelWarningConfig=vn,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=A,this._setValidators(Q),this._setAsyncValidators(Re),this.valueAccessor=sr(0,Mt)}ngOnChanges(A){this._added||this._setUpControl(),Wi(A,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}get path(){return it(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return w._ngModelWarningSentOnce=!1,w.\u0275fac=function(A){return new(A||w)(p.Y36(xn,13),p.Y36(vt,10),p.Y36(Ee,10),p.Y36(tt,10),p.Y36(gs,8))},w.\u0275dir=p.lG2({type:w,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([Zo]),p.qOj,p.TTD]}),w})();const ys={provide:tt,useExisting:(0,p.Gpc)(()=>go),multi:!0};function po(w,C){return null==w?`${C}`:(C&&"object"==typeof C&&(C="Object"),`${w}: ${C}`.slice(0,50))}let go=(()=>{class w extends He{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){this.value=A;const Re=po(this._getOptionId(A),A);this.setProperty("value",Re)}registerOnChange(A){this.onChange=Q=>{this.value=this._getOptionValue(Q),A(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(A){for(const Q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Q),A))return Q;return null}_getOptionValue(A){const Q=function Ss(w){return w.split(":")[0]}(A);return this._optionMap.has(Q)?this._optionMap.get(Q):A}}return w.\u0275fac=function(){let C;return function(Q){return(C||(C=p.n5z(w)))(Q||w)}}(),w.\u0275dir=p.lG2({type:w,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(A,Q){1&A&&p.NdJ("change",function(Mt){return Q.onChange(Mt.target.value)})("blur",function(){return Q.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([ys]),p.qOj]}),w})(),kr=(()=>{class w{constructor(A,Q,Re){this._element=A,this._renderer=Q,this._select=Re,this._select&&(this.id=this._select._registerOption())}set ngValue(A){null!=this._select&&(this._select._optionMap.set(this.id,A),this._setElementValue(po(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._setElementValue(A),this._select&&this._select.writeValue(this._select.value)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return w.\u0275fac=function(A){return new(A||w)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(go,9))},w.\u0275dir=p.lG2({type:w,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),w})();const as={provide:tt,useExisting:(0,p.Gpc)(()=>mo),multi:!0};function $s(w,C){return null==w?`${C}`:("string"==typeof C&&(C=`'${C}'`),C&&"object"==typeof C&&(C="Object"),`${w}: ${C}`.slice(0,50))}let mo=(()=>{class w extends He{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){let Q;if(this.value=A,Array.isArray(A)){const Re=A.map(Mt=>this._getOptionId(Mt));Q=(Mt,vn)=>{Mt._setSelected(Re.indexOf(vn.toString())>-1)}}else Q=(Re,Mt)=>{Re._setSelected(!1)};this._optionMap.forEach(Q)}registerOnChange(A){this.onChange=Q=>{const Re=[],Mt=Q.selectedOptions;if(void 0!==Mt){const vn=Mt;for(let Xn=0;Xn<vn.length;Xn++){const Fr=this._getOptionValue(vn[Xn].value);Re.push(Fr)}}else{const vn=Q.options;for(let Xn=0;Xn<vn.length;Xn++){const or=vn[Xn];if(or.selected){const Fr=this._getOptionValue(or.value);Re.push(Fr)}}}this.value=Re,A(Re)}}_registerOption(A){const Q=(this._idCounter++).toString();return this._optionMap.set(Q,A),Q}_getOptionId(A){for(const Q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Q)._value,A))return Q;return null}_getOptionValue(A){const Q=function $i(w){return w.split(":")[0]}(A);return this._optionMap.has(Q)?this._optionMap.get(Q)._value:A}}return w.\u0275fac=function(){let C;return function(Q){return(C||(C=p.n5z(w)))(Q||w)}}(),w.\u0275dir=p.lG2({type:w,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(A,Q){1&A&&p.NdJ("change",function(Mt){return Q.onChange(Mt.target)})("blur",function(){return Q.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([as]),p.qOj]}),w})(),Bo=(()=>{class w{constructor(A,Q,Re){this._element=A,this._renderer=Q,this._select=Re,this._select&&(this.id=this._select._registerOption(this))}set ngValue(A){null!=this._select&&(this._value=A,this._setElementValue($s(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._select?(this._value=A,this._setElementValue($s(this.id,A)),this._select.writeValue(this._select.value)):this._setElementValue(A)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}_setSelected(A){this._renderer.setProperty(this._element.nativeElement,"selected",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return w.\u0275fac=function(A){return new(A||w)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(mo,9))},w.\u0275dir=p.lG2({type:w,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),w})(),Ms=(()=>{class w{constructor(){this._validator=ye}ngOnChanges(A){if(this.inputName in A){const Q=this.normalizeInput(A[this.inputName].currentValue);this._enabled=this.enabled(Q),this._validator=this._enabled?this.createValidator(Q):ye,this._onChange&&this._onChange()}}validate(A){return this._validator(A)}registerOnValidatorChange(A){this._onChange=A}enabled(A){return null!=A}}return w.\u0275fac=function(A){return new(A||w)},w.\u0275dir=p.lG2({type:w,features:[p.TTD]}),w})();const $r={provide:vt,useExisting:(0,p.Gpc)(()=>Xs),multi:!0};let Xs=(()=>{class w extends Ms{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.D6c,this.createValidator=A=>zt}enabled(A){return A}}return w.\u0275fac=function(){let C;return function(Q){return(C||(C=p.n5z(w)))(Q||w)}}(),w.\u0275dir=p.lG2({type:w,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(A,Q){2&A&&p.uIk("required",Q._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([$r]),p.qOj]}),w})(),Ns=(()=>{class w{}return w.\u0275fac=function(A){return new(A||w)},w.\u0275mod=p.oAB({type:w}),w.\u0275inj=p.cJS({imports:[si]}),w})();class ls extends Se{constructor(C,A,Q){super(ie(A),ee(Q,A)),this.controls=C,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(C){return this.controls[this._adjustIndex(C)]}push(C,A={}){this.controls.push(C),this._registerControl(C),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(C,A,Q={}){this.controls.splice(C,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:Q.emitEvent})}removeAt(C,A={}){let Q=this._adjustIndex(C);Q<0&&(Q=0),this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),this.controls.splice(Q,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(C,A,Q={}){let Re=this._adjustIndex(C);Re<0&&(Re=0),this.controls[Re]&&this.controls[Re]._registerOnCollectionChange(()=>{}),this.controls.splice(Re,1),A&&(this.controls.splice(Re,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(C,A={}){le(this,!1,C),C.forEach((Q,Re)=>{_e(this,!1,Re),this.at(Re).setValue(Q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(C,A={}){null!=C&&(C.forEach((Q,Re)=>{this.at(Re)&&this.at(Re).patchValue(Q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(C=[],A={}){this._forEachChild((Q,Re)=>{Q.reset(C[Re],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(C=>C.getRawValue())}clear(C={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:C.emitEvent}))}_adjustIndex(C){return C<0?C+this.length:C}_syncPendingControls(){let C=this.controls.reduce((A,Q)=>!!Q._syncPendingControls()||A,!1);return C&&this.updateValueAndValidity({onlySelf:!0}),C}_forEachChild(C){this.controls.forEach((A,Q)=>{C(A,Q)})}_updateValue(){this.value=this.controls.filter(C=>C.enabled||this.disabled).map(C=>C.value)}_anyControls(C){return this.controls.some(A=>A.enabled&&C(A))}_setUpControls(){this._forEachChild(C=>this._registerControl(C))}_allControlsDisabled(){for(const C of this.controls)if(C.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(C){C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange)}_find(C){return this.at(C)??null}}function to(w){return!!w&&(void 0!==w.asyncValidators||void 0!==w.validators||void 0!==w.updateOn)}let No=(()=>{class w{constructor(){this.useNonNullable=!1}get nonNullable(){const A=new w;return A.useNonNullable=!0,A}group(A,Q=null){const Re=this._reduceControls(A);let Mt={};return to(Q)?Mt=Q:null!==Q&&(Mt.validators=Q.validator,Mt.asyncValidators=Q.asyncValidator),new rt(Re,Mt)}record(A,Q=null){const Re=this._reduceControls(A);return new hn(Re,Q)}control(A,Q,Re){let Mt={};return this.useNonNullable?(to(Q)?Mt=Q:(Mt.validators=Q,Mt.asyncValidators=Re),new cr(A,{...Mt,nonNullable:!0})):new cr(A,Q,Re)}array(A,Q,Re){const Mt=A.map(vn=>this._createControl(vn));return new ls(Mt,Q,Re)}_reduceControls(A){const Q={};return Object.keys(A).forEach(Re=>{Q[Re]=this._createControl(A[Re])}),Q}_createControl(A){return A instanceof cr||A instanceof Se?A:Array.isArray(A)?this.control(A[0],A.length>1?A[1]:null,A.length>2?A[2]:null):this.control(A)}}return w.\u0275fac=function(A){return new(A||w)},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),oe=(()=>{class w{static withConfig(A){return{ngModule:w,providers:[{provide:ii,useValue:A.callSetDisabledState??pt}]}}}return w.\u0275fac=function(A){return new(A||w)},w.\u0275mod=p.oAB({type:w}),w.\u0275inj=p.cJS({imports:[Ns]}),w})(),be=(()=>{class w{static withConfig(A){return{ngModule:w,providers:[{provide:gs,useValue:A.warnOnNgModelWithFormControl??"always"},{provide:ii,useValue:A.callSetDisabledState??pt}]}}}return w.\u0275fac=function(A){return new(A||w)},w.\u0275mod=p.oAB({type:w}),w.\u0275inj=p.cJS({imports:[Ns]}),w})()},1481:(tn,st,L)=>{L.d(st,{Dx:()=>An,H7:()=>ie,b2:()=>Cr,q6:()=>Rr,se:()=>zt});var p=L(6895),Z=L(4650);class K extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $ extends K{static makeCurrent(){(0,p.HT)(new $)}onAndCancel(_e,le,Se){return _e.addEventListener(le,Se,!1),()=>{_e.removeEventListener(le,Se,!1)}}dispatchEvent(_e,le){_e.dispatchEvent(le)}remove(_e){_e.parentNode&&_e.parentNode.removeChild(_e)}createElement(_e,le){return(le=le||this.getDefaultDocument()).createElement(_e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_e){return _e.nodeType===Node.ELEMENT_NODE}isShadowRoot(_e){return _e instanceof DocumentFragment}getGlobalEventTarget(_e,le){return"window"===le?window:"document"===le?_e:"body"===le?_e.body:null}getBaseHref(_e){const le=function ke(){return Le=Le||document.querySelector("base"),Le?Le.getAttribute("href"):null}();return null==le?null:function je(pe){Ye=Ye||document.createElement("a"),Ye.setAttribute("href",pe);const _e=Ye.pathname;return"/"===_e.charAt(0)?_e:`/${_e}`}(le)}resetBaseElement(){Le=null}getUserAgent(){return window.navigator.userAgent}getCookie(_e){return(0,p.Mx)(document.cookie,_e)}}let Ye,Le=null;const Ve=new Z.OlP("TRANSITION_ID"),he=[{provide:Z.ip1,useFactory:function de(pe,_e,le){return()=>{le.get(Z.CZH).donePromise.then(()=>{const Se=(0,p.q)(),rt=_e.querySelectorAll(`style[ng-transition="${pe}"]`);for(let At=0;At<rt.length;At++)Se.remove(rt[At])})}},deps:[Ve,p.K0,Z.zs3],multi:!0}];let Et=(()=>{class pe{build(){return new XMLHttpRequest}}return pe.\u0275fac=function(le){return new(le||pe)},pe.\u0275prov=Z.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const He=new Z.OlP("EventManagerPlugins");let tt=(()=>{class pe{constructor(le,Se){this._zone=Se,this._eventNameToPlugin=new Map,le.forEach(rt=>{rt.manager=this}),this._plugins=le.slice().reverse()}addEventListener(le,Se,rt){return this._findPluginFor(Se).addEventListener(le,Se,rt)}addGlobalEventListener(le,Se,rt){return this._findPluginFor(Se).addGlobalEventListener(le,Se,rt)}getZone(){return this._zone}_findPluginFor(le){const Se=this._eventNameToPlugin.get(le);if(Se)return Se;const rt=this._plugins;for(let At=0;At<rt.length;At++){const dn=rt[At];if(dn.supports(le))return this._eventNameToPlugin.set(le,dn),dn}throw new Error(`No event manager plugin found for event ${le}`)}}return pe.\u0275fac=function(le){return new(le||pe)(Z.LFG(He),Z.LFG(Z.R0b))},pe.\u0275prov=Z.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class _t{constructor(_e){this._doc=_e}addGlobalEventListener(_e,le,Se){const rt=(0,p.q)().getGlobalEventTarget(this._doc,_e);if(!rt)throw new Error(`Unsupported event target ${rt} for event ${le}`);return this.addEventListener(rt,le,Se)}}let Qe=(()=>{class pe{constructor(){this.usageCount=new Map}addStyles(le){for(const Se of le)1===this.changeUsageCount(Se,1)&&this.onStyleAdded(Se)}removeStyles(le){for(const Se of le)0===this.changeUsageCount(Se,-1)&&this.onStyleRemoved(Se)}onStyleRemoved(le){}onStyleAdded(le){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(le,Se){const rt=this.usageCount;let At=rt.get(le)??0;return At+=Se,At>0?rt.set(le,At):rt.delete(le),At}ngOnDestroy(){for(const le of this.getAllStyles())this.onStyleRemoved(le);this.usageCount.clear()}}return pe.\u0275fac=function(le){return new(le||pe)},pe.\u0275prov=Z.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),dt=(()=>{class pe extends Qe{constructor(le){super(),this.doc=le,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(le){for(const Se of this.hostNodes)this.addStyleToHost(Se,le)}onStyleRemoved(le){const Se=this.styleRef;Se.get(le)?.forEach(At=>At.remove()),Se.delete(le)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(le){this.hostNodes.add(le);for(const Se of this.getAllStyles())this.addStyleToHost(le,Se)}removeHost(le){this.hostNodes.delete(le)}addStyleToHost(le,Se){const rt=this.doc.createElement("style");rt.textContent=Se,le.appendChild(rt);const At=this.styleRef.get(Se);At?At.push(rt):this.styleRef.set(Se,[rt])}resetHostNodes(){const le=this.hostNodes;le.clear(),le.add(this.doc.head)}}return pe.\u0275fac=function(le){return new(le||pe)(Z.LFG(p.K0))},pe.\u0275prov=Z.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rt=/%COMP%/g,Ee=new Z.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function bt(pe,_e){return _e.flat(100).map(le=>le.replace(Rt,pe))}function gn(pe){return _e=>{if("__ngUnwrap__"===_e)return pe;!1===pe(_e)&&(_e.preventDefault(),_e.returnValue=!1)}}let zt=(()=>{class pe{constructor(le,Se,rt,At){this.eventManager=le,this.sharedStylesHost=Se,this.appId=rt,this.removeStylesOnCompDestory=At,this.rendererByCompId=new Map,this.defaultRenderer=new wr(le)}createRenderer(le,Se){if(!le||!Se)return this.defaultRenderer;const rt=this.getOrCreateRenderer(le,Se);return rt instanceof Ae?rt.applyToHost(le):rt instanceof ye&&rt.applyStyles(),rt}getOrCreateRenderer(le,Se){const rt=this.rendererByCompId;let At=rt.get(Se.id);if(!At){const dn=this.eventManager,hn=this.sharedStylesHost,ir=this.removeStylesOnCompDestory;switch(Se.encapsulation){case Z.ifc.Emulated:At=new Ae(dn,hn,Se,this.appId,ir);break;case Z.ifc.ShadowDom:return new ge(dn,hn,le,Se);default:At=new ye(dn,hn,Se,ir)}At.onDestroy=()=>rt.delete(Se.id),rt.set(Se.id,At)}return At}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return pe.\u0275fac=function(le){return new(le||pe)(Z.LFG(tt),Z.LFG(dt),Z.LFG(Z.AFp),Z.LFG(Ee))},pe.\u0275prov=Z.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class wr{constructor(_e){this.eventManager=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(_e,le){return le?document.createElementNS(Ie[le]||le,_e):document.createElement(_e)}createComment(_e){return document.createComment(_e)}createText(_e){return document.createTextNode(_e)}appendChild(_e,le){(Zt(_e)?_e.content:_e).appendChild(le)}insertBefore(_e,le,Se){_e&&(Zt(_e)?_e.content:_e).insertBefore(le,Se)}removeChild(_e,le){_e&&_e.removeChild(le)}selectRootElement(_e,le){let Se="string"==typeof _e?document.querySelector(_e):_e;if(!Se)throw new Error(`The selector "${_e}" did not match any elements`);return le||(Se.textContent=""),Se}parentNode(_e){return _e.parentNode}nextSibling(_e){return _e.nextSibling}setAttribute(_e,le,Se,rt){if(rt){le=rt+":"+le;const At=Ie[rt];At?_e.setAttributeNS(At,le,Se):_e.setAttribute(le,Se)}else _e.setAttribute(le,Se)}removeAttribute(_e,le,Se){if(Se){const rt=Ie[Se];rt?_e.removeAttributeNS(rt,le):_e.removeAttribute(`${Se}:${le}`)}else _e.removeAttribute(le)}addClass(_e,le){_e.classList.add(le)}removeClass(_e,le){_e.classList.remove(le)}setStyle(_e,le,Se,rt){rt&(Z.JOm.DashCase|Z.JOm.Important)?_e.style.setProperty(le,Se,rt&Z.JOm.Important?"important":""):_e.style[le]=Se}removeStyle(_e,le,Se){Se&Z.JOm.DashCase?_e.style.removeProperty(le):_e.style[le]=""}setProperty(_e,le,Se){_e[le]=Se}setValue(_e,le){_e.nodeValue=le}listen(_e,le,Se){return"string"==typeof _e?this.eventManager.addGlobalEventListener(_e,le,gn(Se)):this.eventManager.addEventListener(_e,le,gn(Se))}}function Zt(pe){return"TEMPLATE"===pe.tagName&&void 0!==pe.content}class ge extends wr{constructor(_e,le,Se,rt){super(_e),this.sharedStylesHost=le,this.hostEl=Se,this.shadowRoot=Se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const At=bt(rt.id,rt.styles);for(const dn of At){const hn=document.createElement("style");hn.textContent=dn,this.shadowRoot.appendChild(hn)}}nodeOrShadowRoot(_e){return _e===this.hostEl?this.shadowRoot:_e}appendChild(_e,le){return super.appendChild(this.nodeOrShadowRoot(_e),le)}insertBefore(_e,le,Se){return super.insertBefore(this.nodeOrShadowRoot(_e),le,Se)}removeChild(_e,le){return super.removeChild(this.nodeOrShadowRoot(_e),le)}parentNode(_e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ye extends wr{constructor(_e,le,Se,rt,At=Se.id){super(_e),this.sharedStylesHost=le,this.removeStylesOnCompDestory=rt,this.rendererUsageCount=0,this.styles=bt(At,Se.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ae extends ye{constructor(_e,le,Se,rt,At){const dn=rt+"-"+Se.id;super(_e,le,Se,At,dn),this.contentAttr=function Ft(pe){return"_ngcontent-%COMP%".replace(Rt,pe)}(dn),this.hostAttr=function xt(pe){return"_nghost-%COMP%".replace(Rt,pe)}(dn)}applyToHost(_e){this.applyStyles(),this.setAttribute(_e,this.hostAttr,"")}createElement(_e,le){const Se=super.createElement(_e,le);return super.setAttribute(Se,this.contentAttr,""),Se}}let Oe=(()=>{class pe extends _t{constructor(le){super(le)}supports(le){return!0}addEventListener(le,Se,rt){return le.addEventListener(Se,rt,!1),()=>this.removeEventListener(le,Se,rt)}removeEventListener(le,Se,rt){return le.removeEventListener(Se,rt)}}return pe.\u0275fac=function(le){return new(le||pe)(Z.LFG(p.K0))},pe.\u0275prov=Z.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const ut=["alt","control","meta","shift"],mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lt={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let Dt=(()=>{class pe extends _t{constructor(le){super(le)}supports(le){return null!=pe.parseEventName(le)}addEventListener(le,Se,rt){const At=pe.parseEventName(Se),dn=pe.eventCallback(At.fullKey,rt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(le,At.domEventName,dn))}static parseEventName(le){const Se=le.toLowerCase().split("."),rt=Se.shift();if(0===Se.length||"keydown"!==rt&&"keyup"!==rt)return null;const At=pe._normalizeKey(Se.pop());let dn="",hn=Se.indexOf("code");if(hn>-1&&(Se.splice(hn,1),dn="code."),ut.forEach(ii=>{const pt=Se.indexOf(ii);pt>-1&&(Se.splice(pt,1),dn+=ii+".")}),dn+=At,0!=Se.length||0===At.length)return null;const ir={};return ir.domEventName=rt,ir.fullKey=dn,ir}static matchEventFullKeyCode(le,Se){let rt=mt[le.key]||le.key,At="";return Se.indexOf("code.")>-1&&(rt=le.code,At="code."),!(null==rt||!rt)&&(rt=rt.toLowerCase()," "===rt?rt="space":"."===rt&&(rt="dot"),ut.forEach(dn=>{dn!==rt&&(0,Lt[dn])(le)&&(At+=dn+".")}),At+=rt,At===Se)}static eventCallback(le,Se,rt){return At=>{pe.matchEventFullKeyCode(At,le)&&rt.runGuarded(()=>Se(At))}}static _normalizeKey(le){return"esc"===le?"escape":le}}return pe.\u0275fac=function(le){return new(le||pe)(Z.LFG(p.K0))},pe.\u0275prov=Z.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const Rr=(0,Z.eFA)(Z._c5,"browser",[{provide:Z.Lbi,useValue:p.bD},{provide:Z.g9A,useValue:function Qn(){$.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function pr(){return(0,Z.RDi)(document),document},deps:[]}]),wn=new Z.OlP(""),$t=[{provide:Z.rWj,useClass:class xe{addToWindow(_e){Z.dqk.getAngularTestability=(Se,rt=!0)=>{const At=_e.findTestabilityInTree(Se,rt);if(null==At)throw new Error("Could not find testability for element.");return At},Z.dqk.getAllAngularTestabilities=()=>_e.getAllTestabilities(),Z.dqk.getAllAngularRootElements=()=>_e.getAllRootElements(),Z.dqk.frameworkStabilizers||(Z.dqk.frameworkStabilizers=[]),Z.dqk.frameworkStabilizers.push(Se=>{const rt=Z.dqk.getAllAngularTestabilities();let At=rt.length,dn=!1;const hn=function(ir){dn=dn||ir,At--,0==At&&Se(dn)};rt.forEach(function(ir){ir.whenStable(hn)})})}findTestabilityInTree(_e,le,Se){return null==le?null:_e.getTestability(le)??(Se?(0,p.q)().isShadowRoot(le)?this.findTestabilityInTree(_e,le.host,!0):this.findTestabilityInTree(_e,le.parentElement,!0):null)}},deps:[]},{provide:Z.lri,useClass:Z.dDg,deps:[Z.R0b,Z.eoX,Z.rWj]},{provide:Z.dDg,useClass:Z.dDg,deps:[Z.R0b,Z.eoX,Z.rWj]}],xn=[{provide:Z.zSh,useValue:"root"},{provide:Z.qLn,useFactory:function hr(){return new Z.qLn},deps:[]},{provide:He,useClass:Oe,multi:!0,deps:[p.K0,Z.R0b,Z.Lbi]},{provide:He,useClass:Dt,multi:!0,deps:[p.K0]},{provide:zt,useClass:zt,deps:[tt,dt,Z.AFp,Ee]},{provide:Z.FYo,useExisting:zt},{provide:Qe,useExisting:dt},{provide:dt,useClass:dt,deps:[p.K0]},{provide:tt,useClass:tt,deps:[He,Z.R0b]},{provide:p.JF,useClass:Et,deps:[]},[]];let Cr=(()=>{class pe{constructor(le){}static withServerTransition(le){return{ngModule:pe,providers:[{provide:Z.AFp,useValue:le.appId},{provide:Ve,useExisting:Z.AFp},he]}}}return pe.\u0275fac=function(le){return new(le||pe)(Z.LFG(wn,12))},pe.\u0275mod=Z.oAB({type:pe}),pe.\u0275inj=Z.cJS({providers:[...xn,...$t],imports:[p.ez,Z.hGG]}),pe})(),An=(()=>{class pe{constructor(le){this._doc=le}getTitle(){return this._doc.title}setTitle(le){this._doc.title=le||""}}return pe.\u0275fac=function(le){return new(le||pe)(Z.LFG(p.K0))},pe.\u0275prov=Z.Yz7({token:pe,factory:function(le){let Se=null;return Se=le?new le:function er(){return new An((0,Z.LFG)(p.K0))}(),Se},providedIn:"root"}),pe})();typeof window<"u"&&window;let ie=(()=>{class pe{}return pe.\u0275fac=function(le){return new(le||pe)},pe.\u0275prov=Z.Yz7({token:pe,factory:function(le){let Se=null;return Se=le?new(le||pe):Z.LFG(ee),Se},providedIn:"root"}),pe})(),ee=(()=>{class pe extends ie{constructor(le){super(),this._doc=le}sanitize(le,Se){if(null==Se)return null;switch(le){case Z.q3G.NONE:return Se;case Z.q3G.HTML:return(0,Z.qzn)(Se,"HTML")?(0,Z.z3N)(Se):(0,Z.EiD)(this._doc,String(Se)).toString();case Z.q3G.STYLE:return(0,Z.qzn)(Se,"Style")?(0,Z.z3N)(Se):Se;case Z.q3G.SCRIPT:if((0,Z.qzn)(Se,"Script"))return(0,Z.z3N)(Se);throw new Error("unsafe value used in a script context");case Z.q3G.URL:return(0,Z.qzn)(Se,"URL")?(0,Z.z3N)(Se):(0,Z.mCW)(String(Se));case Z.q3G.RESOURCE_URL:if((0,Z.qzn)(Se,"ResourceURL"))return(0,Z.z3N)(Se);throw new Error(`unsafe value used in a resource URL context (see ${Z.JZr})`);default:throw new Error(`Unexpected SecurityContext ${le} (see ${Z.JZr})`)}}bypassSecurityTrustHtml(le){return(0,Z.JVY)(le)}bypassSecurityTrustStyle(le){return(0,Z.L6k)(le)}bypassSecurityTrustScript(le){return(0,Z.eBb)(le)}bypassSecurityTrustUrl(le){return(0,Z.LAX)(le)}bypassSecurityTrustResourceUrl(le){return(0,Z.pB0)(le)}}return pe.\u0275fac=function(le){return new(le||pe)(Z.LFG(p.K0))},pe.\u0275prov=Z.Yz7({token:pe,factory:function(le){let Se=null;return Se=le?new le:function ce(pe){return new ee(pe.get(p.K0))}(Z.LFG(Z.zs3)),Se},providedIn:"root"}),pe})()},2507:(tn,st,L)=>{L.d(st,{gz:()=>gs,F0:()=>qt,rH:()=>Ia,Bz:()=>Co,lC:()=>mo});var p=L(4650),Z=L(8996),K=L(9646),$=L(1135),Le=L(6805),ke=L(9841),Ye=L(7272),je=L(9751),Ve=L(8421);function de(E){return new je.y(I=>{(0,Ve.Xf)(E()).subscribe(I)})}var he=L(9635),xe=L(576);function Et(E,I){const y=(0,xe.m)(E)?E:()=>E,R=U=>U.error(y());return new je.y(I?U=>I.schedule(R,0,U):R)}var He=L(515),tt=L(727),_t=L(4482),Qe=L(5403);function dt(){return(0,_t.e)((E,I)=>{let y=null;E._refCount++;const R=(0,Qe.x)(I,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(y=null);const U=E._connection,X=y;y=null,U&&(!X||U===X)&&U.unsubscribe(),I.unsubscribe()});E.subscribe(R),R.closed||(y=E.connect())})}class Ie extends je.y{constructor(I,y){super(),this.source=I,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,_t.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new tt.w0;const y=this.getSubject();I.add(this.source.subscribe((0,Qe.x)(y,void 0,()=>{this._teardown(),y.complete()},R=>{this._teardown(),y.error(R)},()=>this._teardown()))),I.closed&&(this._connection=null,I=tt.w0.EMPTY)}return I}refCount(){return dt()(this)}}var Rt=L(7579),We=L(6895),fe=L(4004),Ue=L(3900),ht=L(5698),vt=L(8675),Ee=L(9300),Ft=L(5577),xt=L(590);function bt(E,I){return(0,xe.m)(I)?(0,Ft.z)(E,I,1):(0,Ft.z)(E,1)}var gn=L(8505);function zt(E){return(0,_t.e)((I,y)=>{let X,R=null,U=!1;R=I.subscribe((0,Qe.x)(y,void 0,void 0,ae=>{X=(0,Ve.Xf)(E(ae,zt(E)(I))),R?(R.unsubscribe(),R=null,X.subscribe(y)):U=!0})),U&&(R.unsubscribe(),R=null,X.subscribe(y))})}var wr=L(5026);function vr(E){return E<=0?()=>He.E:(0,_t.e)((I,y)=>{let R=[];I.subscribe((0,Qe.x)(y,U=>{R.push(U),E<R.length&&R.shift()},()=>{for(const U of R)y.next(U);y.complete()},void 0,()=>{R=null}))})}var Fn=L(8068),Zt=L(6590),ge=L(4671);function ye(E,I){const y=arguments.length>=2;return R=>R.pipe(E?(0,Ee.h)((U,X)=>E(U,X,R)):ge.y,vr(1),y?(0,Zt.d)(I):(0,Fn.T)(()=>new Le.K))}function ut(E){return(0,_t.e)((I,y)=>{try{I.subscribe(y)}finally{y.add(E)}})}var mt=L(8189),Lt=L(1481);const Dt="primary",ln=Symbol("RouteTitle");class yn{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const y=this.params[I];return Array.isArray(y)?y[0]:y}return null}getAll(I){if(this.has(I)){const y=this.params[I];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function an(E){return new yn(E)}function nr(E,I,y){const R=y.path.split("/");if(R.length>E.length||"full"===y.pathMatch&&(I.hasChildren()||R.length<E.length))return null;const U={};for(let X=0;X<R.length;X++){const ae=R[X],Xe=E[X];if(ae.startsWith(":"))U[ae.substring(1)]=Xe;else if(ae!==Xe.path)return null}return{consumed:E.slice(0,R.length),posParams:U}}function Qn(E,I){const y=E?Object.keys(E):void 0,R=I?Object.keys(I):void 0;if(!y||!R||y.length!=R.length)return!1;let U;for(let X=0;X<y.length;X++)if(U=y[X],!hr(E[U],I[U]))return!1;return!0}function hr(E,I){if(Array.isArray(E)&&Array.isArray(I)){if(E.length!==I.length)return!1;const y=[...E].sort(),R=[...I].sort();return y.every((U,X)=>R[X]===U)}return E===I}function pr(E){return Array.prototype.concat.apply([],E)}function ur(E){return E.length>0?E[E.length-1]:null}function wn(E,I){for(const y in E)E.hasOwnProperty(y)&&I(E[y],y)}function $t(E){return(0,p.CqO)(E)?E:(0,p.QGY)(E)?(0,Z.D)(Promise.resolve(E)):(0,K.of)(E)}const xn=!1,Cr={exact:function er(E,I,y){if(!Gt(E.segments,I.segments)||!qe(E.segments,I.segments,y)||E.numberOfChildren!==I.numberOfChildren)return!1;for(const R in I.children)if(!E.children[R]||!er(E.children[R],I.children[R],y))return!1;return!0},subset:J},Or={exact:function ci(E,I){return Qn(E,I)},subset:function An(E,I){return Object.keys(I).length<=Object.keys(E).length&&Object.keys(I).every(y=>hr(E[y],I[y]))},ignored:()=>!0};function xr(E,I,y){return Cr[y.paths](E.root,I.root,y.matrixParams)&&Or[y.queryParams](E.queryParams,I.queryParams)&&!("exact"===y.fragment&&E.fragment!==I.fragment)}function J(E,I,y){return Ne(E,I,I.segments,y)}function Ne(E,I,y,R){if(E.segments.length>y.length){const U=E.segments.slice(0,y.length);return!(!Gt(U,y)||I.hasChildren()||!qe(U,y,R))}if(E.segments.length===y.length){if(!Gt(E.segments,y)||!qe(E.segments,y,R))return!1;for(const U in I.children)if(!E.children[U]||!J(E.children[U],I.children[U],R))return!1;return!0}{const U=y.slice(0,E.segments.length),X=y.slice(E.segments.length);return!!(Gt(E.segments,U)&&qe(E.segments,U,R)&&E.children[Dt])&&Ne(E.children[Dt],I,X,R)}}function qe(E,I,y){return I.every((R,U)=>Or[y](E[U].parameters,R.parameters))}class ot{constructor(I=new yt([],{}),y={},R=null){this.root=I,this.queryParams=y,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return lr.serialize(this)}}class yt{constructor(I,y){this.segments=I,this.children=y,this.parent=null,wn(y,(R,U)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bn(this)}}class kt{constructor(I,y){this.path=I,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=an(this.parameters)),this._parameterMap}toString(){return Me(this)}}function Gt(E,I){return E.length===I.length&&E.every((y,R)=>y.path===I[R].path)}let cn=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=p.Yz7({token:E,factory:function(){return new Wt},providedIn:"root"}),E})();class Wt{parse(I){const y=new Se(I);return new ot(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(I){const y=`/${Pn(I.root,!0)}`,R=function ie(E){const I=Object.keys(E).map(y=>{const R=E[y];return Array.isArray(R)?R.map(U=>`${gr(y)}=${gr(U)}`).join("&"):`${gr(y)}=${gr(R)}`}).filter(y=>!!y);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${y}${R}${"string"==typeof I.fragment?`#${function Tr(E){return encodeURI(E)}(I.fragment)}`:""}`}}const lr=new Wt;function bn(E){return E.segments.map(I=>Me(I)).join("/")}function Pn(E,I){if(!E.hasChildren())return bn(E);if(I){const y=E.children[Dt]?Pn(E.children[Dt],!1):"",R=[];return wn(E.children,(U,X)=>{X!==Dt&&R.push(`${X}:${Pn(U,!1)}`)}),R.length>0?`${y}(${R.join("//")})`:y}{const y=function Bt(E,I){let y=[];return wn(E.children,(R,U)=>{U===Dt&&(y=y.concat(I(R,U)))}),wn(E.children,(R,U)=>{U!==Dt&&(y=y.concat(I(R,U)))}),y}(E,(R,U)=>U===Dt?[Pn(E.children[Dt],!1)]:[`${U}:${Pn(R,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[Dt]?`${bn(E)}/${y[0]}`:`${bn(E)}/(${y.join("//")})`}}function tr(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gr(E){return tr(E).replace(/%3B/gi,";")}function Dr(E){return tr(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ir(E){return decodeURIComponent(E)}function mr(E){return Ir(E.replace(/\+/g,"%20"))}function Me(E){return`${Dr(E.path)}${function De(E){return Object.keys(E).map(I=>`;${Dr(I)}=${Dr(E[I])}`).join("")}(E.parameters)}`}const ce=/^[^\/()?;=#]+/;function ee(E){const I=E.match(ce);return I?I[0]:""}const Fe=/^[^=?&#]+/,_e=/^[^&#]+/;class Se{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(I.length>0||Object.keys(y).length>0)&&(R[Dt]=new yt(I,y)),R}parseSegment(){const I=ee(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new p.vHH(4009,xn);return this.capture(I),new kt(Ir(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const y=ee(this.remaining);if(!y)return;this.capture(y);let R="";if(this.consumeOptional("=")){const U=ee(this.remaining);U&&(R=U,this.capture(R))}I[Ir(y)]=Ir(R)}parseQueryParam(I){const y=function pe(E){const I=E.match(Fe);return I?I[0]:""}(this.remaining);if(!y)return;this.capture(y);let R="";if(this.consumeOptional("=")){const ae=function le(E){const I=E.match(_e);return I?I[0]:""}(this.remaining);ae&&(R=ae,this.capture(R))}const U=mr(y),X=mr(R);if(I.hasOwnProperty(U)){let ae=I[U];Array.isArray(ae)||(ae=[ae],I[U]=ae),ae.push(X)}else I[U]=X}parseParens(I){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=ee(this.remaining),U=this.remaining[R.length];if("/"!==U&&")"!==U&&";"!==U)throw new p.vHH(4010,xn);let X;R.indexOf(":")>-1?(X=R.slice(0,R.indexOf(":")),this.capture(X),this.capture(":")):I&&(X=Dt);const ae=this.parseChildren();y[X]=1===Object.keys(ae).length?ae[Dt]:new yt([],ae),this.consumeOptional("//")}return y}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new p.vHH(4011,xn)}}function rt(E){return E.segments.length>0?new yt([],{[Dt]:E}):E}function At(E){const I={};for(const R of Object.keys(E.children)){const X=At(E.children[R]);(X.segments.length>0||X.hasChildren())&&(I[R]=X)}return function dn(E){if(1===E.numberOfChildren&&E.children[Dt]){const I=E.children[Dt];return new yt(E.segments.concat(I.segments),I.children)}return E}(new yt(E.segments,I))}function hn(E){return E instanceof ot}const ir=!1;function Nt(E,I,y,R,U){if(0===y.length)return Un(I.root,I.root,I.root,R,U);const X=function Gn(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Ln(!0,0,E);let I=0,y=!1;const R=E.reduce((U,X,ae)=>{if("object"==typeof X&&null!=X){if(X.outlets){const Xe={};return wn(X.outlets,(Pt,nn)=>{Xe[nn]="string"==typeof Pt?Pt.split("/"):Pt}),[...U,{outlets:Xe}]}if(X.segmentPath)return[...U,X.segmentPath]}return"string"!=typeof X?[...U,X]:0===ae?(X.split("/").forEach((Xe,Pt)=>{0==Pt&&"."===Xe||(0==Pt&&""===Xe?y=!0:".."===Xe?I++:""!=Xe&&U.push(Xe))}),U):[...U,X]},[]);return new Ln(y,I,R)}(y);return X.toRoot()?Un(I.root,I.root,new yt([],{}),R,U):function ae(Pt){const nn=function Cs(E,I,y,R){if(E.isAbsolute)return new Sr(I.root,!0,0);if(-1===R)return new Sr(y,y===I.root,0);return function co(E,I,y){let R=E,U=I,X=y;for(;X>U;){if(X-=U,R=R.parent,!R)throw new p.vHH(4005,ir&&"Invalid number of '../'");U=R.segments.length}return new Sr(R,!1,U-X)}(y,R+(rn(E.commands[0])?0:1),E.numberOfDoubleDots)}(X,I,E.snapshot?._urlSegment,Pt),mn=nn.processChildren?Qt(nn.segmentGroup,nn.index,X.commands):Yr(nn.segmentGroup,nn.index,X.commands);return Un(I.root,nn.segmentGroup,mn,R,U)}(E.snapshot?._lastPathIndex)}function rn(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function _n(E){return"object"==typeof E&&null!=E&&E.outlets}function Un(E,I,y,R,U){let ae,X={};R&&wn(R,(Pt,nn)=>{X[nn]=Array.isArray(Pt)?Pt.map(mn=>`${mn}`):`${Pt}`}),ae=E===I?y:Dn(E,I,y);const Xe=rt(At(ae));return new ot(Xe,X,U)}function Dn(E,I,y){const R={};return wn(E.children,(U,X)=>{R[X]=U===I?y:Dn(U,I,y)}),new yt(E.segments,R)}class Ln{constructor(I,y,R){if(this.isAbsolute=I,this.numberOfDoubleDots=y,this.commands=R,I&&R.length>0&&rn(R[0]))throw new p.vHH(4003,ir&&"Root segment cannot have matrix parameters");const U=R.find(_n);if(U&&U!==ur(R))throw new p.vHH(4004,ir&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sr{constructor(I,y,R){this.segmentGroup=I,this.processChildren=y,this.index=R}}function Yr(E,I,y){if(E||(E=new yt([],{})),0===E.segments.length&&E.hasChildren())return Qt(E,I,y);const R=function qn(E,I,y){let R=0,U=I;const X={match:!1,pathIndex:0,commandIndex:0};for(;U<E.segments.length;){if(R>=y.length)return X;const ae=E.segments[U],Xe=y[R];if(_n(Xe))break;const Pt=`${Xe}`,nn=R<y.length-1?y[R+1]:null;if(U>0&&void 0===Pt)break;if(Pt&&nn&&"object"==typeof nn&&void 0===nn.outlets){if(!br(Pt,nn,ae))return X;R+=2}else{if(!br(Pt,{},ae))return X;R++}U++}return{match:!0,pathIndex:U,commandIndex:R}}(E,I,y),U=y.slice(R.commandIndex);if(R.match&&R.pathIndex<E.segments.length){const X=new yt(E.segments.slice(0,R.pathIndex),{});return X.children[Dt]=new yt(E.segments.slice(R.pathIndex),E.children),Qt(X,0,U)}return R.match&&0===U.length?new yt(E.segments,{}):R.match&&!E.hasChildren()?Wr(E,I,y):R.match?Qt(E,0,U):Wr(E,I,y)}function Qt(E,I,y){if(0===y.length)return new yt(E.segments,{});{const R=function fs(E){return _n(E[0])?E[0].outlets:{[Dt]:E}}(y),U={};if(!R[Dt]&&E.children[Dt]&&1===E.numberOfChildren&&0===E.children[Dt].segments.length){const X=Qt(E.children[Dt],I,y);return new yt(E.segments,X.children)}return wn(R,(X,ae)=>{"string"==typeof X&&(X=[X]),null!==X&&(U[ae]=Yr(E.children[ae],I,X))}),wn(E.children,(X,ae)=>{void 0===R[ae]&&(U[ae]=X)}),new yt(E.segments,U)}}function Wr(E,I,y){const R=E.segments.slice(0,I);let U=0;for(;U<y.length;){const X=y[U];if(_n(X)){const Pt=fr(X.outlets);return new yt(R,Pt)}if(0===U&&rn(y[0])){R.push(new kt(E.segments[I].path,Wi(y[0]))),U++;continue}const ae=_n(X)?X.outlets[Dt]:`${X}`,Xe=U<y.length-1?y[U+1]:null;ae&&Xe&&rn(Xe)?(R.push(new kt(ae,Wi(Xe))),U+=2):(R.push(new kt(ae,{})),U++)}return new yt(R,{})}function fr(E){const I={};return wn(E,(y,R)=>{"string"==typeof y&&(y=[y]),null!==y&&(I[R]=Wr(new yt([],{}),0,y))}),I}function Wi(E){const I={};return wn(E,(y,R)=>I[R]=`${y}`),I}function br(E,I,y){return E==y.path&&Qn(I,y.parameters)}const bi="imperative";class sr{constructor(I,y){this.id=I,this.url=y}}class os extends sr{constructor(I,y,R="imperative",U=null){super(I,y),this.type=0,this.navigationTrigger=R,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ai extends sr{constructor(I,y,R){super(I,y),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tn extends sr{constructor(I,y,R,U){super(I,y),this.reason=R,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vi extends sr{constructor(I,y,R,U){super(I,y),this.reason=R,this.code=U,this.type=16}}class Mi extends sr{constructor(I,y,R,U){super(I,y),this.error=R,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ki extends sr{constructor(I,y,R,U){super(I,y),this.urlAfterRedirects=R,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui extends sr{constructor(I,y,R,U){super(I,y),this.urlAfterRedirects=R,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cr extends sr{constructor(I,y,R,U,X){super(I,y),this.urlAfterRedirects=R,this.state=U,this.shouldActivate=X,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qs extends sr{constructor(I,y,R,U){super(I,y),this.urlAfterRedirects=R,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di extends sr{constructor(I,y,R,U){super(I,y),this.urlAfterRedirects=R,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ps{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _i{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Br{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class es{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(I,y,R){this.routerEvent=I,this.position=y,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Tt=(()=>{class E{createUrlTree(y,R,U,X,ae,Xe){return Nt(y||R.root,U,X,ae,Xe)}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac}),E})(),Bn=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=p.Yz7({token:E,factory:function(I){return Tt.\u0275fac(I)},providedIn:"root"}),E})();class jn{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const y=this.pathFromRoot(I);return y.length>1?y[y.length-2]:null}children(I){const y=Vn(I,this._root);return y?y.children.map(R=>R.value):[]}firstChild(I){const y=Vn(I,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(I){const y=rr(I,this._root);return y.length<2?[]:y[y.length-2].children.map(U=>U.value).filter(U=>U!==I)}pathFromRoot(I){return rr(I,this._root).map(y=>y.value)}}function Vn(E,I){if(E===I.value)return I;for(const y of I.children){const R=Vn(E,y);if(R)return R}return null}function rr(E,I){if(E===I.value)return[I];for(const y of I.children){const R=rr(E,y);if(R.length)return R.unshift(I),R}return[]}class si{constructor(I,y){this.value=I,this.children=y}toString(){return`TreeNode(${this.value})`}}function Bi(E){const I={};return E&&E.children.forEach(y=>I[y.value.outlet]=y),I}class jr extends jn{constructor(I,y){super(I),this.snapshot=y,Zs(this,I)}toString(){return this.snapshot.toString()}}function Ts(E,I){const y=function ho(E,I){const ae=new Bs([],{},{},"",{},Dt,I,null,E.root,-1,{});return new Qi("",new si(ae,[]))}(E,I),R=new $.X([new kt("",{})]),U=new $.X({}),X=new $.X({}),ae=new $.X({}),Xe=new $.X(""),Pt=new gs(R,U,ae,Xe,X,Dt,I,y.root);return Pt.snapshot=y.root,new jr(new si(Pt,[]),y)}class gs{constructor(I,y,R,U,X,ae,Xe,Pt){this.url=I,this.params=y,this.queryParams=R,this.fragment=U,this.data=X,this.outlet=ae,this.component=Xe,this.title=this.data?.pipe((0,fe.U)(nn=>nn[ln]))??(0,K.of)(void 0),this._futureSnapshot=Pt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,fe.U)(I=>an(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,fe.U)(I=>an(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ms(E,I="emptyOnly"){const y=E.pathFromRoot;let R=0;if("always"!==I)for(R=y.length-1;R>=1;){const U=y[R],X=y[R-1];if(U.routeConfig&&""===U.routeConfig.path)R--;else{if(X.component)break;R--}}return function fo(E){return E.reduce((I,y)=>({params:{...I.params,...y.params},data:{...I.data,...y.data},resolve:{...y.data,...I.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(R))}class Bs{get title(){return this.data?.[ln]}constructor(I,y,R,U,X,ae,Xe,Pt,nn,mn,zr){this.url=I,this.params=y,this.queryParams=R,this.fragment=U,this.data=X,this.outlet=ae,this.component=Xe,this.routeConfig=Pt,this._urlSegment=nn,this._lastPathIndex=mn,this._resolve=zr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=an(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qi extends jn{constructor(I,y){super(y),this.url=I,Zs(this,y)}toString(){return Ys(this._root)}}function Zs(E,I){I.value._routerState=E,I.children.forEach(y=>Zs(E,y))}function Ys(E){const I=E.children.length>0?` { ${E.children.map(Ys).join(", ")} } `:"";return`${E.value}${I}`}function Ro(E){if(E.snapshot){const I=E.snapshot,y=E._futureSnapshot;E.snapshot=y,Qn(I.queryParams,y.queryParams)||E.queryParams.next(y.queryParams),I.fragment!==y.fragment&&E.fragment.next(y.fragment),Qn(I.params,y.params)||E.params.next(y.params),function zn(E,I){if(E.length!==I.length)return!1;for(let y=0;y<E.length;++y)if(!Qn(E[y],I[y]))return!1;return!0}(I.url,y.url)||E.url.next(y.url),Qn(I.data,y.data)||E.data.next(y.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function js(E,I){const y=Qn(E.params,I.params)&&function Ht(E,I){return Gt(E,I)&&E.every((y,R)=>Qn(y.parameters,I[R].parameters))}(E.url,I.url);return y&&!(!E.parent!=!I.parent)&&(!E.parent||js(E.parent,I.parent))}function Zo(E,I,y){if(y&&E.shouldReuseRoute(I.value,y.value.snapshot)){const R=y.value;R._futureSnapshot=I.value;const U=function ji(E,I,y){return I.children.map(R=>{for(const U of y.children)if(E.shouldReuseRoute(R.value,U.value.snapshot))return Zo(E,R,U);return Zo(E,R)})}(E,I,y);return new si(R,U)}{if(E.shouldAttach(I.value)){const X=E.retrieve(I.value);if(null!==X){const ae=X.route;return ae.value._futureSnapshot=I.value,ae.children=I.children.map(Xe=>Zo(E,Xe)),ae}}const R=function ys(E){return new gs(new $.X(E.url),new $.X(E.params),new $.X(E.queryParams),new $.X(E.fragment),new $.X(E.data),E.outlet,E.component,E)}(I.value),U=I.children.map(X=>Zo(E,X));return new si(R,U)}}const po="ngNavigationCancelingError";function Ss(E,I){const{redirectTo:y,navigationBehaviorOptions:R}=hn(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,U=go(!1,0,I);return U.url=y,U.navigationBehaviorOptions=R,U}function go(E,I,y){const R=new Error("NavigationCancelingError: "+(E||""));return R[po]=!0,R.cancellationCode=I,y&&(R.url=y),R}function kr(E){return as(E)&&hn(E.url)}function as(E){return E&&E[po]}class $s{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new $i,this.attachRef=null}}let $i=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(y,R){const U=this.getOrCreateContext(y);U.outlet=R,this.contexts.set(y,U)}onChildOutletDestroyed(y){const R=this.getContext(y);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let R=this.getContext(y);return R||(R=new $s,this.contexts.set(y,R)),R}getContext(y){return this.contexts.get(y)||null}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Po=!1;let mo=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)($i),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(y){if(y.name){const{firstChange:R,previousValue:U}=y.name;if(R)return;this.isTrackedInParentContexts(U)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(U)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Po);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Po);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Po);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,R){this.activated=y,this._activatedRoute=R,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,R){if(this.isActivated)throw new p.vHH(4013,Po);this._activatedRoute=y;const U=this.location,ae=y.snapshot.component,Xe=this.parentContexts.getOrCreateContext(this.name).children,Pt=new Bo(y,Xe,U.injector);if(R&&function Yo(E){return!!E.resolveComponentFactory}(R)){const nn=R.resolveComponentFactory(ae);this.activated=U.createComponent(nn,U.length,Pt)}else this.activated=U.createComponent(ae,{index:U.length,injector:Pt,environmentInjector:R??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275dir=p.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),E})();class Bo{constructor(I,y,R){this.route=I,this.childContexts=y,this.parent=R}get(I,y){return I===gs?this.route:I===$i?this.childContexts:this.parent.get(I,y)}}let As=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275cmp=p.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(y,R){1&y&&p._UZ(0,"router-outlet")},dependencies:[mo],encapsulation:2}),E})();function Ms(E,I){return E.providers&&!E._injector&&(E._injector=(0,p.MMx)(E.providers,I,`Route: ${E.path}`)),E._injector??I}function xs(E){const I=E.children&&E.children.map(xs),y=I?{...E,children:I}:{...E};return!y.component&&!y.loadComponent&&(I||y.loadChildren)&&y.outlet&&y.outlet!==Dt&&(y.component=As),y}function Ci(E){return E.outlet||Dt}function Ri(E,I){const y=E.filter(R=>Ci(R)===I);return y.push(...E.filter(R=>Ci(R)!==I)),y}function Ni(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let I=E.parent;I;I=I.parent){const y=I.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class fi{constructor(I,y,R,U){this.routeReuseStrategy=I,this.futureState=y,this.currState=R,this.forwardEvent=U}activate(I){const y=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,R,I),Ro(this.futureState.root),this.activateChildRoutes(y,R,I)}deactivateChildRoutes(I,y,R){const U=Bi(y);I.children.forEach(X=>{const ae=X.value.outlet;this.deactivateRoutes(X,U[ae],R),delete U[ae]}),wn(U,(X,ae)=>{this.deactivateRouteAndItsChildren(X,R)})}deactivateRoutes(I,y,R){const U=I.value,X=y?y.value:null;if(U===X)if(U.component){const ae=R.getContext(U.outlet);ae&&this.deactivateChildRoutes(I,y,ae.children)}else this.deactivateChildRoutes(I,y,R);else X&&this.deactivateRouteAndItsChildren(y,R)}deactivateRouteAndItsChildren(I,y){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,y):this.deactivateRouteAndOutlet(I,y)}detachAndStoreRouteSubtree(I,y){const R=y.getContext(I.value.outlet),U=R&&I.value.component?R.children:y,X=Bi(I);for(const ae of Object.keys(X))this.deactivateRouteAndItsChildren(X[ae],U);if(R&&R.outlet){const ae=R.outlet.detach(),Xe=R.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:ae,route:I,contexts:Xe})}}deactivateRouteAndOutlet(I,y){const R=y.getContext(I.value.outlet),U=R&&I.value.component?R.children:y,X=Bi(I);for(const ae of Object.keys(X))this.deactivateRouteAndItsChildren(X[ae],U);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(I,y,R){const U=Bi(y);I.children.forEach(X=>{this.activateRoutes(X,U[X.value.outlet],R),this.forwardEvent(new qi(X.value.snapshot))}),I.children.length&&this.forwardEvent(new Br(I.value.snapshot))}activateRoutes(I,y,R){const U=I.value,X=y?y.value:null;if(Ro(U),U===X)if(U.component){const ae=R.getOrCreateContext(U.outlet);this.activateChildRoutes(I,y,ae.children)}else this.activateChildRoutes(I,y,R);else if(U.component){const ae=R.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const Xe=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),ae.children.onOutletReAttached(Xe.contexts),ae.attachRef=Xe.componentRef,ae.route=Xe.route.value,ae.outlet&&ae.outlet.attach(Xe.componentRef,Xe.route.value),Ro(Xe.route.value),this.activateChildRoutes(I,null,ae.children)}else{const Xe=Ni(U.snapshot),Pt=Xe?.get(p._Vd)??null;ae.attachRef=null,ae.route=U,ae.resolver=Pt,ae.injector=Xe,ae.outlet&&ae.outlet.activateWith(U,ae.injector),this.activateChildRoutes(I,null,ae.children)}}else this.activateChildRoutes(I,null,R)}}class pi{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class Ps{constructor(I,y){this.component=I,this.route=y}}function eo(E,I,y){const R=E._root;return Ns(R,I?I._root:null,y,[R.value])}function us(E,I){const y=Symbol(),R=I.get(E,y);return R===y?"function"!=typeof E||(0,p.Z0I)(E)?I.get(E):E:R}function Ns(E,I,y,R,U={canDeactivateChecks:[],canActivateChecks:[]}){const X=Bi(I);return E.children.forEach(ae=>{(function ls(E,I,y,R,U={canDeactivateChecks:[],canActivateChecks:[]}){const X=E.value,ae=I?I.value:null,Xe=y?y.getContext(E.value.outlet):null;if(ae&&X.routeConfig===ae.routeConfig){const Pt=function Wn(E,I,y){if("function"==typeof y)return y(E,I);switch(y){case"pathParamsChange":return!Gt(E.url,I.url);case"pathParamsOrQueryParamsChange":return!Gt(E.url,I.url)||!Qn(E.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!js(E,I)||!Qn(E.queryParams,I.queryParams);default:return!js(E,I)}}(ae,X,X.routeConfig.runGuardsAndResolvers);Pt?U.canActivateChecks.push(new pi(R)):(X.data=ae.data,X._resolvedData=ae._resolvedData),Ns(E,I,X.component?Xe?Xe.children:null:y,R,U),Pt&&Xe&&Xe.outlet&&Xe.outlet.isActivated&&U.canDeactivateChecks.push(new Ps(Xe.outlet.component,ae))}else ae&&_s(I,Xe,U),U.canActivateChecks.push(new pi(R)),Ns(E,null,X.component?Xe?Xe.children:null:y,R,U)})(ae,X[ae.value.outlet],y,R.concat([ae.value]),U),delete X[ae.value.outlet]}),wn(X,(ae,Xe)=>_s(ae,y.getContext(Xe),U)),U}function _s(E,I,y){const R=Bi(E),U=E.value;wn(R,(X,ae)=>{_s(X,U.component?I?I.children.getContext(ae):null:I,y)}),y.canDeactivateChecks.push(new Ps(U.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,U))}function to(E){return"function"==typeof E}function A(E){return E instanceof Le.K||"EmptyError"===E?.name}const Q=Symbol("INITIAL_VALUE");function Re(){return(0,Ue.w)(E=>(0,ke.a)(E.map(I=>I.pipe((0,ht.q)(1),(0,vt.O)(Q)))).pipe((0,fe.U)(I=>{for(const y of I)if(!0!==y){if(y===Q)return Q;if(!1===y||y instanceof ot)return y}return!0}),(0,Ee.h)(I=>I!==Q),(0,ht.q)(1)))}function oi(E){return(0,he.z)((0,gn.b)(I=>{if(hn(I))throw Ss(0,I)}),(0,fe.U)(I=>!0===I))}const Hr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xi(E,I,y,R,U){const X=Os(E,I,y);return X.matched?function ai(E,I,y,R){const U=I.canMatch;if(!U||0===U.length)return(0,K.of)(!0);const X=U.map(ae=>{const Xe=us(ae,E);return $t(function be(E){return E&&to(E.canMatch)}(Xe)?Xe.canMatch(I,y):E.runInContext(()=>Xe(I,y)))});return(0,K.of)(X).pipe(Re(),oi())}(R=Ms(I,R),I,y).pipe((0,fe.U)(ae=>!0===ae?X:{...Hr})):(0,K.of)(X)}function Os(E,I,y){if(""===I.path)return"full"===I.pathMatch&&(E.hasChildren()||y.length>0)?{...Hr}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const U=(I.matcher||nr)(y,E,I);if(!U)return{...Hr};const X={};wn(U.posParams,(Xe,Pt)=>{X[Pt]=Xe.path});const ae=U.consumed.length>0?{...X,...U.consumed[U.consumed.length-1].parameters}:X;return{matched:!0,consumedSegments:U.consumed,remainingSegments:y.slice(U.consumed.length),parameters:ae,positionalParamSegments:U.posParams??{}}}function ks(E,I,y,R){if(y.length>0&&function Oi(E,I,y){return y.some(R=>no(E,I,R)&&Ci(R)!==Dt)}(E,y,R)){const X=new yt(I,function jo(E,I,y,R){const U={};U[Dt]=R,R._sourceSegment=E,R._segmentIndexShift=I.length;for(const X of y)if(""===X.path&&Ci(X)!==Dt){const ae=new yt([],{});ae._sourceSegment=E,ae._segmentIndexShift=I.length,U[Ci(X)]=ae}return U}(E,I,R,new yt(y,E.children)));return X._sourceSegment=E,X._segmentIndexShift=I.length,{segmentGroup:X,slicedSegments:[]}}if(0===y.length&&function ia(E,I,y){return y.some(R=>no(E,I,R))}(E,y,R)){const X=new yt(E.segments,function Oo(E,I,y,R,U){const X={};for(const ae of R)if(no(E,y,ae)&&!U[Ci(ae)]){const Xe=new yt([],{});Xe._sourceSegment=E,Xe._segmentIndexShift=I.length,X[Ci(ae)]=Xe}return{...U,...X}}(E,I,y,R,E.children));return X._sourceSegment=E,X._segmentIndexShift=I.length,{segmentGroup:X,slicedSegments:y}}const U=new yt(E.segments,E.children);return U._sourceSegment=E,U._segmentIndexShift=I.length,{segmentGroup:U,slicedSegments:y}}function no(E,I,y){return(!(E.hasChildren()||I.length>0)||"full"!==y.pathMatch)&&""===y.path}function sa(E,I,y,R){return!!(Ci(E)===R||R!==Dt&&no(I,y,E))&&("**"===E.path||Os(I,E,y).matched)}function oa(E,I,y){return 0===I.length&&!E.children[y]}const Qo=!1;class ko{constructor(I){this.segmentGroup=I||null}}class _a{constructor(I){this.urlTree=I}}function vs(E){return Et(new ko(E))}function va(E){return Et(new _a(E))}class fa{constructor(I,y,R,U,X){this.injector=I,this.configLoader=y,this.urlSerializer=R,this.urlTree=U,this.config=X,this.allowRedirects=!0}apply(){const I=ks(this.urlTree.root,[],[],this.config).segmentGroup,y=new yt(I.segments,I.children);return this.expandSegmentGroup(this.injector,this.config,y,Dt).pipe((0,fe.U)(X=>this.createUrlTree(At(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zt(X=>{if(X instanceof _a)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof ko?this.noMatchError(X):X}))}match(I){return this.expandSegmentGroup(this.injector,this.config,I.root,Dt).pipe((0,fe.U)(U=>this.createUrlTree(At(U),I.queryParams,I.fragment))).pipe(zt(U=>{throw U instanceof ko?this.noMatchError(U):U}))}noMatchError(I){return new p.vHH(4002,Qo)}createUrlTree(I,y,R){const U=rt(I);return new ot(U,y,R)}expandSegmentGroup(I,y,R,U){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(I,y,R).pipe((0,fe.U)(X=>new yt([],X))):this.expandSegment(I,R,y,R.segments,U,!0)}expandChildren(I,y,R){const U=[];for(const X of Object.keys(R.children))"primary"===X?U.unshift(X):U.push(X);return(0,Z.D)(U).pipe(bt(X=>{const ae=R.children[X],Xe=Ri(y,X);return this.expandSegmentGroup(I,Xe,ae,X).pipe((0,fe.U)(Pt=>({segment:Pt,outlet:X})))}),(0,wr.R)((X,ae)=>(X[ae.outlet]=ae.segment,X),{}),ye())}expandSegment(I,y,R,U,X,ae){return(0,Z.D)(R).pipe(bt(Xe=>this.expandSegmentAgainstRoute(I,y,R,Xe,U,X,ae).pipe(zt(nn=>{if(nn instanceof ko)return(0,K.of)(null);throw nn}))),(0,xt.P)(Xe=>!!Xe),zt((Xe,Pt)=>{if(A(Xe))return oa(y,U,X)?(0,K.of)(new yt([],{})):vs(y);throw Xe}))}expandSegmentAgainstRoute(I,y,R,U,X,ae,Xe){return sa(U,y,X,ae)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(I,y,U,X,ae):Xe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,y,R,U,X,ae):vs(y):vs(y)}expandSegmentAgainstRouteUsingRedirect(I,y,R,U,X,ae){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,R,U,ae):this.expandRegularSegmentAgainstRouteUsingRedirect(I,y,R,U,X,ae)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,y,R,U){const X=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?va(X):this.lineralizeSegments(R,X).pipe((0,Ft.z)(ae=>{const Xe=new yt(ae,{});return this.expandSegment(I,Xe,y,ae,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,y,R,U,X,ae){const{matched:Xe,consumedSegments:Pt,remainingSegments:nn,positionalParamSegments:mn}=Os(y,U,X);if(!Xe)return vs(y);const zr=this.applyRedirectCommands(Pt,U.redirectTo,mn);return U.redirectTo.startsWith("/")?va(zr):this.lineralizeSegments(U,zr).pipe((0,Ft.z)(Es=>this.expandSegment(I,y,R,Es.concat(nn),ae,!1)))}matchSegmentAgainstRoute(I,y,R,U,X){return"**"===R.path?(I=Ms(R,I),R.loadChildren?(R._loadedRoutes?(0,K.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):this.configLoader.loadChildren(I,R)).pipe((0,fe.U)(Xe=>(R._loadedRoutes=Xe.routes,R._loadedInjector=Xe.injector,new yt(U,{})))):(0,K.of)(new yt(U,{}))):Xi(y,R,U,I).pipe((0,Ue.w)(({matched:ae,consumedSegments:Xe,remainingSegments:Pt})=>ae?this.getChildConfig(I=R._injector??I,R,U).pipe((0,Ft.z)(mn=>{const zr=mn.injector??I,Es=mn.routes,{segmentGroup:Si,slicedSegments:Xo}=ks(y,Xe,Pt,Es),ma=new yt(Si.segments,Si.children);if(0===Xo.length&&ma.hasChildren())return this.expandChildren(zr,Es,ma).pipe((0,fe.U)(Ta=>new yt(Xe,Ta)));if(0===Es.length&&0===Xo.length)return(0,K.of)(new yt(Xe,{}));const ui=Ci(R)===X;return this.expandSegment(zr,ma,Es,Xo,ui?Dt:X,!0).pipe((0,fe.U)(xa=>new yt(Xe.concat(xa.segments),xa.children)))})):vs(y)))}getChildConfig(I,y,R){return y.children?(0,K.of)({routes:y.children,injector:I}):y.loadChildren?void 0!==y._loadedRoutes?(0,K.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Lr(E,I,y,R){const U=I.canLoad;if(void 0===U||0===U.length)return(0,K.of)(!0);const X=U.map(ae=>{const Xe=us(ae,E);return $t(function Hi(E){return E&&to(E.canLoad)}(Xe)?Xe.canLoad(I,y):E.runInContext(()=>Xe(I,y)))});return(0,K.of)(X).pipe(Re(),oi())}(I,y,R).pipe((0,Ft.z)(U=>U?this.configLoader.loadChildren(I,y).pipe((0,gn.b)(X=>{y._loadedRoutes=X.routes,y._loadedInjector=X.injector})):function Ba(E){return Et(go(Qo,3))}())):(0,K.of)({routes:[],injector:I})}lineralizeSegments(I,y){let R=[],U=y.root;for(;;){if(R=R.concat(U.segments),0===U.numberOfChildren)return(0,K.of)(R);if(U.numberOfChildren>1||!U.children[Dt])return I.redirectTo,Et(new p.vHH(4e3,Qo));U=U.children[Dt]}}applyRedirectCommands(I,y,R){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),I,R)}applyRedirectCreateUrlTree(I,y,R,U){const X=this.createSegmentGroup(I,y.root,R,U);return new ot(X,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(I,y){const R={};return wn(I,(U,X)=>{if("string"==typeof U&&U.startsWith(":")){const Xe=U.substring(1);R[X]=y[Xe]}else R[X]=U}),R}createSegmentGroup(I,y,R,U){const X=this.createSegments(I,y.segments,R,U);let ae={};return wn(y.children,(Xe,Pt)=>{ae[Pt]=this.createSegmentGroup(I,Xe,R,U)}),new yt(X,ae)}createSegments(I,y,R,U){return y.map(X=>X.path.startsWith(":")?this.findPosParam(I,X,U):this.findOrReturn(X,R))}findPosParam(I,y,R){const U=R[y.path.substring(1)];if(!U)throw new p.vHH(4001,Qo);return U}findOrReturn(I,y){let R=0;for(const U of y){if(U.path===I.path)return y.splice(R),U;R++}return I}}class Ti{}class zs{constructor(I,y,R,U,X,ae,Xe){this.injector=I,this.rootComponentType=y,this.config=R,this.urlTree=U,this.url=X,this.paramsInheritanceStrategy=ae,this.urlSerializer=Xe}recognize(){const I=ks(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,Dt).pipe((0,fe.U)(y=>{if(null===y)return null;const R=new Bs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new si(R,y),X=new Qi(this.url,U);return this.inheritParamsAndData(X._root),X}))}inheritParamsAndData(I){const y=I.value,R=ms(y,this.paramsInheritanceStrategy);y.params=Object.freeze(R.params),y.data=Object.freeze(R.data),I.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(I,y,R,U){return 0===R.segments.length&&R.hasChildren()?this.processChildren(I,y,R):this.processSegment(I,y,R,R.segments,U)}processChildren(I,y,R){return(0,Z.D)(Object.keys(R.children)).pipe(bt(U=>{const X=R.children[U],ae=Ri(y,U);return this.processSegmentGroup(I,ae,X,U)}),(0,wr.R)((U,X)=>U&&X?(U.push(...X),U):null),function Ae(E,I=!1){return(0,_t.e)((y,R)=>{let U=0;y.subscribe((0,Qe.x)(R,X=>{const ae=E(X,U++);(ae||I)&&R.next(X),!ae&&R.complete()}))})}(U=>null!==U),(0,Zt.d)(null),ye(),(0,fe.U)(U=>{if(null===U)return null;const X=la(U);return function nu(E){E.sort((I,y)=>I.value.outlet===Dt?-1:y.value.outlet===Dt?1:I.value.outlet.localeCompare(y.value.outlet))}(X),X}))}processSegment(I,y,R,U,X){return(0,Z.D)(y).pipe(bt(ae=>this.processSegmentAgainstRoute(ae._injector??I,ae,R,U,X)),(0,xt.P)(ae=>!!ae),zt(ae=>{if(A(ae))return oa(R,U,X)?(0,K.of)([]):(0,K.of)(null);throw ae}))}processSegmentAgainstRoute(I,y,R,U,X){if(y.redirectTo||!sa(y,R,U,X))return(0,K.of)(null);let ae;if("**"===y.path){const Xe=U.length>0?ur(U).parameters:{},Pt=x(R)+U.length,nn=new Bs(U,Xe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F(y),Ci(y),y.component??y._loadedComponent??null,y,Da(R),Pt,te(y));ae=(0,K.of)({snapshot:nn,consumedSegments:[],remainingSegments:[]})}else ae=Xi(R,y,U,I).pipe((0,fe.U)(({matched:Xe,consumedSegments:Pt,remainingSegments:nn,parameters:mn})=>{if(!Xe)return null;const zr=x(R)+Pt.length;return{snapshot:new Bs(Pt,mn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F(y),Ci(y),y.component??y._loadedComponent??null,y,Da(R),zr,te(y)),consumedSegments:Pt,remainingSegments:nn}}));return ae.pipe((0,Ue.w)(Xe=>{if(null===Xe)return(0,K.of)(null);const{snapshot:Pt,consumedSegments:nn,remainingSegments:mn}=Xe;I=y._injector??I;const zr=y._loadedInjector??I,Es=function ei(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(y),{segmentGroup:Si,slicedSegments:Xo}=ks(R,nn,mn,Es.filter(ui=>void 0===ui.redirectTo));if(0===Xo.length&&Si.hasChildren())return this.processChildren(zr,Es,Si).pipe((0,fe.U)(ui=>null===ui?null:[new si(Pt,ui)]));if(0===Es.length&&0===Xo.length)return(0,K.of)([new si(Pt,[])]);const ma=Ci(y)===X;return this.processSegment(zr,Es,Si,Xo,ma?Dt:X).pipe((0,fe.U)(ui=>null===ui?null:[new si(Pt,ui)]))}))}}function Mu(E){const I=E.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function la(E){const I=[],y=new Set;for(const R of E){if(!Mu(R)){I.push(R);continue}const U=I.find(X=>R.value.routeConfig===X.value.routeConfig);void 0!==U?(U.children.push(...R.children),y.add(U)):I.push(R)}for(const R of y){const U=la(R.children);I.push(new si(R.value,U))}return I.filter(R=>!y.has(R))}function Da(E){let I=E;for(;I._sourceSegment;)I=I._sourceSegment;return I}function x(E){let I=E,y=I._segmentIndexShift??0;for(;I._sourceSegment;)I=I._sourceSegment,y+=I._segmentIndexShift??0;return y-1}function F(E){return E.data||{}}function te(E){return E.resolve||{}}function W(E){return"string"==typeof E.title||null===E.title}function ne(E){return(0,Ue.w)(I=>{const y=E(I);return y?(0,Z.D)(y).pipe((0,fe.U)(()=>I)):(0,K.of)(I)})}const Te=new p.OlP("ROUTES");let et=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,K.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const R=$t(y.loadComponent()).pipe((0,fe.U)(Yt),(0,gn.b)(X=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=X}),ut(()=>{this.componentLoaders.delete(y)})),U=new Ie(R,()=>new Rt.x).pipe(dt());return this.componentLoaders.set(y,U),U}loadChildren(y,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,K.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const X=this.loadModuleFactoryOrRoutes(R.loadChildren).pipe((0,fe.U)(Xe=>{this.onLoadEndListener&&this.onLoadEndListener(R);let Pt,nn,mn=!1;Array.isArray(Xe)?nn=Xe:(Pt=Xe.create(y).injector,nn=pr(Pt.get(Te,[],p.XFs.Self|p.XFs.Optional)));return{routes:nn.map(xs),injector:Pt}}),ut(()=>{this.childrenLoaders.delete(R)})),ae=new Ie(X,()=>new Rt.x).pipe(dt());return this.childrenLoaders.set(R,ae),ae}loadModuleFactoryOrRoutes(y){return $t(y()).pipe((0,fe.U)(Yt),(0,Ft.z)(R=>R instanceof p.YKP||Array.isArray(R)?(0,K.of)(R):(0,Z.D)(this.compiler.compileModuleAsync(R))))}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Yt(E){return function It(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let $n=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Rt.x,this.configLoader=(0,p.f3M)(et),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(cn),this.rootContexts=(0,p.f3M)($i),this.navigationId=0,this.afterPreactivation=()=>(0,K.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=U=>this.events.next(new ps(U)),this.configLoader.onLoadStartListener=U=>this.events.next(new hi(U))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:R})}setupNavigations(y){return this.transitions=new $.X({id:0,targetPageId:0,currentUrlTree:y.currentUrlTree,currentRawUrl:y.currentUrlTree,extractedUrl:y.urlHandlingStrategy.extract(y.currentUrlTree),urlAfterRedirects:y.urlHandlingStrategy.extract(y.currentUrlTree),rawUrl:y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bi,restoredState:null,currentSnapshot:y.routerState.snapshot,targetSnapshot:null,currentRouterState:y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ee.h)(R=>0!==R.id),(0,fe.U)(R=>({...R,extractedUrl:y.urlHandlingStrategy.extract(R.rawUrl)})),(0,Ue.w)(R=>{let U=!1,X=!1;return(0,K.of)(R).pipe((0,gn.b)(ae=>{this.currentNavigation={id:ae.id,initialUrl:ae.rawUrl,extractedUrl:ae.extractedUrl,trigger:ae.source,extras:ae.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ue.w)(ae=>{const Xe=y.browserUrlTree.toString(),Pt=!y.navigated||ae.extractedUrl.toString()!==Xe||Xe!==y.currentUrlTree.toString();if(!Pt&&"reload"!==(ae.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const mn="";return this.events.next(new Vi(ae.id,y.serializeUrl(R.rawUrl),mn,0)),y.rawUrlTree=ae.rawUrl,ae.resolve(null),He.E}if(y.urlHandlingStrategy.shouldProcessUrl(ae.rawUrl))return Yn(ae.source)&&(y.browserUrlTree=ae.extractedUrl),(0,K.of)(ae).pipe((0,Ue.w)(mn=>{const zr=this.transitions?.getValue();return this.events.next(new os(mn.id,this.urlSerializer.serialize(mn.extractedUrl),mn.source,mn.restoredState)),zr!==this.transitions?.getValue()?He.E:Promise.resolve(mn)}),function ri(E,I,y,R){return(0,Ue.w)(U=>function wa(E,I,y,R,U){return new fa(E,I,y,R,U).apply()}(E,I,y,U.extractedUrl,R).pipe((0,fe.U)(X=>({...U,urlAfterRedirects:X}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,y.config),(0,gn.b)(mn=>{this.currentNavigation={...this.currentNavigation,finalUrl:mn.urlAfterRedirects},R.urlAfterRedirects=mn.urlAfterRedirects}),function we(E,I,y,R,U){return(0,Ft.z)(X=>function ua(E,I,y,R,U,X,ae="emptyOnly"){return new zs(E,I,y,R,U,ae,X).recognize().pipe((0,Ue.w)(Xe=>null===Xe?function aa(E){return new je.y(I=>I.error(E))}(new Ti):(0,K.of)(Xe)))}(E,I,y,X.urlAfterRedirects,R.serialize(X.urlAfterRedirects),R,U).pipe((0,fe.U)(ae=>({...X,targetSnapshot:ae}))))}(this.environmentInjector,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,gn.b)(mn=>{if(R.targetSnapshot=mn.targetSnapshot,"eager"===y.urlUpdateStrategy){if(!mn.extras.skipLocationChange){const Es=y.urlHandlingStrategy.merge(mn.urlAfterRedirects,mn.rawUrl);y.setBrowserUrl(Es,mn)}y.browserUrlTree=mn.urlAfterRedirects}const zr=new Ki(mn.id,this.urlSerializer.serialize(mn.extractedUrl),this.urlSerializer.serialize(mn.urlAfterRedirects),mn.targetSnapshot);this.events.next(zr)}));if(Pt&&y.urlHandlingStrategy.shouldProcessUrl(y.rawUrlTree)){const{id:mn,extractedUrl:zr,source:Es,restoredState:Si,extras:Xo}=ae,ma=new os(mn,this.urlSerializer.serialize(zr),Es,Si);this.events.next(ma);const ui=Ts(zr,this.rootComponentType).snapshot;return R={...ae,targetSnapshot:ui,urlAfterRedirects:zr,extras:{...Xo,skipLocationChange:!1,replaceUrl:!1}},(0,K.of)(R)}{const mn="";return this.events.next(new Vi(ae.id,y.serializeUrl(R.extractedUrl),mn,1)),y.rawUrlTree=ae.rawUrl,ae.resolve(null),He.E}}),(0,gn.b)(ae=>{const Xe=new Ui(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(Xe)}),(0,fe.U)(ae=>R={...ae,guards:eo(ae.targetSnapshot,ae.currentSnapshot,this.rootContexts)}),function Mt(E,I){return(0,Ft.z)(y=>{const{targetSnapshot:R,currentSnapshot:U,guards:{canActivateChecks:X,canDeactivateChecks:ae}}=y;return 0===ae.length&&0===X.length?(0,K.of)({...y,guardsResult:!0}):function vn(E,I,y,R){return(0,Z.D)(E).pipe((0,Ft.z)(U=>function Kr(E,I,y,R,U){const X=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,K.of)(!0);const ae=X.map(Xe=>{const Pt=Ni(I)??U,nn=us(Xe,Pt);return $t(function oe(E){return E&&to(E.canDeactivate)}(nn)?nn.canDeactivate(E,I,y,R):Pt.runInContext(()=>nn(E,I,y,R))).pipe((0,xt.P)())});return(0,K.of)(ae).pipe(Re())}(U.component,U.route,y,I,R)),(0,xt.P)(U=>!0!==U,!0))}(ae,R,U,E).pipe((0,Ft.z)(Xe=>Xe&&function No(E){return"boolean"==typeof E}(Xe)?function Xn(E,I,y,R){return(0,Z.D)(I).pipe(bt(U=>(0,Ye.z)(function Fr(E,I){return null!==E&&I&&I(new _i(E)),(0,K.of)(!0)}(U.route.parent,R),function or(E,I){return null!==E&&I&&I(new es(E)),(0,K.of)(!0)}(U.route,R),function gi(E,I,y){const R=I[I.length-1],X=I.slice(0,I.length-1).reverse().map(ae=>function Io(E){const I=E.routeConfig?E.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:E,guards:I}:null}(ae)).filter(ae=>null!==ae).map(ae=>de(()=>{const Xe=ae.guards.map(Pt=>{const nn=Ni(ae.node)??y,mn=us(Pt,nn);return $t(function B(E){return E&&to(E.canActivateChild)}(mn)?mn.canActivateChild(R,E):nn.runInContext(()=>mn(R,E))).pipe((0,xt.P)())});return(0,K.of)(Xe).pipe(Re())}));return(0,K.of)(X).pipe(Re())}(E,U.path,y),function Jr(E,I,y){const R=I.routeConfig?I.routeConfig.canActivate:null;if(!R||0===R.length)return(0,K.of)(!0);const U=R.map(X=>de(()=>{const ae=Ni(I)??y,Xe=us(X,ae);return $t(function j(E){return E&&to(E.canActivate)}(Xe)?Xe.canActivate(I,E):ae.runInContext(()=>Xe(I,E))).pipe((0,xt.P)())}));return(0,K.of)(U).pipe(Re())}(E,U.route,y))),(0,xt.P)(U=>!0!==U,!0))}(R,X,E,I):(0,K.of)(Xe)),(0,fe.U)(Xe=>({...y,guardsResult:Xe})))})}(this.environmentInjector,ae=>this.events.next(ae)),(0,gn.b)(ae=>{if(R.guardsResult=ae.guardsResult,hn(ae.guardsResult))throw Ss(0,ae.guardsResult);const Xe=new cr(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot,!!ae.guardsResult);this.events.next(Xe)}),(0,Ee.h)(ae=>!!ae.guardsResult||(y.restoreHistory(ae),this.cancelNavigationTransition(ae,"",3),!1)),ne(ae=>{if(ae.guards.canActivateChecks.length)return(0,K.of)(ae).pipe((0,gn.b)(Xe=>{const Pt=new qs(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects),Xe.targetSnapshot);this.events.next(Pt)}),(0,Ue.w)(Xe=>{let Pt=!1;return(0,K.of)(Xe).pipe(function ft(E,I){return(0,Ft.z)(y=>{const{targetSnapshot:R,guards:{canActivateChecks:U}}=y;if(!U.length)return(0,K.of)(y);let X=0;return(0,Z.D)(U).pipe(bt(ae=>function P(E,I,y,R){const U=E.routeConfig,X=E._resolve;return void 0!==U?.title&&!W(U)&&(X[ln]=U.title),function m(E,I,y,R){const U=function v(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===U.length)return(0,K.of)({});const X={};return(0,Z.D)(U).pipe((0,Ft.z)(ae=>function N(E,I,y,R){const U=Ni(I)??R,X=us(E,U);return $t(X.resolve?X.resolve(I,y):U.runInContext(()=>X(I,y)))}(E[ae],I,y,R).pipe((0,xt.P)(),(0,gn.b)(Xe=>{X[ae]=Xe}))),vr(1),function Oe(E){return(0,fe.U)(()=>E)}(X),zt(ae=>A(ae)?He.E:Et(ae)))}(X,E,I,R).pipe((0,fe.U)(ae=>(E._resolvedData=ae,E.data=ms(E,y).resolve,U&&W(U)&&(E.data[ln]=U.title),null)))}(ae.route,R,E,I)),(0,gn.b)(()=>X++),vr(1),(0,Ft.z)(ae=>X===U.length?(0,K.of)(y):He.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,gn.b)({next:()=>Pt=!0,complete:()=>{Pt||(y.restoreHistory(Xe),this.cancelNavigationTransition(Xe,"",2))}}))}),(0,gn.b)(Xe=>{const Pt=new di(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects),Xe.targetSnapshot);this.events.next(Pt)}))}),ne(ae=>{const Xe=Pt=>{const nn=[];Pt.routeConfig?.loadComponent&&!Pt.routeConfig._loadedComponent&&nn.push(this.configLoader.loadComponent(Pt.routeConfig).pipe((0,gn.b)(mn=>{Pt.component=mn}),(0,fe.U)(()=>{})));for(const mn of Pt.children)nn.push(...Xe(mn));return nn};return(0,ke.a)(Xe(ae.targetSnapshot.root)).pipe((0,Zt.d)(),(0,ht.q)(1))}),ne(()=>this.afterPreactivation()),(0,fe.U)(ae=>{const Xe=function xo(E,I,y){const R=Zo(E,I._root,y?y._root:void 0);return new jr(R,I)}(y.routeReuseStrategy,ae.targetSnapshot,ae.currentRouterState);return R={...ae,targetRouterState:Xe}}),(0,gn.b)(ae=>{y.currentUrlTree=ae.urlAfterRedirects,y.rawUrlTree=y.urlHandlingStrategy.merge(ae.urlAfterRedirects,ae.rawUrl),y.routerState=ae.targetRouterState,"deferred"===y.urlUpdateStrategy&&(ae.extras.skipLocationChange||y.setBrowserUrl(y.rawUrlTree,ae),y.browserUrlTree=ae.urlAfterRedirects)}),((E,I,y)=>(0,fe.U)(R=>(new fi(I,R.targetRouterState,R.currentRouterState,y).activate(E),R)))(this.rootContexts,y.routeReuseStrategy,ae=>this.events.next(ae)),(0,ht.q)(1),(0,gn.b)({next:ae=>{U=!0,this.lastSuccessfulNavigation=this.currentNavigation,y.navigated=!0,this.events.next(new Ai(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(y.currentUrlTree))),y.titleStrategy?.updateTitle(ae.targetRouterState.snapshot),ae.resolve(!0)},complete:()=>{U=!0}}),ut(()=>{U||X||this.cancelNavigationTransition(R,"",1),this.currentNavigation?.id===R.id&&(this.currentNavigation=null)}),zt(ae=>{if(X=!0,as(ae)){kr(ae)||(y.navigated=!0,y.restoreHistory(R,!0));const Xe=new Tn(R.id,this.urlSerializer.serialize(R.extractedUrl),ae.message,ae.cancellationCode);if(this.events.next(Xe),kr(ae)){const Pt=y.urlHandlingStrategy.merge(ae.url,y.rawUrlTree),nn={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===y.urlUpdateStrategy||Yn(R.source)};y.scheduleNavigation(Pt,bi,null,nn,{resolve:R.resolve,reject:R.reject,promise:R.promise})}else R.resolve(!1)}else{y.restoreHistory(R,!0);const Xe=new Mi(R.id,this.urlSerializer.serialize(R.extractedUrl),ae,R.targetSnapshot??void 0);this.events.next(Xe);try{R.resolve(y.errorHandler(ae))}catch(Pt){R.reject(Pt)}}return He.E}))}))}cancelNavigationTransition(y,R,U){const X=new Tn(y.id,this.urlSerializer.serialize(y.extractedUrl),R,U);this.events.next(X),y.resolve(!1)}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Yn(E){return E!==bi}let Rn=(()=>{class E{buildTitle(y){let R,U=y.root;for(;void 0!==U;)R=this.getResolvedTitleForRoute(U)??R,U=U.children.find(X=>X.outlet===Dt);return R}getResolvedTitleForRoute(y){return y.data[ln]}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=p.Yz7({token:E,factory:function(){return(0,p.f3M)(Kn)},providedIn:"root"}),E})(),Kn=(()=>{class E extends Rn{constructor(y){super(),this.title=y}updateTitle(y){const R=this.buildTitle(y);void 0!==R&&this.title.setTitle(R)}}return E.\u0275fac=function(y){return new(y||E)(p.LFG(Lt.Dx))},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),ti=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=p.Yz7({token:E,factory:function(){return(0,p.f3M)(cs)},providedIn:"root"}),E})();class qr{shouldDetach(I){return!1}store(I,y){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,y){return I.routeConfig===y.routeConfig}}let cs=(()=>{class E extends qr{}return E.\u0275fac=function(){let I;return function(R){return(I||(I=p.n5z(E)))(R||E)}}(),E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ei=new p.OlP("",{providedIn:"root",factory:()=>({})});let ro=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=p.Yz7({token:E,factory:function(){return(0,p.f3M)(zi)},providedIn:"root"}),E})(),zi=(()=>{class E{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,R){return y}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Ut(E){throw E}function Pr(E,I,y){return I.parse("/")}const ts={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ki={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qt=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(Ei,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ut,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Pr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(ro),this.routeReuseStrategy=(0,p.f3M)(ti),this.urlCreationStrategy=(0,p.f3M)(Bn),this.titleStrategy=(0,p.f3M)(Rn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=pr((0,p.f3M)(Te,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)($n),this.urlSerializer=(0,p.f3M)(cn),this.location=(0,p.f3M)(We.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ot,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ts(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId??0},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bi,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const R="popstate"===y.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,R,y.state)},0)}))}navigateToSyncWithBrowser(y,R,U){const X={replaceUrl:!0},ae=U?.navigationId?U:null;if(U){const Pt={...U};delete Pt.navigationId,delete Pt.\u0275routerPageId,0!==Object.keys(Pt).length&&(X.state=Pt)}const Xe=this.parseUrl(y);this.scheduleNavigation(Xe,R,ae,X)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(y){this.config=y.map(xs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,R={}){const{relativeTo:U,queryParams:X,fragment:ae,queryParamsHandling:Xe,preserveFragment:Pt}=R,nn=Pt?this.currentUrlTree.fragment:ae;let mn=null;switch(Xe){case"merge":mn={...this.currentUrlTree.queryParams,...X};break;case"preserve":mn=this.currentUrlTree.queryParams;break;default:mn=X||null}return null!==mn&&(mn=this.removeEmptyProps(mn)),this.urlCreationStrategy.createUrlTree(U,this.routerState,this.currentUrlTree,y,mn,nn??null)}navigateByUrl(y,R={skipLocationChange:!1}){const U=hn(y)?y:this.parseUrl(y),X=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(X,bi,null,R)}navigate(y,R={skipLocationChange:!1}){return function Sn(E){for(let I=0;I<E.length;I++){const y=E[I];if(null==y)throw new p.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,R),R)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let R;try{R=this.urlSerializer.parse(y)}catch(U){R=this.malformedUriErrorHandler(U,this.urlSerializer,y)}return R}isActive(y,R){let U;if(U=!0===R?{...ts}:!1===R?{...ki}:R,hn(y))return xr(this.currentUrlTree,y,U);const X=this.parseUrl(y);return xr(this.currentUrlTree,X,U)}removeEmptyProps(y){return Object.keys(y).reduce((R,U)=>{const X=y[U];return null!=X&&(R[U]=X),R},{})}scheduleNavigation(y,R,U,X,ae){if(this.disposed)return Promise.resolve(!1);let Xe,Pt,nn,mn;return ae?(Xe=ae.resolve,Pt=ae.reject,nn=ae.promise):nn=new Promise((zr,Es)=>{Xe=zr,Pt=Es}),mn="computed"===this.canceledNavigationResolution?U&&U.\u0275routerPageId?U.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:mn,source:R,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:X,resolve:Xe,reject:Pt,promise:nn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),nn.catch(zr=>Promise.reject(zr))}setBrowserUrl(y,R){const U=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(U)||R.extras.replaceUrl){const ae={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(U,"",ae)}else{const X={...R.extras.state,...this.generateNgRouterState(R.id,R.targetPageId)};this.location.go(U,"",X)}}restoreHistory(y,R=!1){if("computed"===this.canceledNavigationResolution){const X=this.currentPageId-(this.browserPageId??this.currentPageId);0!==X?this.location.historyGo(X):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===X&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,R){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:R}:{navigationId:y}}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Ia=(()=>{class E{constructor(y,R,U,X,ae,Xe){this.router=y,this.route=R,this.tabIndexAttribute=U,this.renderer=X,this.el=ae,this.locationStrategy=Xe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Rt.x;const Pt=ae.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Pt||"area"===Pt,this.isAnchorElement?this.subscription=y.events.subscribe(nn=>{nn instanceof Ai&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,p.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,p.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,p.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,R,U,X,ae){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||R||U||X||ae||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,R){const U=this.renderer,X=this.el.nativeElement;null!==R?U.setAttribute(X,y,R):U.removeAttribute(X,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(y){return new(y||E)(p.Y36(qt),p.Y36(gs),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(We.S$))},E.\u0275dir=p.lG2({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(y,R){1&y&&p.NdJ("click",function(X){return R.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&y&&p.uIk("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),E})();class at{}let yr=(()=>{class E{constructor(y,R,U,X,ae){this.router=y,this.injector=U,this.preloadingStrategy=X,this.loader=ae}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ee.h)(y=>y instanceof Ai),bt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,R){const U=[];for(const X of R){X.providers&&!X._injector&&(X._injector=(0,p.MMx)(X.providers,y,`Route: ${X.path}`));const ae=X._injector??y,Xe=X._loadedInjector??ae;(X.loadChildren&&!X._loadedRoutes&&void 0===X.canLoad||X.loadComponent&&!X._loadedComponent)&&U.push(this.preloadConfig(ae,X)),(X.children||X._loadedRoutes)&&U.push(this.processRoutes(Xe,X.children??X._loadedRoutes))}return(0,Z.D)(U).pipe((0,mt.J)())}preloadConfig(y,R){return this.preloadingStrategy.preload(R,()=>{let U;U=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(y,R):(0,K.of)(null);const X=U.pipe((0,Ft.z)(ae=>null===ae?(0,K.of)(void 0):(R._loadedRoutes=ae.routes,R._loadedInjector=ae.injector,this.processRoutes(ae.injector??y,ae.routes))));if(R.loadComponent&&!R._loadedComponent){const ae=this.loader.loadComponent(R);return(0,Z.D)([X,ae]).pipe((0,mt.J)())}return X})}}return E.\u0275fac=function(y){return new(y||E)(p.LFG(qt),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(at),p.LFG(et))},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Eo=new p.OlP("");let ns=(()=>{class E{constructor(y,R,U,X,ae={}){this.urlSerializer=y,this.transitions=R,this.viewportScroller=U,this.zone=X,this.options=ae,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ae.scrollPositionRestoration=ae.scrollPositionRestoration||"disabled",ae.anchorScrolling=ae.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof os?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Ai&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Ge&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ge(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return E.\u0275fac=function(y){p.$Z()},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac}),E})();var Fi=(()=>((Fi=Fi||{})[Fi.COMPLETE=0]="COMPLETE",Fi[Fi.FAILED=1]="FAILED",Fi[Fi.REDIRECTING=2]="REDIRECTING",Fi))();const $o=!1;function io(E,I){return{\u0275kind:E,\u0275providers:I}}const rs=new p.OlP("",{providedIn:"root",factory:()=>!1});function wi(){const E=(0,p.f3M)(p.zs3);return I=>{const y=E.get(p.z2F);if(I!==y.components[0])return;const R=E.get(qt),U=E.get(Nn);1===E.get(pa)&&R.initialNavigation(),E.get(jt,null,p.XFs.Optional)?.setUpPreloading(),E.get(Eo,null,p.XFs.Optional)?.init(),R.resetRootComponentType(y.componentTypes[0]),U.closed||(U.next(),U.complete(),U.unsubscribe())}}const Nn=new p.OlP($o?"bootstrap done indicator":"",{factory:()=>new Rt.x}),pa=new p.OlP($o?"initial navigation":"",{providedIn:"root",factory:()=>1});function is(){let E=[];return E=$o?[{provide:p.Xts,multi:!0,useFactory:()=>{const I=(0,p.f3M)(qt);return()=>I.events.subscribe(y=>{console.group?.(`Router Event: ${y.constructor.name}`),console.log(function Be(E){if(!("type"in E))return`Unknown Router Event: ${E.constructor.name}`;switch(E.type){case 14:return`ActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state}, shouldActivate: ${E.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 2:return`NavigationCancel(id: ${E.id}, url: '${E.url}')`;case 16:return`NavigationSkipped(id: ${E.id}, url: '${E.url}')`;case 1:return`NavigationEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${E.id}, url: '${E.url}', error: ${E.error})`;case 0:return`NavigationStart(id: ${E.id}, url: '${E.url}')`;case 6:return`ResolveEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 5:return`ResolveStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 10:return`RouteConfigLoadEnd(path: ${E.route.path})`;case 9:return`RouteConfigLoadStart(path: ${E.route.path})`;case 4:return`RoutesRecognized(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 15:return`Scroll(anchor: '${E.anchor}', position: '${E.position?`${E.position[0]}, ${E.position[1]}`:null}')`}}(y)),console.log(y),console.groupEnd?.()})}}]:[],io(1,E)}const jt=new p.OlP($o?"router preloader":"");function $a(E){return io(0,[{provide:jt,useExisting:yr},{provide:at,useExisting:E}])}const ga=!1,ru=new p.OlP(ga?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ba=[We.Ye,{provide:cn,useClass:Wt},qt,$i,{provide:gs,useFactory:function Zi(E){return E.routerState.root},deps:[qt]},et,ga?{provide:rs,useValue:!0}:[]];function Sl(){return new p.PXZ("Router",qt)}let Co=(()=>{class E{constructor(y){}static forRoot(y,R){return{ngModule:E,providers:[ba,ga&&R?.enableTracing?is().\u0275providers:[],{provide:Te,multi:!0,useValue:y},{provide:ru,useFactory:ca,deps:[[qt,new p.FiY,new p.tp0]]},{provide:Ei,useValue:R||{}},R?.useHash?{provide:We.S$,useClass:We.Do}:{provide:We.S$,useClass:We.b0},{provide:Eo,useFactory:()=>{const E=(0,p.f3M)(We.EM),I=(0,p.f3M)(p.R0b),y=(0,p.f3M)(Ei),R=(0,p.f3M)($n),U=(0,p.f3M)(cn);return y.scrollOffset&&E.setOffset(y.scrollOffset),new ns(U,R,E,I,y)}},R?.preloadingStrategy?$a(R.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Sl},R?.initialNavigation?so(R):[],[{provide:lt,useFactory:wi},{provide:p.tb,multi:!0,useExisting:lt}]]}}static forChild(y){return{ngModule:E,providers:[{provide:Te,multi:!0,useValue:y}]}}}return E.\u0275fac=function(y){return new(y||E)(p.LFG(ru,8))},E.\u0275mod=p.oAB({type:E}),E.\u0275inj=p.cJS({imports:[As]}),E})();function ca(E){if(ga&&E)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function so(E){return["disabled"===E.initialNavigation?io(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const I=(0,p.f3M)(qt);return()=>{I.setUpLocationChangeListener()}}},{provide:pa,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?io(2,[{provide:pa,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:I=>{const y=I.get(We.V_,Promise.resolve());return()=>y.then(()=>new Promise(R=>{const U=I.get(qt),X=I.get(Nn);(function mi(E,I){E.events.pipe((0,Ee.h)(y=>y instanceof Ai||y instanceof Tn||y instanceof Mi||y instanceof Vi),(0,fe.U)(y=>y instanceof Ai||y instanceof Vi?Fi.COMPLETE:y instanceof Tn&&(0===y.code||1===y.code)?Fi.REDIRECTING:Fi.FAILED),(0,Ee.h)(y=>y!==Fi.REDIRECTING),(0,ht.q)(1)).subscribe(()=>{I()})})(U,()=>{R(!0)}),I.get($n).afterPreactivation=()=>(R(!0),X.closed?(0,K.of)(void 0):X),U.initialNavigation()}))}}]).\u0275providers:[]]}const lt=new p.OlP(ga?"Router Initializer":"")},3942:(tn,st,L)=>{L.d(st,{Z:()=>tt});var p=L(2090),Z=L(4859),K=L(6881),$=L(1877);class Le{constructor(Qe,dt){this._delegate=Qe,this.firebase=dt,(0,K._addComponent)(Qe,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(Qe,dt=K._DEFAULT_ENTRY_NAME){var Ie;this._delegate.checkDestroyed();const Rt=this._delegate.container.getProvider(Qe);return!Rt.isInitialized()&&"EXPLICIT"===(null===(Ie=Rt.getComponent())||void 0===Ie?void 0:Ie.instantiationMode)&&Rt.initialize(),Rt.getImmediate({identifier:dt})}_removeServiceInstance(Qe,dt=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(dt)}_addComponent(Qe){(0,K._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,K._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ye=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function Ve(){const _t=function je(_t){const Qe={},dt={__esModule:!0,initializeApp:function We(vt,Ee={}){const Ft=K.initializeApp(vt,Ee);if((0,p.r3)(Qe,Ft.name))return Qe[Ft.name];const xt=new _t(Ft,dt);return Qe[Ft.name]=xt,xt},app:Rt,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function Ue(vt){const Ee=vt.name,Ft=Ee.replace("-compat","");if(K._registerComponent(vt)&&"PUBLIC"===vt.type){const xt=(bt=Rt())=>{if("function"!=typeof bt[Ft])throw Ye.create("invalid-app-argument",{appName:Ee});return bt[Ft]()};void 0!==vt.serviceProps&&(0,p.ZB)(xt,vt.serviceProps),dt[Ft]=xt,_t.prototype[Ft]=function(...bt){return this._getService.bind(this,Ee).apply(this,vt.multipleInstances?bt:[])}}return"PUBLIC"===vt.type?dt[Ft]:null},removeApp:function Ie(vt){delete Qe[vt]},useAsService:function ht(vt,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:K}};function Rt(vt){if(!(0,p.r3)(Qe,vt=vt||K._DEFAULT_ENTRY_NAME))throw Ye.create("no-app",{appName:vt});return Qe[vt]}return dt.default=dt,Object.defineProperty(dt,"apps",{get:function fe(){return Object.keys(Qe).map(vt=>Qe[vt])}}),Rt.App=_t,dt}(Le);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function Qe(dt){(0,p.ZB)(_t,dt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),_t}(),he=new $.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tt=de;!function He(_t){(0,K.registerVersion)("@firebase/app-compat","0.2.13",_t)}()},6881:(tn,st,L)=>{L.r(st),L.d(st,{FirebaseError:()=>$.ZR,SDK_VERSION:()=>cn,_DEFAULT_ENTRY_NAME:()=>xr,_addComponent:()=>J,_addOrOverwriteComponent:()=>Ne,_apps:()=>er,_clearComponents:()=>kt,_components:()=>An,_getProvider:()=>ot,_registerComponent:()=>qe,_removeServiceInstance:()=>yt,deleteApp:()=>Pn,getApp:()=>lr,getApps:()=>bn,initializeApp:()=>Wt,onLog:()=>Tr,registerVersion:()=>gr,setLogLevel:()=>Dr});var p=L(5861),Z=L(4859),K=L(1877),$=L(2090);const Le=(pt,it)=>it.some(Nt=>pt instanceof Nt);let ke,Ye;const de=new WeakMap,he=new WeakMap,xe=new WeakMap,Et=new WeakMap,He=new WeakMap;let Qe={get(pt,it,Nt){if(pt instanceof IDBTransaction){if("done"===it)return he.get(pt);if("objectStoreNames"===it)return pt.objectStoreNames||xe.get(pt);if("store"===it)return Nt.objectStoreNames[1]?void 0:Nt.objectStore(Nt.objectStoreNames[0])}return We(pt[it])},set:(pt,it,Nt)=>(pt[it]=Nt,!0),has:(pt,it)=>pt instanceof IDBTransaction&&("done"===it||"store"===it)||it in pt};function Rt(pt){return"function"==typeof pt?function Ie(pt){return pt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return Ye||(Ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pt)?function(...it){return pt.apply(fe(this),it),We(de.get(this))}:function(...it){return We(pt.apply(fe(this),it))}:function(it,...Nt){const rn=pt.call(fe(this),it,...Nt);return xe.set(rn,it.sort?it.sort():[it]),We(rn)}}(pt):(pt instanceof IDBTransaction&&function _t(pt){if(he.has(pt))return;const it=new Promise((Nt,rn)=>{const _n=()=>{pt.removeEventListener("complete",Un),pt.removeEventListener("error",Dn),pt.removeEventListener("abort",Dn)},Un=()=>{Nt(),_n()},Dn=()=>{rn(pt.error||new DOMException("AbortError","AbortError")),_n()};pt.addEventListener("complete",Un),pt.addEventListener("error",Dn),pt.addEventListener("abort",Dn)});he.set(pt,it)}(pt),Le(pt,function je(){return ke||(ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pt,Qe):pt)}function We(pt){if(pt instanceof IDBRequest)return function tt(pt){const it=new Promise((Nt,rn)=>{const _n=()=>{pt.removeEventListener("success",Un),pt.removeEventListener("error",Dn)},Un=()=>{Nt(We(pt.result)),_n()},Dn=()=>{rn(pt.error),_n()};pt.addEventListener("success",Un),pt.addEventListener("error",Dn)});return it.then(Nt=>{Nt instanceof IDBCursor&&de.set(Nt,pt)}).catch(()=>{}),He.set(it,pt),it}(pt);if(Et.has(pt))return Et.get(pt);const it=Rt(pt);return it!==pt&&(Et.set(pt,it),He.set(it,pt)),it}const fe=pt=>He.get(pt),vt=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Ft=new Map;function xt(pt,it){if(!(pt instanceof IDBDatabase)||it in pt||"string"!=typeof it)return;if(Ft.get(it))return Ft.get(it);const Nt=it.replace(/FromIndex$/,""),rn=it!==Nt,_n=Ee.includes(Nt);if(!(Nt in(rn?IDBIndex:IDBObjectStore).prototype)||!_n&&!vt.includes(Nt))return;const Un=function(){var Dn=(0,p.Z)(function*(Ln,...Gn){const Sr=this.transaction(Ln,_n?"readwrite":"readonly");let ni=Sr.store;return rn&&(ni=ni.index(Gn.shift())),(yield Promise.all([ni[Nt](...Gn),_n&&Sr.done]))[0]});return function(Gn){return Dn.apply(this,arguments)}}();return Ft.set(it,Un),Un}!function dt(pt){Qe=pt(Qe)}(pt=>({...pt,get:(it,Nt,rn)=>xt(it,Nt)||pt.get(it,Nt,rn),has:(it,Nt)=>!!xt(it,Nt)||pt.has(it,Nt)}));class bt{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map(Nt=>{if(function gn(pt){return"VERSION"===pt.getComponent()?.type}(Nt)){const rn=Nt.getImmediate();return`${rn.library}/${rn.version}`}return null}).filter(Nt=>Nt).join(" ")}}const zt="@firebase/app",vr=new K.Yd("@firebase/app"),xr="[DEFAULT]",ci={[zt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},er=new Map,An=new Map;function J(pt,it){try{pt.container.addComponent(it)}catch(Nt){vr.debug(`Component ${it.name} failed to register with FirebaseApp ${pt.name}`,Nt)}}function Ne(pt,it){pt.container.addOrOverwriteComponent(it)}function qe(pt){const it=pt.name;if(An.has(it))return vr.debug(`There were multiple attempts to register component ${it}.`),!1;An.set(it,pt);for(const Nt of er.values())J(Nt,pt);return!0}function ot(pt,it){const Nt=pt.container.getProvider("heartbeat").getImmediate({optional:!0});return Nt&&Nt.triggerHeartbeat(),pt.container.getProvider(it)}function yt(pt,it,Nt=xr){ot(pt,it).clearInstance(Nt)}function kt(){An.clear()}const Gt=new $.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Bt{constructor(it,Nt,rn){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},Nt),this._name=Nt.name,this._automaticDataCollectionEnabled=Nt.automaticDataCollectionEnabled,this._container=rn,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}}const cn="9.23.0";function Wt(pt,it={}){let Nt=pt;"object"!=typeof it&&(it={name:it});const rn=Object.assign({name:xr,automaticDataCollectionEnabled:!1},it),_n=rn.name;if("string"!=typeof _n||!_n)throw Gt.create("bad-app-name",{appName:String(_n)});if(Nt||(Nt=(0,$.aH)()),!Nt)throw Gt.create("no-options");const Un=er.get(_n);if(Un){if((0,$.vZ)(Nt,Un.options)&&(0,$.vZ)(rn,Un.config))return Un;throw Gt.create("duplicate-app",{appName:_n})}const Dn=new Z.H0(_n);for(const Gn of An.values())Dn.addComponent(Gn);const Ln=new Bt(Nt,rn,Dn);return er.set(_n,Ln),Ln}function lr(pt=xr){const it=er.get(pt);if(!it&&pt===xr&&(0,$.aH)())return Wt();if(!it)throw Gt.create("no-app",{appName:pt});return it}function bn(){return Array.from(er.values())}function Pn(pt){return tr.apply(this,arguments)}function tr(){return(tr=(0,p.Z)(function*(pt){const it=pt.name;er.has(it)&&(er.delete(it),yield Promise.all(pt.container.getProviders().map(Nt=>Nt.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function gr(pt,it,Nt){var rn;let _n=null!==(rn=ci[pt])&&void 0!==rn?rn:pt;Nt&&(_n+=`-${Nt}`);const Un=_n.match(/\s|\//),Dn=it.match(/\s|\//);if(Un||Dn){const Ln=[`Unable to register library "${_n}" with version "${it}":`];return Un&&Ln.push(`library name "${_n}" contains illegal characters (whitespace or "/")`),Un&&Dn&&Ln.push("and"),Dn&&Ln.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void vr.warn(Ln.join(" "))}qe(new Z.wA(`${_n}-version`,()=>({library:_n,version:it}),"VERSION"))}function Tr(pt,it){if(null!==pt&&"function"!=typeof pt)throw Gt.create("invalid-log-argument");(0,K.Am)(pt,it)}function Dr(pt){(0,K.Ub)(pt)}const Ir="firebase-heartbeat-database",mr=1,Me="firebase-heartbeat-store";let De=null;function ie(){return De||(De=function Ue(pt,it,{blocked:Nt,upgrade:rn,blocking:_n,terminated:Un}={}){const Dn=indexedDB.open(pt,it),Ln=We(Dn);return rn&&Dn.addEventListener("upgradeneeded",Gn=>{rn(We(Dn.result),Gn.oldVersion,Gn.newVersion,We(Dn.transaction),Gn)}),Nt&&Dn.addEventListener("blocked",Gn=>Nt(Gn.oldVersion,Gn.newVersion,Gn)),Ln.then(Gn=>{Un&&Gn.addEventListener("close",()=>Un()),_n&&Gn.addEventListener("versionchange",Sr=>_n(Sr.oldVersion,Sr.newVersion,Sr))}).catch(()=>{}),Ln}(Ir,mr,{upgrade:(pt,it)=>{0===it&&pt.createObjectStore(Me)}}).catch(pt=>{throw Gt.create("idb-open",{originalErrorMessage:pt.message})})),De}function ee(){return(ee=(0,p.Z)(function*(pt){try{return yield(yield ie()).transaction(Me).objectStore(Me).get(_e(pt))}catch(it){if(it instanceof $.ZR)vr.warn(it.message);else{const Nt=Gt.create("idb-get",{originalErrorMessage:it?.message});vr.warn(Nt.message)}}})).apply(this,arguments)}function Fe(pt,it){return pe.apply(this,arguments)}function pe(){return(pe=(0,p.Z)(function*(pt,it){try{const rn=(yield ie()).transaction(Me,"readwrite");yield rn.objectStore(Me).put(it,_e(pt)),yield rn.done}catch(Nt){if(Nt instanceof $.ZR)vr.warn(Nt.message);else{const rn=Gt.create("idb-set",{originalErrorMessage:Nt?.message});vr.warn(rn.message)}}})).apply(this,arguments)}function _e(pt){return`${pt.name}!${pt.options.appId}`}class rt{constructor(it){this.container=it,this._heartbeatsCache=null;const Nt=this.container.getProvider("app").getImmediate();this._storage=new hn(Nt),this._heartbeatsCachePromise=this._storage.read().then(rn=>(this._heartbeatsCache=rn,rn))}triggerHeartbeat(){var it=this;return(0,p.Z)(function*(){const rn=it.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_n=At();if(null===it._heartbeatsCache&&(it._heartbeatsCache=yield it._heartbeatsCachePromise),it._heartbeatsCache.lastSentHeartbeatDate!==_n&&!it._heartbeatsCache.heartbeats.some(Un=>Un.date===_n))return it._heartbeatsCache.heartbeats.push({date:_n,agent:rn}),it._heartbeatsCache.heartbeats=it._heartbeatsCache.heartbeats.filter(Un=>{const Dn=new Date(Un.date).valueOf();return Date.now()-Dn<=2592e6}),it._storage.overwrite(it._heartbeatsCache)})()}getHeartbeatsHeader(){var it=this;return(0,p.Z)(function*(){if(null===it._heartbeatsCache&&(yield it._heartbeatsCachePromise),null===it._heartbeatsCache||0===it._heartbeatsCache.heartbeats.length)return"";const Nt=At(),{heartbeatsToSend:rn,unsentEntries:_n}=function dn(pt,it=1024){const Nt=[];let rn=pt.slice();for(const _n of pt){const Un=Nt.find(Dn=>Dn.agent===_n.agent);if(Un){if(Un.dates.push(_n.date),ir(Nt)>it){Un.dates.pop();break}}else if(Nt.push({agent:_n.agent,dates:[_n.date]}),ir(Nt)>it){Nt.pop();break}rn=rn.slice(1)}return{heartbeatsToSend:Nt,unsentEntries:rn}}(it._heartbeatsCache.heartbeats),Un=(0,$.L)(JSON.stringify({version:2,heartbeats:rn}));return it._heartbeatsCache.lastSentHeartbeatDate=Nt,_n.length>0?(it._heartbeatsCache.heartbeats=_n,yield it._storage.overwrite(it._heartbeatsCache)):(it._heartbeatsCache.heartbeats=[],it._storage.overwrite(it._heartbeatsCache)),Un})()}}function At(){return(new Date).toISOString().substring(0,10)}class hn{constructor(it){this.app=it,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,$.hl)()&&(0,$.eu)().then(()=>!0).catch(()=>!1)})()}read(){var it=this;return(0,p.Z)(function*(){return(yield it._canUseIndexedDBPromise)&&(yield function ce(pt){return ee.apply(this,arguments)}(it.app))||{heartbeats:[]}})()}overwrite(it){var Nt=this;return(0,p.Z)(function*(){var rn;if(yield Nt._canUseIndexedDBPromise){const Un=yield Nt.read();return Fe(Nt.app,{lastSentHeartbeatDate:null!==(rn=it.lastSentHeartbeatDate)&&void 0!==rn?rn:Un.lastSentHeartbeatDate,heartbeats:it.heartbeats})}})()}add(it){var Nt=this;return(0,p.Z)(function*(){var rn;if(yield Nt._canUseIndexedDBPromise){const Un=yield Nt.read();return Fe(Nt.app,{lastSentHeartbeatDate:null!==(rn=it.lastSentHeartbeatDate)&&void 0!==rn?rn:Un.lastSentHeartbeatDate,heartbeats:[...Un.heartbeats,...it.heartbeats]})}})()}}function ir(pt){return(0,$.L)(JSON.stringify({version:2,heartbeats:pt})).length}!function ii(pt){qe(new Z.wA("platform-logger",it=>new bt(it),"PRIVATE")),qe(new Z.wA("heartbeat",it=>new rt(it),"PRIVATE")),gr(zt,"0.9.13",pt),gr(zt,"0.9.13","esm2017"),gr("fire-js","")}("")},4859:(tn,st,L)=>{L.d(st,{H0:()=>je,wA:()=>K});var p=L(5861),Z=L(2090);class K{constructor(de,he,xe){this.name=de,this.instanceFactory=he,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const $="[DEFAULT]";class Le{constructor(de,he){this.name=de,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const he=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(he)){const xe=new Z.BH;if(this.instancesDeferred.set(he,xe),this.isInitialized(he)||this.shouldAutoInitialize())try{const Et=this.getOrInitializeService({instanceIdentifier:he});Et&&xe.resolve(Et)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(de){var he;const xe=this.normalizeInstanceIdentifier(de?.identifier),Et=null!==(he=de?.optional)&&void 0!==he&&he;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(Et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(He){if(Et)return null;throw He}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function Ye(Ve){return"EAGER"===Ve.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:$})}catch{}for(const[he,xe]of this.instancesDeferred.entries()){const Et=this.normalizeInstanceIdentifier(he);try{const He=this.getOrInitializeService({instanceIdentifier:Et});xe.resolve(He)}catch{}}}}clearInstance(de=$){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,p.Z)(function*(){const he=Array.from(de.instances.values());yield Promise.all([...he.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...he.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=$){return this.instances.has(de)}getOptions(de=$){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:he={}}=de,xe=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Et=this.getOrInitializeService({instanceIdentifier:xe,options:he});for(const[He,tt]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(He)&&tt.resolve(Et);return Et}onInit(de,he){var xe;const Et=this.normalizeInstanceIdentifier(he),He=null!==(xe=this.onInitCallbacks.get(Et))&&void 0!==xe?xe:new Set;He.add(de),this.onInitCallbacks.set(Et,He);const tt=this.instances.get(Et);return tt&&de(tt,Et),()=>{He.delete(de)}}invokeOnInitCallbacks(de,he){const xe=this.onInitCallbacks.get(he);if(xe)for(const Et of xe)try{Et(de,he)}catch{}}getOrInitializeService({instanceIdentifier:de,options:he={}}){let xe=this.instances.get(de);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=de,Ve===$?void 0:Ve),options:he}),this.instances.set(de,xe),this.instancesOptions.set(de,he),this.invokeOnInitCallbacks(xe,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,xe)}catch{}var Ve;return xe||null}normalizeInstanceIdentifier(de=$){return this.component?this.component.multipleInstances?de:$:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class je{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const he=this.getProvider(de.name);if(he.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);he.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const he=new Le(de,this);return this.providers.set(de,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(tn,st,L)=>{L.d(st,{Am:()=>Ve,Ub:()=>je,Yd:()=>Ye,in:()=>Z});const p=[];var Z=(()=>{return(de=Z||(Z={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",Z;var de})();const K={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},$=Z.INFO,Le={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},ke=(de,he,...xe)=>{if(he<de.logLevel)return;const Et=(new Date).toISOString(),He=Le[he];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[He](`[${Et}]  ${de.name}:`,...xe)};class Ye{constructor(he){this.name=he,this._logLevel=$,this._logHandler=ke,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in Z))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?K[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...he),this._logHandler(this,Z.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...he),this._logHandler(this,Z.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...he),this._logHandler(this,Z.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...he),this._logHandler(this,Z.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...he),this._logHandler(this,Z.ERROR,...he)}}function je(de){p.forEach(he=>{he.setLogLevel(de)})}function Ve(de,he){for(const xe of p){let Et=null;he&&he.level&&(Et=K[he.level]),xe.userLogHandler=null===de?null:(He,tt,..._t)=>{const Qe=_t.map(dt=>{if(null==dt)return null;if("string"==typeof dt)return dt;if("number"==typeof dt||"boolean"==typeof dt)return dt.toString();if(dt instanceof Error)return dt.message;try{return JSON.stringify(dt)}catch{return null}}).filter(dt=>dt).join(" ");tt>=(Et??He.logLevel)&&de({level:Z[tt].toLowerCase(),message:Qe,args:_t,type:He.name})}}}},259:(tn,st,L)=>{L.d(st,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=L(6881);(0,p.registerVersion)("firebase","9.23.0","app")},9260:(tn,st,L)=>{L.d(st,{Z:()=>p.Z});var p=L(3942);p.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(tn,st,L)=>{L.r(st);var p=L(5861),Z=L(3942),K=L(1389),$=L(2090),Ye=(L(6881),L(1877),L(4859));function je(){return window}const Ve=2e3;function he(){return he=(0,p.Z)(function*(ie,ce,ee){var Fe;const{BuildInfo:pe}=je();(0,K.as)(ce.sessionId,"AuthEvent did not contain a session ID");const _e=yield function dt(ie){return Ie.apply(this,arguments)}(ce.sessionId),le={};return(0,K.at)()?le.ibi=pe.packageName:(0,K.au)()?le.apn=pe.packageName:(0,K.av)(ie,"operation-not-supported-in-this-environment"),pe.displayName&&(le.appDisplayName=pe.displayName),le.sessionId=_e,(0,K.aw)(ie,ee,ce.type,void 0,null!==(Fe=ce.eventId)&&void 0!==Fe?Fe:void 0,le)}),he.apply(this,arguments)}function Et(){return(Et=(0,p.Z)(function*(ie){const{BuildInfo:ce}=je(),ee={};(0,K.at)()?ee.iosBundleId=ce.packageName:(0,K.au)()?ee.androidPackageName=ce.packageName:(0,K.av)(ie,"operation-not-supported-in-this-environment"),yield(0,K.ax)(ie,ee)})).apply(this,arguments)}function _t(){return(_t=(0,p.Z)(function*(ie,ce,ee){const{cordova:Fe}=je();let pe=()=>{};try{yield new Promise((_e,le)=>{let Se=null;function rt(){var hn;_e();const ir=null===(hn=Fe.plugins.browsertab)||void 0===hn?void 0:hn.close;"function"==typeof ir&&ir(),"function"==typeof ee?.close&&ee.close()}function At(){Se||(Se=window.setTimeout(()=>{le((0,K.az)(ie,"redirect-cancelled-by-user"))},Ve))}function dn(){"visible"===document?.visibilityState&&At()}ce.addPassiveListener(rt),document.addEventListener("resume",At,!1),(0,K.au)()&&document.addEventListener("visibilitychange",dn,!1),pe=()=>{ce.removePassiveListener(rt),document.removeEventListener("resume",At,!1),document.removeEventListener("visibilitychange",dn,!1),Se&&window.clearTimeout(Se)}})}finally{pe()}})).apply(this,arguments)}function Ie(){return(Ie=(0,p.Z)(function*(ie){const ce=function Rt(ie){if((0,K.as)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ie);const ce=new ArrayBuffer(ie.length),ee=new Uint8Array(ce);for(let Fe=0;Fe<ie.length;Fe++)ee[Fe]=ie.charCodeAt(Fe);return ee}(ie),ee=yield crypto.subtle.digest("SHA-256",ce);return Array.from(new Uint8Array(ee)).map(pe=>pe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const We=20;class fe extends K.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ce=>{this.resolveInialized=ce})}addPassiveListener(ce){this.passiveListeners.add(ce)}removePassiveListener(ce){this.passiveListeners.delete(ce)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ce){return this.resolveInialized(),this.passiveListeners.forEach(ee=>ee(ce)),super.onEvent(ce)}initialized(){var ce=this;return(0,p.Z)(function*(){yield ce.initPromise})()}}function vt(ie){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,p.Z)(function*(ie){const ce=yield bt()._get(gn(ie));return ce&&(yield bt()._remove(gn(ie))),ce})).apply(this,arguments)}function xt(){const ie=[],ce="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ee=0;ee<We;ee++){const Fe=Math.floor(Math.random()*ce.length);ie.push(ce.charAt(Fe))}return ie.join("")}function bt(){return(0,K.aC)(K.b)}function gn(ie){return(0,K.aD)("authEvent",ie.config.apiKey,ie.name)}function vr(ie){if(!ie?.includes("?"))return{};const[ce,...ee]=ie.split("?");return(0,$.zd)(ee.join("?"))}const ge=class Zt{constructor(){this._redirectPersistence=K.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=K.aE,this._overrideRedirectResult=K.aF}_initialize(ce){var ee=this;return(0,p.Z)(function*(){const Fe=ce._key();let pe=ee.eventManagers.get(Fe);return pe||(pe=new fe(ce),ee.eventManagers.set(Fe,pe),ee.attachCallbackListeners(ce,pe)),pe})()}_openPopup(ce){(0,K.av)(ce,"operation-not-supported-in-this-environment")}_openRedirect(ce,ee,Fe,pe){var _e=this;return(0,p.Z)(function*(){!function Qe(ie){var ce,ee,Fe,pe,_e,le,Se,rt,At,dn;const hn=je();(0,K.aA)("function"==typeof(null===(ce=hn?.universalLinks)||void 0===ce?void 0:ce.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,K.aA)(typeof(null===(ee=hn?.BuildInfo)||void 0===ee?void 0:ee.packageName)<"u",ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,K.aA)("function"==typeof(null===(_e=null===(pe=null===(Fe=hn?.cordova)||void 0===Fe?void 0:Fe.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===_e?void 0:_e.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aA)("function"==typeof(null===(rt=null===(Se=null===(le=hn?.cordova)||void 0===le?void 0:le.plugins)||void 0===Se?void 0:Se.browsertab)||void 0===rt?void 0:rt.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aA)("function"==typeof(null===(dn=null===(At=hn?.cordova)||void 0===At?void 0:At.InAppBrowser)||void 0===dn?void 0:dn.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ce);const le=yield _e._initialize(ce);yield le.initialized(),le.resetRedirect(),(0,K.aG)(),yield _e._originValidation(ce);const Se=function Ue(ie,ce,ee=null){return{type:ce,eventId:ee,urlResponse:null,sessionId:xt(),postBody:null,tenantId:ie.tenantId,error:(0,K.az)(ie,"no-auth-event")}}(ce,Fe,pe);yield function ht(ie,ce){return bt()._set(gn(ie),ce)}(ce,Se);const rt=yield function de(ie,ce,ee){return he.apply(this,arguments)}(ce,Se,ee),At=yield function He(ie){const{cordova:ce}=je();return new Promise(ee=>{ce.plugins.browsertab.isAvailable(Fe=>{let pe=null;Fe?ce.plugins.browsertab.openUrl(ie):pe=ce.InAppBrowser.open(ie,(0,K.ay)()?"_blank":"_system","location=yes"),ee(pe)})})}(rt);return function tt(ie,ce,ee){return _t.apply(this,arguments)}(ce,le,At)})()}_isIframeWebStorageSupported(ce,ee){throw new Error("Method not implemented.")}_originValidation(ce){const ee=ce._key();return this.originValidationPromises[ee]||(this.originValidationPromises[ee]=function xe(ie){return Et.apply(this,arguments)}(ce)),this.originValidationPromises[ee]}attachCallbackListeners(ce,ee){const{universalLinks:Fe,handleOpenURL:pe,BuildInfo:_e}=je(),le=setTimeout((0,p.Z)(function*(){yield vt(ce),ee.onEvent(ye())}),500),Se=function(){var dn=(0,p.Z)(function*(hn){clearTimeout(le);const ir=yield vt(ce);let ii=null;ir&&hn?.url&&(ii=function Ft(ie,ce){var ee,Fe;const pe=function wr(ie){const ce=vr(ie),ee=ce.link?decodeURIComponent(ce.link):void 0,Fe=vr(ee).link,pe=ce.deep_link_id?decodeURIComponent(ce.deep_link_id):void 0;return vr(pe).link||pe||Fe||ee||ie}(ce);if(pe.includes("/__/auth/callback")){const _e=vr(pe),le=_e.firebaseError?function zt(ie){try{return JSON.parse(ie)}catch{return null}}(decodeURIComponent(_e.firebaseError)):null,Se=null===(Fe=null===(ee=le?.code)||void 0===ee?void 0:ee.split("auth/"))||void 0===Fe?void 0:Fe[1],rt=Se?(0,K.az)(Se):null;return rt?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:rt,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:pe,postBody:null}}return null}(ir,hn.url)),ee.onEvent(ii||ye())});return function(ir){return dn.apply(this,arguments)}}();typeof Fe<"u"&&"function"==typeof Fe.subscribe&&Fe.subscribe(null,Se);const rt=pe,At=`${_e.packageName.toLowerCase()}://`;je().handleOpenURL=function(){var dn=(0,p.Z)(function*(hn){if(hn.toLowerCase().startsWith(At)&&Se({url:hn}),"function"==typeof rt)try{rt(hn)}catch(ir){console.error(ir)}});return function(hn){return dn.apply(this,arguments)}}()}};function ye(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,K.az)("no-auth-event")}}const mt=1e3;function Lt(){var ie;return(null===(ie=self?.location)||void 0===ie?void 0:ie.protocol)||null}function ln(ie=(0,$.z$)()){return!("file:"!==Lt()&&"ionic:"!==Lt()&&"capacitor:"!==Lt()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qn(){try{const ie=self.localStorage,ce=K.aL();if(ie)return ie.setItem(ce,"1"),ie.removeItem(ce),!function zn(ie=(0,$.z$)()){return function an(){return(0,$.w1)()&&11===document?.documentMode}()||function nr(ie=(0,$.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,$.hl)()}catch{return hr()&&(0,$.hl)()}return!1}function hr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pr(){return(function Dt(){return"http:"===Lt()||"https:"===Lt()}()||(0,$.ru)()||ln())&&!function yn(){return(0,$.b$)()||(0,$.UG)()}()&&Qn()&&!hr()}function ur(){return ln()&&typeof document<"u"}function wn(){return(wn=(0,p.Z)(function*(){return!!ur()&&new Promise(ie=>{const ce=setTimeout(()=>{ie(!1)},mt);document.addEventListener("deviceready",()=>{clearTimeout(ce),ie(!0)})})})).apply(this,arguments)}const xn={LOCAL:"local",NONE:"none",SESSION:"session"},Cr=K.aA,Or="persistence";function ci(ie){return er.apply(this,arguments)}function er(){return(er=(0,p.Z)(function*(ie){yield ie._initializationPromise;const ce=J(),ee=K.aD(Or,ie.config.apiKey,ie.name);ce&&ce.setItem(ee,ie._getPersistence())})).apply(this,arguments)}function J(){var ie;try{return(null===(ie=function $t(){return typeof window<"u"?window:null}())||void 0===ie?void 0:ie.sessionStorage)||null}catch{return null}}const Ne=K.aA;class qe{constructor(){this.browserResolver=K.aC(K.k),this.cordovaResolver=K.aC(ge),this.underlyingResolver=null,this._redirectPersistence=K.a,this._completeRedirectFn=K.aE,this._overrideRedirectResult=K.aF}_initialize(ce){var ee=this;return(0,p.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._initialize(ce)})()}_openPopup(ce,ee,Fe,pe){var _e=this;return(0,p.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openPopup(ce,ee,Fe,pe)})()}_openRedirect(ce,ee,Fe,pe){var _e=this;return(0,p.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openRedirect(ce,ee,Fe,pe)})()}_isIframeWebStorageSupported(ce,ee){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ce,ee)}_originValidation(ce){return this.assertedUnderlyingResolver._originValidation(ce)}get _shouldInitProactively(){return ur()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ne(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ce=this;return(0,p.Z)(function*(){if(ce.underlyingResolver)return;const ee=yield function Rr(){return wn.apply(this,arguments)}();ce.underlyingResolver=ee?ce.cordovaResolver:ce.browserResolver})()}}function ot(ie){return ie.unwrap()}function kt(ie){return Gt(ie)}function Gt(ie){const{_tokenResponse:ce}=ie instanceof $.ZR?ie.customData:ie;if(!ce)return null;if(!(ie instanceof $.ZR)&&"temporaryProof"in ce&&"phoneNumber"in ce)return K.P.credentialFromResult(ie);const ee=ce.providerId;if(!ee||ee===K.p.PASSWORD)return null;let Fe;switch(ee){case K.p.GOOGLE:Fe=K.V;break;case K.p.FACEBOOK:Fe=K.U;break;case K.p.GITHUB:Fe=K.W;break;case K.p.TWITTER:Fe=K.Z;break;default:const{oauthIdToken:pe,oauthAccessToken:_e,oauthTokenSecret:le,pendingToken:Se,nonce:rt}=ce;return _e||le||pe||Se?Se?ee.startsWith("saml.")?K.aO._create(ee,Se):K.L._fromParams({providerId:ee,signInMethod:ee,pendingToken:Se,idToken:pe,accessToken:_e}):new K.X(ee).credential({idToken:pe,accessToken:_e,rawNonce:rt}):null}return ie instanceof $.ZR?Fe.credentialFromError(ie):Fe.credentialFromResult(ie)}function Bt(ie,ce){return ce.catch(ee=>{throw ee instanceof $.ZR&&function Ht(ie,ce){var ee;const Fe=null===(ee=ce.customData)||void 0===ee?void 0:ee._tokenResponse;if("auth/multi-factor-auth-required"===ce?.code)ce.resolver=new lr(ie,K.aq(ie,ce));else if(Fe){const pe=Gt(ce),_e=ce;pe&&(_e.credential=pe,_e.tenantId=Fe.tenantId||void 0,_e.email=Fe.email||void 0,_e.phoneNumber=Fe.phoneNumber||void 0)}}(ie,ee),ee}).then(ee=>{const pe=ee.user;return{operationType:ee.operationType,credential:kt(ee),additionalUserInfo:K.ao(ee),user:bn.getOrCreate(pe)}})}function cn(ie,ce){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,p.Z)(function*(ie,ce){const ee=yield ce;return{verificationId:ee.verificationId,confirm:Fe=>Bt(ie,ee.confirm(Fe))}})).apply(this,arguments)}class lr{constructor(ce,ee){this.resolver=ee,this.auth=function yt(ie){return ie.wrapped()}(ce)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ce){return Bt(ot(this.auth),this.resolver.resolveSignIn(ce))}}class bn{constructor(ce){this._delegate=ce,this.multiFactor=K.ar(ce)}static getOrCreate(ce){return bn.USER_MAP.has(ce)||bn.USER_MAP.set(ce,new bn(ce)),bn.USER_MAP.get(ce)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ce){return this._delegate.getIdTokenResult(ce)}getIdToken(ce){return this._delegate.getIdToken(ce)}linkAndRetrieveDataWithCredential(ce){return this.linkWithCredential(ce)}linkWithCredential(ce){var ee=this;return(0,p.Z)(function*(){return Bt(ee.auth,K.a0(ee._delegate,ce))})()}linkWithPhoneNumber(ce,ee){var Fe=this;return(0,p.Z)(function*(){return cn(Fe.auth,K.l(Fe._delegate,ce,ee))})()}linkWithPopup(ce){var ee=this;return(0,p.Z)(function*(){return Bt(ee.auth,K.d(ee._delegate,ce,qe))})()}linkWithRedirect(ce){var ee=this;return(0,p.Z)(function*(){return yield ci(K.aH(ee.auth)),K.g(ee._delegate,ce,qe)})()}reauthenticateAndRetrieveDataWithCredential(ce){return this.reauthenticateWithCredential(ce)}reauthenticateWithCredential(ce){var ee=this;return(0,p.Z)(function*(){return Bt(ee.auth,K.a1(ee._delegate,ce))})()}reauthenticateWithPhoneNumber(ce,ee){return cn(this.auth,K.r(this._delegate,ce,ee))}reauthenticateWithPopup(ce){return Bt(this.auth,K.e(this._delegate,ce,qe))}reauthenticateWithRedirect(ce){var ee=this;return(0,p.Z)(function*(){return yield ci(K.aH(ee.auth)),K.h(ee._delegate,ce,qe)})()}sendEmailVerification(ce){return K.ae(this._delegate,ce)}unlink(ce){var ee=this;return(0,p.Z)(function*(){return yield K.an(ee._delegate,ce),ee})()}updateEmail(ce){return K.aj(this._delegate,ce)}updatePassword(ce){return K.ak(this._delegate,ce)}updatePhoneNumber(ce){return K.u(this._delegate,ce)}updateProfile(ce){return K.ai(this._delegate,ce)}verifyBeforeUpdateEmail(ce,ee){return K.af(this._delegate,ce,ee)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bn.USER_MAP=new WeakMap;const Pn=K.aA;let tr=(()=>{class ie{constructor(ee,Fe){if(this.app=ee,Fe.isInitialized())return this._delegate=Fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:pe}=ee.options;Pn(pe,"invalid-api-key",{appName:ee.name}),Pn(pe,"invalid-api-key",{appName:ee.name});const _e=typeof window<"u"?qe:void 0;this._delegate=Fe.initialize({options:{persistence:Tr(pe,ee.name),popupRedirectResolver:_e}}),this._delegate._updateErrorMap(K.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ee){this._delegate.languageCode=ee}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ee){this._delegate.tenantId=ee}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ee,Fe){K.I(this._delegate,ee,Fe)}applyActionCode(ee){return K.a5(this._delegate,ee)}checkActionCode(ee){return K.a6(this._delegate,ee)}confirmPasswordReset(ee,Fe){return K.a4(this._delegate,ee,Fe)}createUserWithEmailAndPassword(ee,Fe){var pe=this;return(0,p.Z)(function*(){return Bt(pe._delegate,K.a8(pe._delegate,ee,Fe))})()}fetchProvidersForEmail(ee){return this.fetchSignInMethodsForEmail(ee)}fetchSignInMethodsForEmail(ee){return K.ad(this._delegate,ee)}isSignInWithEmailLink(ee){return K.ab(this._delegate,ee)}getRedirectResult(){var ee=this;return(0,p.Z)(function*(){Pn(pr(),ee._delegate,"operation-not-supported-in-this-environment");const Fe=yield K.j(ee._delegate,qe);return Fe?Bt(ee._delegate,Promise.resolve(Fe)):{credential:null,user:null}})()}addFrameworkForLogging(ee){!function Ae(ie,ce){(0,K.aH)(ie)._logFramework(ce)}(this._delegate,ee)}onAuthStateChanged(ee,Fe,pe){const{next:_e,error:le,complete:Se}=gr(ee,Fe,pe);return this._delegate.onAuthStateChanged(_e,le,Se)}onIdTokenChanged(ee,Fe,pe){const{next:_e,error:le,complete:Se}=gr(ee,Fe,pe);return this._delegate.onIdTokenChanged(_e,le,Se)}sendSignInLinkToEmail(ee,Fe){return K.aa(this._delegate,ee,Fe)}sendPasswordResetEmail(ee,Fe){return K.a3(this._delegate,ee,Fe||void 0)}setPersistence(ee){var Fe=this;return(0,p.Z)(function*(){let pe;switch(function xr(ie,ce){Cr(Object.values(xn).includes(ce),ie,"invalid-persistence-type"),(0,$.b$)()?Cr(ce!==xn.SESSION,ie,"unsupported-persistence-type"):(0,$.UG)()?Cr(ce===xn.NONE,ie,"unsupported-persistence-type"):hr()?Cr(ce===xn.NONE||ce===xn.LOCAL&&(0,$.hl)(),ie,"unsupported-persistence-type"):Cr(ce===xn.NONE||Qn(),ie,"unsupported-persistence-type")}(Fe._delegate,ee),ee){case xn.SESSION:pe=K.a;break;case xn.LOCAL:pe=(yield K.aC(K.i)._isAvailable())?K.i:K.b;break;case xn.NONE:pe=K.N;break;default:return K.av("argument-error",{appName:Fe._delegate.name})}return Fe._delegate.setPersistence(pe)})()}signInAndRetrieveDataWithCredential(ee){return this.signInWithCredential(ee)}signInAnonymously(){return Bt(this._delegate,K._(this._delegate))}signInWithCredential(ee){return Bt(this._delegate,K.$(this._delegate,ee))}signInWithCustomToken(ee){return Bt(this._delegate,K.a2(this._delegate,ee))}signInWithEmailAndPassword(ee,Fe){return Bt(this._delegate,K.a9(this._delegate,ee,Fe))}signInWithEmailLink(ee,Fe){return Bt(this._delegate,K.ac(this._delegate,ee,Fe))}signInWithPhoneNumber(ee,Fe){return cn(this._delegate,K.s(this._delegate,ee,Fe))}signInWithPopup(ee){var Fe=this;return(0,p.Z)(function*(){return Pn(pr(),Fe._delegate,"operation-not-supported-in-this-environment"),Bt(Fe._delegate,K.c(Fe._delegate,ee,qe))})()}signInWithRedirect(ee){var Fe=this;return(0,p.Z)(function*(){return Pn(pr(),Fe._delegate,"operation-not-supported-in-this-environment"),yield ci(Fe._delegate),K.f(Fe._delegate,ee,qe)})()}updateCurrentUser(ee){return this._delegate.updateCurrentUser(ee)}verifyPasswordResetCode(ee){return K.a7(this._delegate,ee)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=xn,ie})();function gr(ie,ce,ee){let Fe=ie;"function"!=typeof ie&&({next:Fe,error:ce,complete:ee}=ie);const pe=Fe;return{next:le=>pe(le&&bn.getOrCreate(le)),error:ce,complete:ee}}function Tr(ie,ce){const ee=function An(ie,ce){const ee=J();if(!ee)return[];const Fe=K.aD(Or,ie,ce);switch(ee.getItem(Fe)){case xn.NONE:return[K.N];case xn.LOCAL:return[K.i,K.a];case xn.SESSION:return[K.a];default:return[]}}(ie,ce);if(typeof self<"u"&&!ee.includes(K.i)&&ee.push(K.i),typeof window<"u")for(const Fe of[K.b,K.a])ee.includes(Fe)||ee.push(Fe);return ee.includes(K.N)||ee.push(K.N),ee}class Dr{constructor(){this.providerId="phone",this._delegate=new K.P(ot(Z.Z.auth()))}static credential(ce,ee){return K.P.credential(ce,ee)}verifyPhoneNumber(ce,ee){return this._delegate.verifyPhoneNumber(ce,ee)}unwrap(){return this._delegate}}Dr.PHONE_SIGN_IN_METHOD=K.P.PHONE_SIGN_IN_METHOD,Dr.PROVIDER_ID=K.P.PROVIDER_ID;const Ir=K.aA;class mr{constructor(ce,ee,Fe=Z.Z.app()){var pe;Ir(null===(pe=Fe.options)||void 0===pe?void 0:pe.apiKey,"invalid-api-key",{appName:Fe.name}),this._delegate=new K.R(ce,ee,Fe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function De(ie){ie.INTERNAL.registerComponent(new Ye.wA("auth-compat",ce=>{const ee=ce.getProvider("app-compat").getImmediate(),Fe=ce.getProvider("auth");return new tr(ee,Fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K.A.EMAIL_SIGNIN,PASSWORD_RESET:K.A.PASSWORD_RESET,RECOVER_EMAIL:K.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K.A.VERIFY_EMAIL}},EmailAuthProvider:K.Q,FacebookAuthProvider:K.U,GithubAuthProvider:K.W,GoogleAuthProvider:K.V,OAuthProvider:K.X,SAMLAuthProvider:K.Y,PhoneAuthProvider:Dr,PhoneMultiFactorGenerator:K.m,RecaptchaVerifier:mr,TwitterAuthProvider:K.Z,Auth:tr,AuthCredential:K.J,Error:$.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.4.2")}(Z.Z)},2381:(tn,st,L)=>{L.d(st,{oj:()=>je});var p=L(4650),Z=L(1607),K=L(8664),$=L(6895);class ke{constructor(de,he,xe){this.nodes=de,this.viewRef=he,this.componentRef=xe}}class Ye{constructor(de,he,xe,Et,He,tt,_t,Qe,dt){this._viewContainerRef=de,this._renderer=he,this._elementRef=xe,this._injector=Et,this._componentFactoryResolver=He,this._ngZone=tt,this._applicationRef=_t,this._posService=Qe,this._document=dt,this.onBeforeShow=new p.vpe,this.onShown=new p.vpe,this.onBeforeHide=new p.vpe,this.onHidden=new p.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(de){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(de),this}to(de){return this.container=de||this.container,this}position(de){return de?(this.attachment=de.attachment||this.attachment,this._elementRef=de.target||this._elementRef,this):this}provide(de){return this._providers.push(de),this}show(de={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(de.content,de.context,de.initialState);const he=p.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(he,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,de),this.container instanceof p.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const xe=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!xe)return;xe.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(de.id?{id:de.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(de){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const he=this._componentRef.location.nativeElement;return he.parentNode?.removeChild(he),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(de?{id:de}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(de){this.triggers=de.triggers||this.triggers,this._listenOpts.outsideClick=de.outsideClick,this._listenOpts.outsideEsc=de.outsideEsc,de.target=de.target||this._elementRef?.nativeElement;const he=this._listenOpts.hide=()=>de.hide?de.hide():void this.hide(),xe=this._listenOpts.show=He=>{de.show?de.show(He):this.show(He),He()};return this._renderer&&(this._unregisterListenersFn=(0,Z.wo)(this._renderer,{target:de.target,triggers:de.triggers,show:xe,hide:he,toggle:He=>{this.isShown?he():xe(He)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(de,he){return de&&he&&(this._inlineViewRef=de.createEmbeddedView(he)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const de=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,Z.Rg)(this._renderer,{targets:[de,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,Z.C)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(de,he,xe){if(!de)return new ke([]);if(de instanceof p.Rgc){if(this._viewContainerRef){const tt=this._viewContainerRef.createEmbeddedView(de,he);return tt.markForCheck(),new ke([tt.rootNodes],tt)}const He=de.createEmbeddedView({});return this._applicationRef.attachView(He),new ke([He.rootNodes],He)}if("function"==typeof de){const He=this._componentFactoryResolver.resolveComponentFactory(de),tt=p.zs3.create({providers:this._providers,parent:this._injector}),_t=He.create(tt);return Object.assign(_t.instance,xe),this._applicationRef.attachView(_t.hostView),new ke([[_t.location.nativeElement]],_t.hostView,_t)}const Et=this._renderer?[this._renderer.createText(`${de}`)]:[];return new ke([Et])}}let je=(()=>{class Ve{constructor(he,xe,Et,He,tt,_t){this._componentFactoryResolver=he,this._ngZone=xe,this._injector=Et,this._posService=He,this._applicationRef=tt,this._document=_t}createLoader(he,xe,Et){return new Ye(xe,Et,he,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}return Ve.\u0275fac=function(he){return new(he||Ve)(p.LFG(p._Vd),p.LFG(p.R0b),p.LFG(p.zs3),p.LFG(K.sA),p.LFG(p.z2F),p.LFG($.K0))},Ve.\u0275prov=p.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})()},8664:(tn,st,L)=>{L.d(st,{Bz:()=>Qe,sA:()=>er});var p=L(1607),Z=L(4650),K=L(6895),$=L(7579),Le=L(6451),ke=L(4968),Ye=L(9646),je=L(4408),Ve=L(727);const de={schedule(J){let Ne=requestAnimationFrame,qe=cancelAnimationFrame;const{delegate:ot}=de;ot&&(Ne=ot.requestAnimationFrame,qe=ot.cancelAnimationFrame);const yt=Ne(kt=>{qe=void 0,J(kt)});return new Ve.w0(()=>qe?.(yt))},requestAnimationFrame(...J){const{delegate:Ne}=de;return(Ne?.requestAnimationFrame||requestAnimationFrame)(...J)},cancelAnimationFrame(...J){const{delegate:Ne}=de;return(Ne?.cancelAnimationFrame||cancelAnimationFrame)(...J)},delegate:void 0};var xe=L(7565);const He=new class Et extends xe.v{flush(Ne){this._active=!0;const qe=this._scheduled;this._scheduled=void 0;const{actions:ot}=this;let yt;Ne=Ne||ot.shift();do{if(yt=Ne.execute(Ne.state,Ne.delay))break}while((Ne=ot[0])&&Ne.id===qe&&ot.shift());if(this._active=!1,yt){for(;(Ne=ot[0])&&Ne.id===qe&&ot.shift();)Ne.unsubscribe();throw yt}}}(class he extends je.o{constructor(Ne,qe){super(Ne,qe),this.scheduler=Ne,this.work=qe}requestAsyncId(Ne,qe,ot=0){return null!==ot&&ot>0?super.requestAsyncId(Ne,qe,ot):(Ne.actions.push(this),Ne._scheduled||(Ne._scheduled=de.requestAnimationFrame(()=>Ne.flush(void 0))))}recycleAsyncId(Ne,qe,ot=0){var yt;if(null!=ot?ot>0:this.delay>0)return super.recycleAsyncId(Ne,qe,ot);const{actions:kt}=Ne;null!=qe&&(null===(yt=kt[kt.length-1])||void 0===yt?void 0:yt.id)!==qe&&(de.cancelAnimationFrame(qe),Ne._scheduled=void 0)}});var _t=(()=>{return(J=_t||(_t={})).top="top",J.bottom="bottom",J.left="left",J.right="right",J.auto="auto",J.end="right",J.start="left",J["top left"]="top left",J["top right"]="top right",J["right top"]="right top",J["right bottom"]="right bottom",J["bottom right"]="bottom right",J["bottom left"]="bottom left",J["left bottom"]="left bottom",J["left top"]="left top",J["top start"]="top left",J["top end"]="top right",J["end top"]="right top",J["end bottom"]="right bottom",J["bottom end"]="bottom right",J["bottom start"]="bottom left",J["start bottom"]="start bottom",J["start top"]="left top",_t;var J})(),Qe=(()=>{return(J=Qe||(Qe={})).top="top",J.bottom="bottom",J.left="start",J.right="end",J.auto="auto",J.end="end",J.start="start",J["top left"]="top start",J["top right"]="top end",J["right top"]="end top",J["right bottom"]="end bottom",J["bottom right"]="bottom end",J["bottom left"]="bottom start",J["left bottom"]="start bottom",J["left top"]="start top",J["top start"]="top start",J["top end"]="top end",J["end top"]="end top",J["end bottom"]="end bottom",J["bottom end"]="bottom end",J["bottom start"]="bottom start",J["start bottom"]="start bottom",J["start top"]="start top",Qe;var J})();function dt(J,Ne){if(1!==J.nodeType)return[];const ot=J.ownerDocument.defaultView?.getComputedStyle(J,null);return Ne?ot&&ot[Ne]:ot}function Ie(J){if(!J)return document.documentElement;let ot,qe=J?.offsetParent;for(;null===qe&&J.nextElementSibling&&ot!==J.nextElementSibling;)ot=J.nextElementSibling,qe=ot.offsetParent;const yt=qe&&qe.nodeName;return yt&&"BODY"!==yt&&"HTML"!==yt?qe&&-1!==["TH","TD","TABLE"].indexOf(qe.nodeName)&&"static"===dt(qe,"position")?Ie(qe):qe:ot?ot.ownerDocument.documentElement:document.documentElement}function We(J){return null!==J.parentNode?We(J.parentNode):J}function fe(J,Ne){if(!(J&&J.nodeType&&Ne&&Ne.nodeType))return document.documentElement;const qe=J.compareDocumentPosition(Ne)&Node.DOCUMENT_POSITION_FOLLOWING,ot=qe?J:Ne,yt=qe?Ne:J,kt=document.createRange();kt.setStart(ot,0),kt.setEnd(yt,0);const Ht=kt.commonAncestorContainer;if(J!==Ht&&Ne!==Ht||ot.contains(yt))return function Rt(J){const{nodeName:Ne}=J;return"BODY"!==Ne&&("HTML"===Ne||Ie(J.firstElementChild)===J)}(Ht)?Ht:Ie(Ht);const Gt=We(J);return Gt.host?fe(Gt.host,Ne):fe(J,We(Ne).host)}function Ue(J){if(!J||!J.parentElement)return document.documentElement;let Ne=J.parentElement;for(;Ne?.parentElement&&"none"===dt(Ne,"transform");)Ne=Ne.parentElement;return Ne||document.documentElement}function ht(J,Ne){const qe="x"===Ne?"Left":"Top",ot="Left"===qe?"Right":"Bottom";return parseFloat(J[`border${qe}Width`])+parseFloat(J[`border${ot}Width`])}function vt(J,Ne,qe,ot){return Math.max(Ne[`offset${J}`],Ne[`scroll${J}`],qe[`client${J}`],qe[`offset${J}`],qe[`scroll${J}`],0)}function Ee(J){const Ne=J.body,qe=J.documentElement;return{height:vt("Height",Ne,qe),width:vt("Width",Ne,qe)}}function Ft(J){return{...J,right:(J.left||0)+J.width,bottom:(J.top||0)+J.height}}function bt(J){return"number"==typeof J||"[object Number]"===Object.prototype.toString.call(J)}function gn(J){const Ne=J.getBoundingClientRect();if(!(Ne&&bt(Ne.top)&&bt(Ne.left)&&bt(Ne.bottom)&&bt(Ne.right)))return Ne;const qe={left:Ne.left,top:Ne.top,width:Ne.right-Ne.left,height:Ne.bottom-Ne.top},ot="HTML"===J.nodeName?Ee(J.ownerDocument):void 0,yt=ot?.width||J.clientWidth||bt(Ne.right)&&bt(qe.left)&&Ne.right-qe.left||0,kt=ot?.height||J.clientHeight||bt(Ne.bottom)&&bt(qe.top)&&Ne.bottom-qe.top||0;let Ht=J.offsetWidth-yt,Gt=J.offsetHeight-kt;if(Ht||Gt){const Bt=dt(J);Ht-=ht(Bt,"x"),Gt-=ht(Bt,"y"),qe.width-=Ht,qe.height-=Gt}return Ft(qe)}function zt(J){return"HTML"===J.nodeName?J:J.parentNode||J.host}function wr(J){if(!J)return document.body;switch(J.nodeName){case"HTML":case"BODY":return J.ownerDocument.body;case"#document":return J.body}const{overflow:Ne,overflowX:qe,overflowY:ot}=dt(J);return/(auto|scroll|overlay)/.test(String(Ne)+String(ot)+String(qe))?J:wr(zt(J))}function vr(J,Ne,qe=!1){const ot="HTML"===Ne.nodeName,yt=gn(J),kt=gn(Ne),Gt=(wr(J),dt(Ne)),Bt=parseFloat(Gt.borderTopWidth),cn=parseFloat(Gt.borderLeftWidth);qe&&ot&&(kt.top=Math.max(kt.top??0,0),kt.left=Math.max(kt.left??0,0));const Wt=Ft({top:(yt.top??0)-(kt.top??0)-Bt,left:(yt.left??0)-(kt.left??0)-cn,width:yt.width,height:yt.height});if(Wt.marginTop=0,Wt.marginLeft=0,ot){const lr=parseFloat(Gt.marginTop),bn=parseFloat(Gt.marginLeft);bt(Wt.top)&&(Wt.top-=Bt-lr),bt(Wt.bottom)&&(Wt.bottom-=Bt-lr),bt(Wt.left)&&(Wt.left-=cn-bn),bt(Wt.right)&&(Wt.right-=cn-bn),Wt.marginTop=lr,Wt.marginLeft=bn}return Wt}function Fn(J,Ne="top"){const qe="top"===Ne?"scrollTop":"scrollLeft",ot=J.nodeName;return"BODY"===ot||"HTML"===ot?(J.ownerDocument.scrollingElement||J.ownerDocument.documentElement)[qe]:J[qe]}function ge(J){const Ne=J.nodeName;return"BODY"!==Ne&&"HTML"!==Ne&&("fixed"===dt(J,"position")||ge(zt(J)))}function ye(J,Ne,qe=0,ot,yt=!1){let kt={top:0,left:0};const Ht=yt?Ue(J):fe(J,Ne);if("viewport"===ot)kt=function Zt(J,Ne=!1){const qe=J.ownerDocument.documentElement,ot=vr(J,qe),yt=Math.max(qe.clientWidth,window.innerWidth||0),kt=Math.max(qe.clientHeight,window.innerHeight||0),Ht=Ne?0:Fn(qe),Gt=Ne?0:Fn(qe,"left");return Ft({top:Ht-Number(ot?.top)+Number(ot?.marginTop),left:Gt-Number(ot?.left)+Number(ot?.marginLeft),width:yt,height:kt})}(Ht,yt);else{let Gt;"scrollParent"===ot?(Gt=wr(zt(Ne)),"BODY"===Gt.nodeName&&(Gt=J.ownerDocument.documentElement)):Gt="window"===ot?J.ownerDocument.documentElement:ot;const Bt=vr(Gt,Ht,yt);if(Bt&&"HTML"===Gt.nodeName&&!ge(Ht)){const{height:cn,width:Wt}=Ee(J.ownerDocument);bt(kt.top)&&bt(Bt.top)&&bt(Bt.marginTop)&&(kt.top+=Bt.top-Bt.marginTop),bt(kt.top)&&(kt.bottom=Number(cn)+Number(Bt.top)),bt(kt.left)&&bt(Bt.left)&&bt(Bt.marginLeft)&&(kt.left+=Bt.left-Bt.marginLeft),bt(kt.top)&&(kt.right=Number(Wt)+Number(Bt.left))}else Bt&&(kt=Bt)}return bt(kt.left)&&(kt.left+=qe),bt(kt.top)&&(kt.top+=qe),bt(kt.right)&&(kt.right-=qe),bt(kt.bottom)&&(kt.bottom-=qe),kt}function Ae({width:J,height:Ne}){return J*Ne}function Oe(J,Ne,qe,ot,yt=["top","bottom","right","left"],kt="viewport",Ht=0){if(-1===J.indexOf("auto"))return J;const Gt=ye(qe,ot,Ht,kt),Bt={top:{width:Gt?.width??0,height:(Ne?.top??0)-(Gt?.top??0)},right:{width:(Gt?.right??0)-(Ne?.right??0),height:Gt?.height??0},bottom:{width:Gt?.width??0,height:(Gt?.bottom??0)-(Ne?.bottom??0)},left:{width:(Ne.left??0)-(Gt?.left??0),height:Gt?.height??0}},cn=Object.keys(Bt).map(Pn=>({position:Pn,...Bt[Pn],area:Ae(Bt[Pn])})).sort((Pn,tr)=>tr.area-Pn.area);let Wt=cn.filter(({width:Pn,height:tr})=>Pn>=qe.clientWidth&&tr>=qe.clientHeight);Wt=Wt.filter(({position:Pn})=>yt.some(tr=>tr===Pn));const lr=Wt.length>0?Wt[0].position:cn[0].position,bn=J.split(" ")[1];return qe.className=qe.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,p.Wl)().isBs5?Qe[lr]:lr}`),lr+(bn?`-${bn}`:"")}const Dt=(J,Ne=0)=>J?parseFloat(J):Ne;function ln(J){const qe=J.ownerDocument.defaultView?.getComputedStyle(J),ot=Dt(qe?.marginTop)+Dt(qe?.marginBottom),yt=Dt(qe?.marginLeft)+Dt(qe?.marginRight);return{width:Number(J.offsetWidth)+yt,height:Number(J.offsetHeight)+ot}}function yn(J,Ne,qe){return vr(Ne,qe?Ue(J):fe(J,Ne),qe)}function an(J,Ne,qe){const ot=qe.split(" ")[0],yt=ln(J),kt={width:yt.width,height:yt.height},Ht=-1!==["right","left"].indexOf(ot),Gt=Ht?"top":"left",Bt=Ht?"left":"top",cn=Ht?"height":"width",Wt=Ht?"width":"height";return kt[Gt]=(Ne[Gt]??0)+Ne[cn]/2-yt[cn]/2,kt[Bt]=ot===Bt?(Ne[Bt]??0)-yt[Wt]:Ne[function mt(J){const Ne={left:"right",right:"left",bottom:"top",top:"bottom"};return J.replace(/left|right|bottom|top/g,qe=>Ne[qe])}(Bt)]??0,kt}function nr(J,Ne){return!!J.modifiers[Ne]?.enabled}const zn={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Qn(J,Ne){return!!(0,p.Wl)().isBs5&&zn[Ne].includes(J)}function ur(J,Ne,qe){!J||!Ne||Object.keys(Ne).forEach(ot=>{let yt="";-1!==["width","height","top","right","bottom","left"].indexOf(ot)&&function xt(J){return""!==J&&!isNaN(parseFloat(J))&&isFinite(Number(J))}(Ne[ot])&&(yt="px"),qe?qe.setStyle(J,ot,`${String(Ne[ot])}${yt}`):J.style[ot]=String(Ne[ot])+yt})}function Rr(J){let Ne=J.offsets.target;const qe=J.instance.target.querySelector(".arrow");if(!qe)return J;const ot=-1!==["left","right"].indexOf(J.placement.split(" ")[0]),yt=ot?"height":"width",kt=ot?"Top":"Left",Ht=kt.toLowerCase(),Gt=ot?"left":"top",Bt=ot?"bottom":"right",cn=ln(qe)[yt],Wt=J.placement.split(" ")[1];(J.offsets.host[Bt]??0)-cn<(Ne[Ht]??0)&&(Ne[Ht]-=(Ne[Ht]??0)-((J.offsets.host[Bt]??0)-cn)),Number(J.offsets.host[Ht])+Number(cn)>(Ne[Bt]??0)&&(Ne[Ht]+=Number(J.offsets.host[Ht])+Number(cn)-Number(Ne[Bt])),Ne=Ft(Ne);const lr=dt(J.instance.target),bn=parseFloat(lr[`margin${kt}`])||0,Pn=parseFloat(lr[`border${kt}Width`])||0;let tr;if(Wt){const Tr=parseFloat(lr.borderRadius)||0,Dr=Number(bn+Pn+Tr);tr=Ht===Wt?Number(J.offsets.host[Ht])+Dr:Number(J.offsets.host[Ht])+Number(J.offsets.host[yt]-Dr)}else tr=Number(J.offsets.host[Ht])+Number(J.offsets.host[yt]/2-cn/2);let gr=tr-(Ne[Ht]??0)-bn-Pn;return gr=Math.max(Math.min(Ne[yt]-(cn+5),gr),0),J.offsets.arrow={[Ht]:Math.round(gr),[Gt]:""},J.instance.arrow=qe,J}function wn(J){if(J.offsets.target=Ft(J.offsets.target),!nr(J.options,"flip"))return J.offsets.target={...J.offsets.target,...an(J.instance.target,J.offsets.host,J.placement)},J;const Ne=ye(J.instance.target,J.instance.host,0,"viewport",!1);let qe=J.placement.split(" ")[0],ot=J.placement.split(" ")[1]||"";const Gt=Oe("auto",J.offsets.host,J.instance.target,J.instance.host,J.options.allowedPositions),Bt=[qe,Gt];return Bt.forEach((cn,Wt)=>{if(qe!==cn||Bt.length===Wt+1)return;qe=J.placement.split(" ")[0];const lr="left"===qe&&Math.floor(J.offsets.target.right??0)>Math.floor(J.offsets.host.left??0)||"right"===qe&&Math.floor(J.offsets.target.left??0)<Math.floor(J.offsets.host.right??0)||"top"===qe&&Math.floor(J.offsets.target.bottom??0)>Math.floor(J.offsets.host.top??0)||"bottom"===qe&&Math.floor(J.offsets.target.top??0)<Math.floor(J.offsets.host.bottom??0),bn=Math.floor(J.offsets.target.left??0)<Math.floor(Ne.left??0),Pn=Math.floor(J.offsets.target.right??0)>Math.floor(Ne.right??0),tr=Math.floor(J.offsets.target.top??0)<Math.floor(Ne.top??0),gr=Math.floor(J.offsets.target.bottom??0)>Math.floor(Ne.bottom??0),Tr="left"===qe&&bn||"right"===qe&&Pn||"top"===qe&&tr||"bottom"===qe&&gr,Dr=-1!==["top","bottom"].indexOf(qe),Ir=Dr&&"left"===ot&&bn||Dr&&"right"===ot&&Pn||!Dr&&"left"===ot&&tr||!Dr&&"right"===ot&&gr;(lr||Tr||Ir)&&((lr||Tr)&&(qe=Bt[Wt+1]),Ir&&(ot=function Lt(J){return"right"===J?"left":"left"===J?"right":J}(ot)),J.placement=qe+(ot?` ${ot}`:""),J.offsets.target={...J.offsets.target,...an(J.instance.target,J.offsets.host,J.placement)})}),J}function xn(J){if(!nr(J.options,"preventOverflow"))return J;const Ne="transform",qe=J.instance.target.style,{top:ot,left:yt,[Ne]:kt}=qe;qe.top="",qe.left="",qe[Ne]="";const Ht=ye(J.instance.target,J.instance.host,0,J.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);qe.top=ot,qe.left=yt,qe[Ne]=kt;const Bt={primary(cn){let Wt=J.offsets.target[cn];return(J.offsets.target[cn]??0)<(Ht[cn]??0)&&(Wt=Math.max(J.offsets.target[cn]??0,Ht[cn]??0)),{[cn]:Wt}},secondary(cn){const Wt="right"===cn,lr=Wt?"left":"top";let Pn=J.offsets.target[lr];return(J.offsets.target[cn]??0)>(Ht[cn]??0)&&(Pn=Math.min(J.offsets.target[lr]??0,(Ht[cn]??0)-J.offsets.target[Wt?"width":"height"])),{[lr]:Pn}}};return["left","right","top","bottom"].forEach(cn=>{const Wt=-1!==["left","top","start"].indexOf(cn)?Bt.primary:Bt.secondary;J.offsets.target={...J.offsets.target,...Wt(cn)}}),J}function Cr(J){const Ne=J.placement,qe=Ne.split(" ")[0],ot=Ne.split(" ")[1];if(ot){const{host:yt,target:kt}=J.offsets,Ht=-1!==["bottom","top"].indexOf(qe),Gt=Ht?"left":"top",Bt=Ht?"width":"height",cn={start:{[Gt]:yt[Gt]},end:{[Gt]:(yt[Gt]??0)+yt[Bt]-kt[Bt]}};J.offsets.target={...kt,[Gt]:Gt===ot?cn.start[Gt]:cn.end[Gt]}}return J}const xr=new class Or{position(Ne,qe){return this.offset(Ne,qe)}offset(Ne,qe){return yn(qe,Ne)}positionElements(Ne,qe,ot,yt,kt){const Ht=[wn,Cr,xn,Rr],Bt=function $t(J,Ne,qe,ot){if(!J||!Ne)return;const yt=yn(J,Ne);!qe.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!qe.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(qe="auto");const kt=!!qe.match(/auto/g);let Ht=qe.match(/auto\s(left|right|top|bottom|start|end)/)?qe.split(" ")[1]||"auto":qe;const Gt=Ht.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return Gt&&(Ht=Gt[1]+(Gt[2]?` ${Gt[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(Ht)&&(Ht="auto"),Ht=Oe(Ht,yt,J,Ne,ot?ot.allowedPositions:void 0),{options:ot||{modifiers:{}},instance:{target:J,host:Ne,arrow:void 0},offsets:{target:an(J,yt,Ht),host:yt,arrow:void 0},positionFixed:!1,placement:Ht,placementAuto:kt}}(qe,Ne,_t[ot],kt);if(Bt)return Ht.reduce((cn,Wt)=>Wt(cn),Bt)}};function ci(J,Ne,qe,ot,yt,kt){const Ht=xr.positionElements(J,Ne,qe,ot,yt);if(!Ht)return;const Gt=function ut(J){return{width:J.offsets.target.width,height:J.offsets.target.height,left:Math.floor(J.offsets.target.left??0),top:Math.round(J.offsets.target.top??0),bottom:Math.round(J.offsets.target.bottom??0),right:Math.floor(J.offsets.target.right??0)}}(Ht);ur(Ne,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${Gt.left}px, ${Gt.top}px, 0px)`},kt),Ht.instance.arrow&&ur(Ht.instance.arrow,Ht.offsets.arrow,kt),function pr(J,Ne){const qe=J.instance.target;let ot=qe.className;const yt=(0,p.Wl)().isBs5?Qe[J.placement]:J.placement;J.placementAuto&&(ot=ot.replace(/bs-popover-auto/g,`bs-popover-${yt}`),ot=ot.replace(/ms-2|me-2|mb-2|mt-2/g,""),ot=ot.replace(/bs-tooltip-auto/g,`bs-tooltip-${yt}`),ot=ot.replace(/\sauto/g,` ${yt}`),-1!==ot.indexOf("popover")&&(ot=ot+" "+function hr(J){return(0,p.Wl)().isBs5?Qn(J,"end")?"ms-2":Qn(J,"start")?"me-2":Qn(J,"top")?"mb-2":Qn(J,"bottom")?"mt-2":"":""}(yt)),-1!==ot.indexOf("popover")&&-1===ot.indexOf("popover-auto")&&(ot+=" popover-auto"),-1!==ot.indexOf("tooltip")&&-1===ot.indexOf("tooltip-auto")&&(ot+=" tooltip-auto")),ot=ot.replace(/left|right|top|bottom|end|start/g,`${yt.split(" ")[0]}`),Ne?Ne.setAttribute(qe,"class",ot):qe.className=ot}(Ht,kt)}let er=(()=>{class J{constructor(qe,ot,yt){this.update$$=new $.x,this.positionElements=new Map,this.isDisabled=!1,(0,K.NF)(yt)&&qe.runOutsideAngular(()=>{this.triggerEvent$=(0,Le.T)((0,ke.R)(window,"scroll",{passive:!0}),(0,ke.R)(window,"resize",{passive:!0}),(0,Ye.of)(0,He),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(kt=>{ci(An(kt.target),An(kt.element),kt.attachment,kt.appendToBody,this.options,ot.createRenderer(null,null))})})})}position(qe){this.addPositionElement(qe)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(qe){this.positionElements.set(An(qe.element),qe)}calcPosition(){this.update$$.next(null)}deletePositionElement(qe){this.positionElements.delete(An(qe))}setOptions(qe){this.options=qe}}return J.\u0275fac=function(qe){return new(qe||J)(Z.LFG(Z.R0b),Z.LFG(Z.FYo),Z.LFG(Z.Lbi))},J.\u0275prov=Z.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();function An(J){return"string"==typeof J?document.querySelector(J):J instanceof Z.SBq?J.nativeElement:J??null}},1607:(tn,st,L)=>{L.d(st,{AL:()=>$,C:()=>je,Dc:()=>ht,GU:()=>gn,O4:()=>Fn,Rg:()=>Ye,Wl:()=>Ft,cQ:()=>zt,tj:()=>de,wo:()=>ke});var p=L(4650);class Z{constructor(ge,ye){this.open=ge,this.close=ye||ge}isManual(){return"manual"===this.open||"manual"===this.close}}const K={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function $(Zt,ge=K){const ye=(Zt||"").trim();if(0===ye.length)return[];const Ae=ye.split(/\s+/).map(ut=>ut.split(":")).map(ut=>{const mt=ge[ut[0]]||ut;return new Z(mt[0],mt[1])}),Oe=Ae.filter(ut=>ut.isManual());if(Oe.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Oe.length&&Ae.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return Ae}function ke(Zt,ge){const ye=$(ge.triggers),Ae=ge.target;if(1===ye.length&&ye[0].isManual())return Function.prototype;const Oe=[],ut=[],mt=()=>{ut.forEach(Lt=>Oe.push(Lt())),ut.length=0};return ye.forEach(Lt=>{const Dt=Lt.open===Lt.close,ln=Dt?ge.toggle:ge.show;if(!Dt&&Lt.close&&ge.hide){const yn=Lt.close,an=ge.hide;ut.push(()=>Zt.listen(Ae,yn,an))}ln&&Oe.push(Zt.listen(Ae,Lt.open,()=>ln(mt)))}),()=>{Oe.forEach(Lt=>Lt())}}function Ye(Zt,ge){return ge.outsideClick?Zt.listen("document","click",ye=>{ge.target&&ge.target.contains(ye.target)||ge.targets&&ge.targets.some(Ae=>Ae.contains(ye.target))||ge.hide&&ge.hide()}):Function.prototype}function je(Zt,ge){return ge.outsideEsc?Zt.listen("document","keyup.esc",ye=>{ge.target&&ge.target.contains(ye.target)||ge.targets&&ge.targets.some(Ae=>Ae.contains(ye.target))||ge.hide&&ge.hide()}):Function.prototype}const Ve=typeof window<"u"&&window||{},de=Ve.document;var We=(()=>{return(Zt=We||(We={})).isBs4="bs4",Zt.isBs5="bs5",We;var Zt})();let fe;function Ue(){const Zt=Ve.document.createElement("span");Zt.innerText="testing bs version",Zt.classList.add("d-none"),Zt.classList.add("pl-1"),Ve.document.head.appendChild(Zt);const ge=Ve.getComputedStyle(Zt).paddingLeft;return ge&&parseFloat(ge)?(Ve.document.head.removeChild(Zt),"bs4"):(Ve.document.head.removeChild(Zt),"bs5")}function ht(Zt){fe=Zt}function Ft(){return{isBs4:(fe||(fe=Ue()),"bs4"===fe),isBs5:(fe||(fe=Ue()),"bs5"===fe)}}function gn(){return function(ye,Ae){const Oe=` __${Ae}Value`;Object.defineProperty(ye,Ae,{get(){return this[Oe]},set(ut){const mt=this[Oe];this[Oe]=ut,mt!==ut&&this[Ae+"Change"]&&this[Ae+"Change"].emit(ut)}})}}class zt{static reflow(ge){}static getStyles(ge){let ye=ge.ownerDocument.defaultView;return(!ye||!ye.opener)&&(ye=Ve),ye.getComputedStyle(ge)}static stackOverflowConfig(){const ge=function xt(){const Zt=Ft(),ge=Object.keys(Zt).find(ye=>Zt[ye]);return We[ge]}();return{crossorigin:"anonymous",integrity:"bs5"===ge?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===ge?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}const wr={},vr=typeof console>"u"||!("warn"in console);function Fn(Zt){!(0,p.X6Q)()||vr||Zt in wr||(wr[Zt]=!0,console.warn(Zt))}},5861:(tn,st,L)=>{function p(K,$,Le,ke,Ye,je,Ve){try{var de=K[je](Ve),he=de.value}catch(xe){return void Le(xe)}de.done?$(he):Promise.resolve(he).then(ke,Ye)}function Z(K){return function(){var $=this,Le=arguments;return new Promise(function(ke,Ye){var je=K.apply($,Le);function Ve(he){p(je,ke,Ye,Ve,de,"next",he)}function de(he){p(je,ke,Ye,Ve,de,"throw",he)}Ve(void 0)})}}L.d(st,{Z:()=>Z})},7582:(tn,st,L)=>{function $(ge,ye){var Ae={};for(var Oe in ge)Object.prototype.hasOwnProperty.call(ge,Oe)&&ye.indexOf(Oe)<0&&(Ae[Oe]=ge[Oe]);if(null!=ge&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(Oe=Object.getOwnPropertySymbols(ge);ut<Oe.length;ut++)ye.indexOf(Oe[ut])<0&&Object.prototype.propertyIsEnumerable.call(ge,Oe[ut])&&(Ae[Oe[ut]]=ge[Oe[ut]])}return Ae}function Le(ge,ye,Ae,Oe){var Lt,ut=arguments.length,mt=ut<3?ye:null===Oe?Oe=Object.getOwnPropertyDescriptor(ye,Ae):Oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(ge,ye,Ae,Oe);else for(var Dt=ge.length-1;Dt>=0;Dt--)(Lt=ge[Dt])&&(mt=(ut<3?Lt(mt):ut>3?Lt(ye,Ae,mt):Lt(ye,Ae))||mt);return ut>3&&mt&&Object.defineProperty(ye,Ae,mt),mt}function he(ge,ye){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ge,ye)}function xe(ge,ye,Ae,Oe){return new(Ae||(Ae=Promise))(function(mt,Lt){function Dt(an){try{yn(Oe.next(an))}catch(nr){Lt(nr)}}function ln(an){try{yn(Oe.throw(an))}catch(nr){Lt(nr)}}function yn(an){an.done?mt(an.value):function ut(mt){return mt instanceof Ae?mt:new Ae(function(Lt){Lt(mt)})}(an.value).then(Dt,ln)}yn((Oe=Oe.apply(ge,ye||[])).next())})}function We(ge){return this instanceof We?(this.v=ge,this):new We(ge)}function fe(ge,ye,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Oe=Ae.apply(ge,ye||[]),mt=[];return ut={},Lt("next"),Lt("throw"),Lt("return"),ut[Symbol.asyncIterator]=function(){return this},ut;function Lt(zn){Oe[zn]&&(ut[zn]=function(Qn){return new Promise(function(hr,pr){mt.push([zn,Qn,hr,pr])>1||Dt(zn,Qn)})})}function Dt(zn,Qn){try{!function ln(zn){zn.value instanceof We?Promise.resolve(zn.value.v).then(yn,an):nr(mt[0][2],zn)}(Oe[zn](Qn))}catch(hr){nr(mt[0][3],hr)}}function yn(zn){Dt("next",zn)}function an(zn){Dt("throw",zn)}function nr(zn,Qn){zn(Qn),mt.shift(),mt.length&&Dt(mt[0][0],mt[0][1])}}function ht(ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,ye=ge[Symbol.asyncIterator];return ye?ye.call(ge):(ge=function _t(ge){var ye="function"==typeof Symbol&&Symbol.iterator,Ae=ye&&ge[ye],Oe=0;if(Ae)return Ae.call(ge);if(ge&&"number"==typeof ge.length)return{next:function(){return ge&&Oe>=ge.length&&(ge=void 0),{value:ge&&ge[Oe++],done:!ge}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(ge),Ae={},Oe("next"),Oe("throw"),Oe("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function Oe(mt){Ae[mt]=ge[mt]&&function(Lt){return new Promise(function(Dt,ln){!function ut(mt,Lt,Dt,ln){Promise.resolve(ln).then(function(yn){mt({value:yn,done:Dt})},Lt)}(Dt,ln,(Lt=ge[mt](Lt)).done,Lt.value)})}}}L.d(st,{FC:()=>fe,KL:()=>ht,_T:()=>$,gn:()=>Le,mG:()=>xe,qq:()=>We,w6:()=>he}),"function"==typeof SuppressedError&&SuppressedError}},tn=>{tn(tn.s=4592)}]);